<process name="Nexus - Brugere og organisationer" version="1.0" bpversion="7.3.0.9110" narrative="Håndterer omgangen med brugere og organisationer" byrefcollection="true" processrunningmessage="" disableversioning="false" type="object" runmode="Exclusive" preferredid="2b2ea5ad-117c-416e-b5f0-8b18a87eb73e">
  <appdef>
    <element name="Application Root">
      <id>d16e1d1c-a784-47f2-be4b-288e454b0054</id>
      <type>Application</type>
      <basetype>Application</basetype>
      <datatype>unknown</datatype>
      <diagnose>False</diagnose>
    </element>
  </appdef>
  <view>
    <camerax>-86</camerax>
    <cameray>2</cameray>
    <zoom version="2">1.25</zoom>
  </view>
  <preconditions />
  <endpoint narrative="" />
  <subsheet subsheetid="785d6e84-4931-478d-adf5-4cf25c934141" type="CleanUp" published="True">
    <name>Clean Up</name>
    <view>
      <camerax>0</camerax>
      <cameray>0</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="f2ab2458-493d-4f2e-9d6b-91b257438f1b" type="Normal" published="True">
    <name>Hent organisationer</name>
    <view>
      <camerax>9</camerax>
      <cameray>-9</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="db2b757b-5e46-4159-bc09-048bbca19436" type="Normal" published="True">
    <name>Hent brugerens organisationer</name>
    <view>
      <camerax>9</camerax>
      <cameray>75</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="94c62100-8b67-492c-b936-f11fdabc0563" type="Normal" published="True">
    <name>Hent organisation</name>
    <view>
      <camerax>0</camerax>
      <cameray>0</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="671106d4-e8a3-4a72-8f91-05c52cf59118" type="Normal" published="True">
    <name>Hent borgere tilknyttet organisation</name>
    <view>
      <camerax>0</camerax>
      <cameray>-21</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="c843e7f3-13b3-4ce8-8618-8bd0e614d95f" type="Normal" published="True">
    <name>Hent brugere tilknyttet organisation</name>
    <view>
      <camerax>48</camerax>
      <cameray>189</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="c42c155b-56ed-41c5-83f4-a82d50269c93" type="Normal" published="True">
    <name>Hent bruger</name>
    <view>
      <camerax>311</camerax>
      <cameray>270</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="ed701cd2-4eae-4b91-a2ed-bdeaf54e6516" type="Normal" published="True">
    <name>Opdater brugers STS info</name>
    <view>
      <camerax>0</camerax>
      <cameray>-84</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="33d259f7-cb45-4401-b725-01d2ac0cb72b" type="Normal" published="True">
    <name>Hent brugers organisationer</name>
    <view>
      <camerax>-4</camerax>
      <cameray>120</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="a93ad47a-0bf7-48e6-a3a7-5f72bde4e81e" type="Normal" published="True">
    <name>Hent brugers konfiguration</name>
    <view>
      <camerax>-35</camerax>
      <cameray>120</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="2f69471a-eaed-4fd6-9670-dc9970411be6" type="Normal" published="True">
    <name>Opdater brugers konfiguration</name>
    <view>
      <camerax>55</camerax>
      <cameray>129</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="c5c1ae69-07d5-4a26-adb3-07a2ad170527" type="Normal" published="True">
    <name>Opdater brugers FMK rolle</name>
    <view>
      <camerax>55</camerax>
      <cameray>213</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="473d0583-ee88-4797-9170-8d2964e5ea03" type="Normal" published="True">
    <name>Opdater bruger</name>
    <view>
      <camerax>311</camerax>
      <cameray>15</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="c8c7643a-3065-4f3b-842f-79da33198c33" type="Normal" published="True">
    <name>Tilføj organisation til bruger</name>
    <view>
      <camerax>38</camerax>
      <cameray>137</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="1dab0e8f-c5df-4881-b4c6-75f0a407dfaf" type="Normal" published="True">
    <name>Fjern organisation fra bruger</name>
    <view>
      <camerax>38</camerax>
      <cameray>137</cameray>
      <zoom version="2">1.5625</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="9da8d3af-b2ea-4692-a2b8-99b6fdc07dac" type="Normal" published="True">
    <name>Opret bruger fra STS</name>
    <view>
      <camerax>0</camerax>
      <cameray>126</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="9589fe3b-7809-4a8e-bec5-1044ec2913a1" type="Normal" published="True">
    <name>Hent brugers roller</name>
    <view>
      <camerax>-53</camerax>
      <cameray>189</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="002788e0-4628-41d5-8214-234117f1ee54" type="Normal" published="True">
    <name>Tilføj rolle til bruger</name>
    <view>
      <camerax>311</camerax>
      <cameray>74</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="39f2e740-498b-4bbb-a4be-5126d5a6ffa2" type="Normal" published="True">
    <name>Fjern rolle fra bruger</name>
    <view>
      <camerax>38</camerax>
      <cameray>126</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="a5302fb3-dd47-4061-b166-1dc3e6d20e1d" type="Normal" published="True">
    <name>Hent præferencer</name>
    <view>
      <camerax>311</camerax>
      <cameray>44</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="7a9a5034-382d-4433-b523-c5015cc289e3" type="Normal" published="True">
    <name>Tilknyt borger til organisation</name>
    <view>
      <camerax>150.800049</camerax>
      <cameray>55</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="d7c92207-951f-48fe-b9d9-42fc4f3a0806" type="Normal" published="True">
    <name>Opdater brugers nationale rolle</name>
    <view>
      <camerax>83</camerax>
      <cameray>63</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="27af9e5c-1cc2-46c6-9446-666021bb5d67" type="Normal" published="True">
    <name>Fjern brugers nationale rolle</name>
    <view>
      <camerax>52</camerax>
      <cameray>63</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="d955f7b9-b8d7-4b94-bb00-bad85994c078" type="Normal" published="True">
    <name>Hent borgers organisationer</name>
    <view>
      <camerax>-54</camerax>
      <cameray>177</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="8c3f8a07-18c6-49b4-9793-b9c63086f744" type="Normal" published="True">
    <name>Opdater borgers organisationsrelation</name>
    <view>
      <camerax>150.800049</camerax>
      <cameray>0</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="0dd94de1-a93f-4fd6-a61a-fe43f21d8336" type="Normal" published="True">
    <name>Hent brugerreferencer tilknyttet forløb</name>
    <view>
      <camerax>458</camerax>
      <cameray>242</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="7b1974dd-1620-4b73-95f4-17d7306c42cc" type="Normal" published="True">
    <name>Tilknyt bruger til forløb</name>
    <view>
      <camerax>0</camerax>
      <cameray>231</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="fdf0a33d-47cf-4f05-9352-eee263723978" type="Normal" published="True">
    <name>Hent bruger (via reference)</name>
    <view>
      <camerax>0</camerax>
      <cameray>0</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="5704d0f4-6385-4333-ac38-e1f566aee4c8" type="Normal" published="True">
    <name>Fjern brugerreference fra forløb</name>
    <view>
      <camerax>0</camerax>
      <cameray>0</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <stage stageid="65603f0b-3321-4b1d-9674-9a3192a9700d" name="Start" type="Start">
    <loginhibit />
    <display x="15" y="-105" />
    <onsuccess>6e817186-a8fb-47c5-a56f-a3f966f3229b</onsuccess>
  </stage>
  <stage stageid="6e817186-a8fb-47c5-a56f-a3f966f3229b" name="End" type="End">
    <loginhibit />
    <display x="15" y="90" />
  </stage>
  <stage stageid="bc66f3a2-6f30-493d-b65a-1a59d48101a6" name="Stage1" type="ProcessInfo">
    <display x="-195" y="-105" w="150" h="90" />
    <references>
      <reference>System.dll</reference>
      <reference>System.Data.dll</reference>
      <reference>System.Xml.dll</reference>
      <reference>System.Drawing.dll</reference>
      <reference>Newtonsoft.Json.dll</reference>
      <reference>System.Core.dll</reference>
    </references>
    <imports>
      <import>System</import>
      <import>System.Drawing</import>
      <import>System.Data</import>
      <import>Newtonsoft.Json.Linq</import>
      <import>Newtonsoft.Json</import>
      <import>System.Linq</import>
      <import>System.Collections.Generic</import>
    </imports>
    <language>csharp</language>
    <globalcode><![CDATA[]]></globalcode>
    <code><![CDATA[]]></code>
  </stage>
  <stage stageid="bd9bdf41-5e0d-40af-a967-ffb21e008ec2" name="Clean Up" type="SubSheetInfo">
    <subsheetid>785d6e84-4931-478d-adf5-4cf25c934141</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="af7e5952-293b-470f-8880-fdca71d0ba62" name="Start" type="Start">
    <subsheetid>785d6e84-4931-478d-adf5-4cf25c934141</subsheetid>
    <loginhibit />
    <display x="15" y="-105" />
    <onsuccess>7f525917-1f5d-4c7d-9224-ddc70c37018c</onsuccess>
  </stage>
  <stage stageid="7f525917-1f5d-4c7d-9224-ddc70c37018c" name="End" type="End">
    <subsheetid>785d6e84-4931-478d-adf5-4cf25c934141</subsheetid>
    <loginhibit />
    <display x="15" y="90" />
  </stage>
  <stage stageid="ab5bb5ce-3117-431b-bc37-192840dda84b" name="Hent organisationer" type="SubSheetInfo">
    <subsheetid>f2ab2458-493d-4f2e-9d6b-91b257438f1b</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="576bbb89-d0f4-41b9-a88d-61053ba3f242" name="Start" type="Start">
    <subsheetid>f2ab2458-493d-4f2e-9d6b-91b257438f1b</subsheetid>
    <loginhibit />
    <display x="15" y="-120" />
    <onsuccess>4d0f3ac6-bd2e-487b-bb3d-34e5d57e845b</onsuccess>
  </stage>
  <stage stageid="ab6bc7c9-c14f-47a2-b62e-b492cdccc252" name="End" type="End">
    <subsheetid>f2ab2458-493d-4f2e-9d6b-91b257438f1b</subsheetid>
    <loginhibit />
    <display x="15" y="60" />
    <outputs>
      <output type="collection" name="Organisationer" stage="Organisationer" />
      <output type="number" name="Antal" stage="Antal" />
    </outputs>
  </stage>
  <stage stageid="087898d6-afc6-49db-9440-2119a5962703" name="Hent api url" type="Action">
    <subsheetid>f2ab2458-493d-4f2e-9d6b-91b257438f1b</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-45" />
    <inputs>
      <input type="text" name="Navn" friendlyname="Navn" narrative="navn på det globale rod api" expr="&quot;organizations&quot;" />
    </inputs>
    <outputs>
      <output type="text" name="Url" friendlyname="Url" stage="Url" />
    </outputs>
    <onsuccess>73a8fa05-7844-46f6-9f7c-9d10d28d1262</onsuccess>
    <resource object="Nexus - Core" action="Api url" />
  </stage>
  <stage stageid="73a8fa05-7844-46f6-9f7c-9d10d28d1262" name="Hent organisationer" type="Action">
    <subsheetid>f2ab2458-493d-4f2e-9d6b-91b257438f1b</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="0" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Url]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Organisationer" />
      <output type="number" name="Antal" friendlyname="Antal" stage="Antal" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>ab6bc7c9-c14f-47a2-b62e-b492cdccc252</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="32c9e75a-7082-467c-b430-e5fa28e7b85b" name="Input" type="Block">
    <subsheetid>f2ab2458-493d-4f2e-9d6b-91b257438f1b</subsheetid>
    <display x="-270" y="-45" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="a5bc339e-0edb-416d-9e4d-65d308935406" name="Variabler" type="Block">
    <subsheetid>f2ab2458-493d-4f2e-9d6b-91b257438f1b</subsheetid>
    <display x="-270" y="75" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="ccdf2674-aab6-4be1-a3cb-7d4e5276317a" name="Konstanter" type="Block">
    <subsheetid>f2ab2458-493d-4f2e-9d6b-91b257438f1b</subsheetid>
    <display x="-270" y="15" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="652d7398-1f7a-4c69-a3d0-e6254fadbb64" name="Output" type="Block">
    <subsheetid>f2ab2458-493d-4f2e-9d6b-91b257438f1b</subsheetid>
    <display x="-270" y="150" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="74fcdc31-f6db-46df-a8a2-4a78c9533a4b" name="Url" type="Data">
    <subsheetid>f2ab2458-493d-4f2e-9d6b-91b257438f1b</subsheetid>
    <display x="-195" y="105" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="ab93fa2d-a94a-42c0-a171-5b5a179b780e" name="Antal" type="Data">
    <subsheetid>f2ab2458-493d-4f2e-9d6b-91b257438f1b</subsheetid>
    <display x="-195" y="225" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="16fddc70-09cc-48ea-9983-3730298e545c" name="Organisationer" type="Collection">
    <subsheetid>f2ab2458-493d-4f2e-9d6b-91b257438f1b</subsheetid>
    <display x="-195" y="180" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="832e6c42-a05d-45f6-acd1-34f44291ac89" name="Hent organisationer" type="Block">
    <subsheetid>f2ab2458-493d-4f2e-9d6b-91b257438f1b</subsheetid>
    <loginhibit />
    <display x="-90" y="-75" w="225" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="f229cba7-20d8-46e8-9267-290c7faea497" name="Input" type="Block">
    <display x="-270" y="-45" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="8bbb6a1a-53bb-40a9-8218-75289d476eb3" name="Variabler" type="Block">
    <display x="-270" y="75" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="9d410b6b-f079-49f3-9884-7fed40e53ebd" name="Konstanter" type="Block">
    <display x="-270" y="15" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="b3aba345-b77b-4f6a-a08c-0b4d5f090c53" name="Output" type="Block">
    <display x="-270" y="135" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="12442a14-0d61-4b6f-9b4b-d94433097553" name="Nexus - Core::Start" type="Action">
    <subsheetid>f2ab2458-493d-4f2e-9d6b-91b257438f1b</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="120" y="-165" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - produktion&quot;" />
    </inputs>
    <onsuccess>d276e1bc-c811-41bf-99a5-5626458fa8ad</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="768268a6-524f-45d8-ba8c-690ef70fb2d6" name="Debug" type="Block">
    <subsheetid>f2ab2458-493d-4f2e-9d6b-91b257438f1b</subsheetid>
    <loginhibit />
    <display x="75" y="-195" w="90" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
  </stage>
  <stage stageid="d276e1bc-c811-41bf-99a5-5626458fa8ad" name="Anchor4" type="Anchor">
    <subsheetid>f2ab2458-493d-4f2e-9d6b-91b257438f1b</subsheetid>
    <loginhibit />
    <display x="120" y="-90" w="10" h="10" />
    <onsuccess>4d0f3ac6-bd2e-487b-bb3d-34e5d57e845b</onsuccess>
  </stage>
  <stage stageid="4d0f3ac6-bd2e-487b-bb3d-34e5d57e845b" name="Anchor1" type="Anchor">
    <subsheetid>f2ab2458-493d-4f2e-9d6b-91b257438f1b</subsheetid>
    <loginhibit />
    <display x="15" y="-90" w="10" h="10" />
    <onsuccess>087898d6-afc6-49db-9440-2119a5962703</onsuccess>
  </stage>
  <stage stageid="470bb50c-220b-4ab0-a58f-15879bab21a0" name="Hent borgere tilknyttet organisation" type="SubSheetInfo">
    <subsheetid>671106d4-e8a3-4a72-8f91-05c52cf59118</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="aa6c68ae-3a20-4f7b-9d05-5a96d305982c" name="Start" type="Start">
    <subsheetid>671106d4-e8a3-4a72-8f91-05c52cf59118</subsheetid>
    <loginhibit />
    <display x="15" y="-105" />
    <inputs>
      <input type="collection" name="Organisation" stage="Organisation" />
    </inputs>
    <onsuccess>0c4a424a-aeb5-4376-8bc1-056fbbf3bdc3</onsuccess>
  </stage>
  <stage stageid="de06453d-5f52-47b4-821b-b8debcd03c46" name="End" type="End">
    <subsheetid>671106d4-e8a3-4a72-8f91-05c52cf59118</subsheetid>
    <loginhibit />
    <display x="15" y="105" />
    <outputs>
      <output type="collection" name="Borgere" stage="Borgere" />
      <output type="number" name="Antal" stage="Antal" />
    </outputs>
  </stage>
  <stage stageid="3cf15f4c-652f-4467-83db-65e13cbf6e50" name="Input" type="Block">
    <subsheetid>671106d4-e8a3-4a72-8f91-05c52cf59118</subsheetid>
    <display x="-270" y="-45" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="4325799c-2e01-4149-bb71-98029ac8a6d9" name="Variabler" type="Block">
    <subsheetid>671106d4-e8a3-4a72-8f91-05c52cf59118</subsheetid>
    <display x="-270" y="90" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="f4acbf4b-12e6-4e27-88ef-57a4a7bf1634" name="Konstanter" type="Block">
    <subsheetid>671106d4-e8a3-4a72-8f91-05c52cf59118</subsheetid>
    <display x="-270" y="30" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="2b096f74-3e99-49d9-a207-a4bbbdea28aa" name="Output" type="Block">
    <subsheetid>671106d4-e8a3-4a72-8f91-05c52cf59118</subsheetid>
    <display x="-270" y="150" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="df83ad3c-b413-4087-8574-d532b310c086" name="Organisation" type="Collection">
    <subsheetid>671106d4-e8a3-4a72-8f91-05c52cf59118</subsheetid>
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="0d859381-2a71-483c-a491-46c09354df48" name="Nexus - Core::Start" type="Action">
    <subsheetid>671106d4-e8a3-4a72-8f91-05c52cf59118</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="105" y="-225" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - produktion&quot;" />
    </inputs>
    <onsuccess>29c8807d-b3a3-492d-80bd-eec9fffee6df</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="26bb2074-82db-43f3-9236-7739ef6801d5" name="Debug" type="Block">
    <subsheetid>671106d4-e8a3-4a72-8f91-05c52cf59118</subsheetid>
    <loginhibit />
    <display x="60" y="-255" w="165" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
  </stage>
  <stage stageid="aa0d9f6d-7988-4955-b2e9-a1aeea867861" name="Anchor4" type="Anchor">
    <subsheetid>671106d4-e8a3-4a72-8f91-05c52cf59118</subsheetid>
    <loginhibit />
    <display x="105" y="-75" w="10" h="10" />
    <onsuccess>0c4a424a-aeb5-4376-8bc1-056fbbf3bdc3</onsuccess>
  </stage>
  <stage stageid="0c4a424a-aeb5-4376-8bc1-056fbbf3bdc3" name="Anchor2" type="Anchor">
    <subsheetid>671106d4-e8a3-4a72-8f91-05c52cf59118</subsheetid>
    <loginhibit />
    <display x="15" y="-75" w="10" h="10" />
    <onsuccess>3d7acae1-0b32-4d2e-88a4-0f35fb477894</onsuccess>
  </stage>
  <stage stageid="3d7acae1-0b32-4d2e-88a4-0f35fb477894" name="Sikre en komplet organisation" type="Action">
    <subsheetid>671106d4-e8a3-4a72-8f91-05c52cf59118</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-30" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Organisation._links.self]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Organisation" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>4c98392a-285f-40f4-ab3e-cc961f4d0c60</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="fc6493fb-d7bf-45a1-97bf-5e7db46255c0" name="Sikre organisation" type="Block">
    <subsheetid>671106d4-e8a3-4a72-8f91-05c52cf59118</subsheetid>
    <loginhibit />
    <display x="-90" y="-60" w="240" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="4c98392a-285f-40f4-ab3e-cc961f4d0c60" name="Hent borgere" type="Action">
    <subsheetid>671106d4-e8a3-4a72-8f91-05c52cf59118</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="45" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Organisation._links.patients]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Borgere" />
      <output type="number" name="Antal" friendlyname="Antal" stage="Antal" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>de06453d-5f52-47b4-821b-b8debcd03c46</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="c45337f6-dbf3-4ff7-a07b-a65df80187c0" name="Hent patienter" type="Block">
    <subsheetid>671106d4-e8a3-4a72-8f91-05c52cf59118</subsheetid>
    <loginhibit />
    <display x="-90" y="15" w="240" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="61de60cf-26fb-4439-adad-cb286f06dc95" name="Antal" type="Data">
    <subsheetid>671106d4-e8a3-4a72-8f91-05c52cf59118</subsheetid>
    <display x="-195" y="225" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="12c6f6e0-9933-4854-8783-bd6bcb15c124" name="Borgere" type="Collection">
    <subsheetid>671106d4-e8a3-4a72-8f91-05c52cf59118</subsheetid>
    <display x="-195" y="180" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="29c8807d-b3a3-492d-80bd-eec9fffee6df" name="Hent organisationer" type="SubSheet">
    <subsheetid>671106d4-e8a3-4a72-8f91-05c52cf59118</subsheetid>
    <loginhibit />
    <display x="105" y="-180" />
    <outputs>
      <output type="collection" name="Organisationer" friendlyname="Organisationer" stage="Organisationer" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
    </outputs>
    <onsuccess>e655ce9b-84e8-42ff-a801-6c2228f5be68</onsuccess>
    <processid>f2ab2458-493d-4f2e-9d6b-91b257438f1b</processid>
  </stage>
  <stage stageid="e655ce9b-84e8-42ff-a801-6c2228f5be68" name="Vælg en" type="Action">
    <subsheetid>671106d4-e8a3-4a72-8f91-05c52cf59118</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="105" y="-135" />
    <inputs>
      <input type="collection" name="Collection In" friendlyname="Collection In" narrative="Input collection" expr="[Organisationer]" />
      <input type="text" name="Filter" friendlyname="Filter" narrative="The filter to apply" expr="&quot;[name]='Fællesboligerne - Lille Glasvej'&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The amount of rows in the filtered collection" stage="" />
      <output type="collection" name="Collection Out" friendlyname="Collection Out" narrative="The filtered collection" stage="Organisation" />
    </outputs>
    <onsuccess>aa0d9f6d-7988-4955-b2e9-a1aeea867861</onsuccess>
    <resource object="Utility - Odk Linq" action="Filter" />
  </stage>
  <stage stageid="7c86e5b9-ad34-4351-8814-39ef4fbedf36" name="Organisationer" type="Collection">
    <subsheetid>671106d4-e8a3-4a72-8f91-05c52cf59118</subsheetid>
    <display x="180" y="-180" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="5679584e-79ee-4adf-98cf-d17f38f0cba0" name="Tilknyt borger til organisation" type="SubSheetInfo">
    <subsheetid>7a9a5034-382d-4433-b523-c5015cc289e3</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="42b16668-6acb-4796-8019-f66ac89e6fd5" name="End" type="End">
    <subsheetid>7a9a5034-382d-4433-b523-c5015cc289e3</subsheetid>
    <loginhibit />
    <display x="15" y="90" />
    <outputs>
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="536576b6-aa80-4c36-88ad-c8c84c3760fc" name="Input" type="Block">
    <subsheetid>7a9a5034-382d-4433-b523-c5015cc289e3</subsheetid>
    <display x="-270" y="-45" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="152d191d-aab1-4835-b7e5-37940bac84aa" name="Variabler" type="Block">
    <subsheetid>7a9a5034-382d-4433-b523-c5015cc289e3</subsheetid>
    <display x="-270" y="135" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="62370bcd-8f82-4694-a7fe-36e1b1ac550b" name="Konstanter" type="Block">
    <subsheetid>7a9a5034-382d-4433-b523-c5015cc289e3</subsheetid>
    <display x="-270" y="75" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="7e75f01d-f157-4b29-a373-4cdb5ec22964" name="Output" type="Block">
    <subsheetid>7a9a5034-382d-4433-b523-c5015cc289e3</subsheetid>
    <display x="-270" y="210" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="3370008a-5fea-4f71-bd63-419c0189fc94" name="Organisation" type="Collection">
    <subsheetid>7a9a5034-382d-4433-b523-c5015cc289e3</subsheetid>
    <display x="-195" y="30" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="e0437dac-3486-407a-8296-80ea09f45ce9" name="Borger" type="Collection">
    <subsheetid>7a9a5034-382d-4433-b523-c5015cc289e3</subsheetid>
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="780f147d-54f6-4ced-a8d0-806cb4c6d967" name="Start" type="Start">
    <subsheetid>7a9a5034-382d-4433-b523-c5015cc289e3</subsheetid>
    <loginhibit />
    <display x="15" y="-105" />
    <inputs>
      <input type="collection" name="Borger" stage="Borger" />
      <input type="collection" name="Organisation" stage="Organisation" />
    </inputs>
    <onsuccess>1525af8d-9a8c-4938-8002-98404e038303</onsuccess>
  </stage>
  <stage stageid="fa889cec-6f99-4fd6-909d-bc95d9522295" name="Nexus - Core::Start" type="Action">
    <subsheetid>7a9a5034-382d-4433-b523-c5015cc289e3</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="165" y="-240" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - produktion&quot;" />
    </inputs>
    <onsuccess>7a115296-4edf-464a-9a23-7024e8457039</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="9ee94320-5a48-4b2c-a808-513cb559c40b" name="Debug" type="Block">
    <subsheetid>7a9a5034-382d-4433-b523-c5015cc289e3</subsheetid>
    <loginhibit />
    <display x="120" y="-270" w="165" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
  </stage>
  <stage stageid="df5b39a3-7289-44be-b05f-76f83231e130" name="Anchor4" type="Anchor">
    <subsheetid>7a9a5034-382d-4433-b523-c5015cc289e3</subsheetid>
    <loginhibit />
    <display x="165" y="-45" w="10" h="10" />
    <onsuccess>1525af8d-9a8c-4938-8002-98404e038303</onsuccess>
  </stage>
  <stage stageid="f8030e36-7eac-4566-b772-143f7b6be255" name="Hent organisationer" type="SubSheet">
    <subsheetid>7a9a5034-382d-4433-b523-c5015cc289e3</subsheetid>
    <loginhibit />
    <display x="165" y="-150" />
    <outputs>
      <output type="collection" name="Organisationer" friendlyname="Organisationer" stage="Organisationer" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
    </outputs>
    <onsuccess>b49b9aaa-23f6-45d7-9fce-17602c0f619d</onsuccess>
    <processid>f2ab2458-493d-4f2e-9d6b-91b257438f1b</processid>
  </stage>
  <stage stageid="b49b9aaa-23f6-45d7-9fce-17602c0f619d" name="Vælg en" type="Action">
    <subsheetid>7a9a5034-382d-4433-b523-c5015cc289e3</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="165" y="-105" />
    <inputs>
      <input type="collection" name="Collection In" friendlyname="Collection In" narrative="Input collection" expr="[Organisationer]" />
      <input type="text" name="Filter" friendlyname="Filter" narrative="The filter to apply" expr="&quot;[name]='Fællesboligerne - Lille Glasvej'&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The amount of rows in the filtered collection" stage="" />
      <output type="collection" name="Collection Out" friendlyname="Collection Out" narrative="The filtered collection" stage="Organisation" />
    </outputs>
    <onsuccess>df5b39a3-7289-44be-b05f-76f83231e130</onsuccess>
    <resource object="Utility - Odk Linq" action="Filter" />
  </stage>
  <stage stageid="3519df6b-dca1-4a8a-9513-8f340ce781ed" name="Organisationer" type="Collection">
    <subsheetid>7a9a5034-382d-4433-b523-c5015cc289e3</subsheetid>
    <display x="240" y="-150" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="7a115296-4edf-464a-9a23-7024e8457039" name="Hent borger" type="Action">
    <subsheetid>7a9a5034-382d-4433-b523-c5015cc289e3</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="165" y="-195" />
    <inputs>
      <input type="text" name="Cpr" friendlyname="Cpr" expr="&quot;xxxxxxxxxx&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Borger" friendlyname="Borger" stage="Borger" />
    </outputs>
    <onsuccess>f8030e36-7eac-4566-b772-143f7b6be255</onsuccess>
    <resource object="Nexus - Borgere og forløb" action="Hent borger" />
  </stage>
  <stage stageid="1525af8d-9a8c-4938-8002-98404e038303" name="Anchor3" type="Anchor">
    <subsheetid>7a9a5034-382d-4433-b523-c5015cc289e3</subsheetid>
    <loginhibit />
    <display x="15" y="-45" w="10" h="10" />
    <onsuccess>f6b0397a-6588-48cd-977b-f4e76529b353</onsuccess>
  </stage>
  <stage stageid="f6b0397a-6588-48cd-977b-f4e76529b353" name="Nexus - Core::Put" type="Action">
    <subsheetid>7a9a5034-382d-4433-b523-c5015cc289e3</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="0" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Borger._links.patientOrganizations] &amp; &quot;/&quot; &amp; [Organisation.id]" />
      <input type="text" name="Body" friendlyname="Body" expr="&quot;&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>65191ee9-21d3-4615-b7dc-62ad90eec0b9</onsuccess>
    <resource object="Nexus - Core" action="Put" />
  </stage>
  <stage stageid="9f815488-bb1d-47e2-97ae-0eb028e62615" name="Statuskode" type="Data">
    <subsheetid>7a9a5034-382d-4433-b523-c5015cc289e3</subsheetid>
    <display x="-195" y="165" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="d46e075c-267a-4b45-ae56-31d827712373" name="Hent præferencer" type="SubSheetInfo">
    <subsheetid>a5302fb3-dd47-4061-b166-1dc3e6d20e1d</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="3ce9dfb1-df50-4470-8f7d-aab1c902d3b3" name="Start" type="Start">
    <subsheetid>a5302fb3-dd47-4061-b166-1dc3e6d20e1d</subsheetid>
    <loginhibit />
    <display x="15" y="-105" />
    <onsuccess>068aac23-3b22-499f-a002-c214a620e062</onsuccess>
  </stage>
  <stage stageid="51932258-f414-4ba8-ba18-25bf65047233" name="End" type="End">
    <subsheetid>a5302fb3-dd47-4061-b166-1dc3e6d20e1d</subsheetid>
    <loginhibit />
    <display x="15" y="45" />
    <outputs>
      <output type="collection" name="Præferencer" stage="Præferencer" />
      <output type="text" name="Præferencer (json)" stage="Præferencer (json)" />
    </outputs>
  </stage>
  <stage stageid="7c613fe5-25b2-448f-b2d6-7bb26ca1131d" name="Input" type="Block">
    <subsheetid>a5302fb3-dd47-4061-b166-1dc3e6d20e1d</subsheetid>
    <display x="-270" y="-45" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="639a9b9c-58c3-44ed-a739-f17ebf840f21" name="Variabler" type="Block">
    <subsheetid>a5302fb3-dd47-4061-b166-1dc3e6d20e1d</subsheetid>
    <display x="-270" y="75" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="6953eeec-a354-42c9-87bd-b74699e1d42e" name="Konstanter" type="Block">
    <subsheetid>a5302fb3-dd47-4061-b166-1dc3e6d20e1d</subsheetid>
    <display x="-270" y="15" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="1f3087f6-5b21-4038-bcdb-cebbbf09a560" name="Output" type="Block">
    <subsheetid>a5302fb3-dd47-4061-b166-1dc3e6d20e1d</subsheetid>
    <display x="-270" y="150" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="068aac23-3b22-499f-a002-c214a620e062" name="Hent præference url" type="Action">
    <subsheetid>a5302fb3-dd47-4061-b166-1dc3e6d20e1d</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-45" />
    <inputs>
      <input type="text" name="Navn" friendlyname="Navn" narrative="navn på det globale rod api" expr="&quot;preferences&quot;" />
    </inputs>
    <outputs>
      <output type="text" name="Url" friendlyname="Url" stage="Url" />
    </outputs>
    <onsuccess>5e5c5045-07bd-41e0-90b9-307ac7acd4f1</onsuccess>
    <resource object="Nexus - Core" action="Api url" />
  </stage>
  <stage stageid="14df2135-f63e-47ff-9012-195dfef4f3a2" name="Url" type="Data">
    <subsheetid>a5302fb3-dd47-4061-b166-1dc3e6d20e1d</subsheetid>
    <display x="-195" y="105" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="5e5c5045-07bd-41e0-90b9-307ac7acd4f1" name="Nexus - Core::Get (prefs)" type="Action">
    <subsheetid>a5302fb3-dd47-4061-b166-1dc3e6d20e1d</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="0" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Url]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Præferencer" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="Præferencer (json)" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>51932258-f414-4ba8-ba18-25bf65047233</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="39b2852a-5fbe-429e-8fa5-1d309cbe4024" name="Præferencer (json)" type="Data">
    <subsheetid>a5302fb3-dd47-4061-b166-1dc3e6d20e1d</subsheetid>
    <display x="-195" y="180" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="e86919c6-624b-45c4-953a-2f230b4cc407" name="Præferencer" type="Collection">
    <subsheetid>a5302fb3-dd47-4061-b166-1dc3e6d20e1d</subsheetid>
    <display x="-195" y="225" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="22f3a689-d664-474a-b0d6-db428a4619dc" name="Hent organisation" type="SubSheetInfo">
    <subsheetid>94c62100-8b67-492c-b936-f11fdabc0563</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="ff934e8e-da87-4ae3-969c-0dacb7d152cf" name="Start" type="Start">
    <subsheetid>94c62100-8b67-492c-b936-f11fdabc0563</subsheetid>
    <loginhibit />
    <display x="15" y="-105" />
    <inputs>
      <input type="text" name="Organisation" stage="Organisation" />
    </inputs>
    <onsuccess>78506e49-9989-4524-8971-2a87a02840a5</onsuccess>
  </stage>
  <stage stageid="89dd9dce-868a-4366-a961-c85cd4a07297" name="End" type="End">
    <subsheetid>94c62100-8b67-492c-b936-f11fdabc0563</subsheetid>
    <loginhibit />
    <display x="15" y="105" />
    <outputs>
      <output type="collection" name="Organisation" stage="Organisationer" />
    </outputs>
  </stage>
  <stage stageid="3c714f62-1268-4bf3-82ca-2a1958b5ba14" name="Input" type="Block">
    <subsheetid>94c62100-8b67-492c-b936-f11fdabc0563</subsheetid>
    <display x="-270" y="-45" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="eefb94f6-984b-4e8b-b22f-6d8666bdca8f" name="Variabler" type="Block">
    <subsheetid>94c62100-8b67-492c-b936-f11fdabc0563</subsheetid>
    <display x="-270" y="90" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="428f886a-45c3-4720-853b-6c5b1f0bb776" name="Konstanter" type="Block">
    <subsheetid>94c62100-8b67-492c-b936-f11fdabc0563</subsheetid>
    <display x="-270" y="30" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="4f43ef92-669f-498c-a6b3-538266d7072e" name="Output" type="Block">
    <subsheetid>94c62100-8b67-492c-b936-f11fdabc0563</subsheetid>
    <display x="-270" y="150" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="ed156901-81bc-437b-8e49-2ad82a60648d" name="Antal" type="Data">
    <subsheetid>94c62100-8b67-492c-b936-f11fdabc0563</subsheetid>
    <display x="-195" y="225" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="464d35d4-2c09-4ed6-86cc-a8acdfa03a97" name="Organisationer" type="Collection">
    <subsheetid>94c62100-8b67-492c-b936-f11fdabc0563</subsheetid>
    <display x="-195" y="180" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="baa80303-c7b2-4fc3-b61e-d461f8320989" name="Organisation" type="Data">
    <subsheetid>94c62100-8b67-492c-b936-f11fdabc0563</subsheetid>
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="78506e49-9989-4524-8971-2a87a02840a5" name="Hent organisationer" type="SubSheet">
    <subsheetid>94c62100-8b67-492c-b936-f11fdabc0563</subsheetid>
    <loginhibit />
    <display x="15" y="-45" />
    <outputs>
      <output type="collection" name="Organisationer" friendlyname="Organisationer" stage="Organisationer" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
    </outputs>
    <onsuccess>8a35ba64-77ed-4363-ba35-d732f4601523</onsuccess>
    <processid>f2ab2458-493d-4f2e-9d6b-91b257438f1b</processid>
  </stage>
  <stage stageid="8a35ba64-77ed-4363-ba35-d732f4601523" name="Filtrer" type="Action">
    <subsheetid>94c62100-8b67-492c-b936-f11fdabc0563</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="0" />
    <inputs>
      <input type="collection" name="Collection In" friendlyname="Collection In" narrative="Input collection" expr="[Organisationer]" />
      <input type="text" name="Filter" friendlyname="Filter" narrative="The filter to apply" expr="&quot;[name]='&quot; &amp; [Organisation] &amp; &quot;'&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The amount of rows in the filtered collection" stage="Antal" />
      <output type="collection" name="Collection Out" friendlyname="Collection Out" narrative="The filtered collection" stage="Organisationer" />
    </outputs>
    <onsuccess>94e0072b-8051-4c79-b067-4c5abea24bbe</onsuccess>
    <resource object="Utility - Odk Linq" action="Filter" />
  </stage>
  <stage stageid="fc60a940-6795-43ef-93d4-ec115026f152" name="Hent og filtrer" type="Block">
    <subsheetid>94c62100-8b67-492c-b936-f11fdabc0563</subsheetid>
    <loginhibit />
    <display x="-75" y="-75" w="195" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="94e0072b-8051-4c79-b067-4c5abea24bbe" name="Antal  = 1" type="Decision">
    <subsheetid>94c62100-8b67-492c-b936-f11fdabc0563</subsheetid>
    <loginhibit />
    <display x="15" y="45" />
    <decision expression="[Antal] = 1" />
    <ontrue>89dd9dce-868a-4366-a961-c85cd4a07297</ontrue>
    <onfalse>5bdff955-a76c-450b-b22a-b6fb3389d01c</onfalse>
  </stage>
  <stage stageid="5bdff955-a76c-450b-b22a-b6fb3389d01c" name="Ingen organisation" type="Exception">
    <subsheetid>94c62100-8b67-492c-b936-f11fdabc0563</subsheetid>
    <display x="180" y="45" />
    <exception localized="yes" type="Business Exception" detail="&quot;Organisationen blev ikke fundet: &quot; &amp; [Organisation]" />
  </stage>
  <stage stageid="137264b1-5b80-4064-a1e9-867e67586de7" name="Hent brugere tilknyttet organisation" type="SubSheetInfo">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="a6b41dc6-ed78-4960-b47a-91355d3737f1" name="Start" type="Start">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit />
    <display x="0" y="-105" />
    <inputs>
      <input type="collection" name="Organisation" stage="Organisation" />
    </inputs>
    <onsuccess>194daaab-6339-446d-8647-0dc7def3f99e</onsuccess>
  </stage>
  <stage stageid="ab53efcb-ac38-4951-b32e-5af8f74f8e1f" name="End" type="End">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit />
    <display x="0" y="495" />
    <outputs>
      <output type="collection" name="Medarbejdere" stage="Resultat" />
      <output type="number" name="Antal" stage="Antal" />
    </outputs>
  </stage>
  <stage stageid="a67324da-9dc4-492d-9f9a-bc58ca2c21f5" name="Input" type="Block">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <display x="-270" y="-45" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="7fe638f7-3e5e-4355-b50d-827b1ccaa5c7" name="Variabler" type="Block">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <display x="-270" y="90" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="ea85e909-d567-4492-b482-c03e34a3715b" name="Konstanter" type="Block">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <display x="-270" y="30" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="3321d57d-162a-47d8-8233-4873ba17b1ed" name="Output" type="Block">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <display x="-270" y="210" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="465c0984-96de-4e01-8bbd-ecb8a98068cc" name="Organisation" type="Collection">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="35fb42b0-c688-4472-aab0-499986cd69a9" name="Nexus - Core::Start" type="Action">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="105" y="-225" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - produktion&quot;" />
    </inputs>
    <onsuccess>04193c6e-e090-4d81-9083-663483b37e55</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="3d676cf2-3e90-4fdd-8d4a-a151d567053d" name="Debug" type="Block">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit />
    <display x="60" y="-255" w="165" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
  </stage>
  <stage stageid="f8556567-59f5-43af-8465-fd1cebc84bed" name="Anchor4" type="Anchor">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit />
    <display x="105" y="-75" w="10" h="10" />
    <onsuccess>194daaab-6339-446d-8647-0dc7def3f99e</onsuccess>
  </stage>
  <stage stageid="194daaab-6339-446d-8647-0dc7def3f99e" name="Anchor2" type="Anchor">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit />
    <display x="0" y="-75" w="10" h="10" />
    <onsuccess>f008b713-1586-48c6-9c35-ad4cd4f8ab0c</onsuccess>
  </stage>
  <stage stageid="f008b713-1586-48c6-9c35-ad4cd4f8ab0c" name="Sikre en komplet organisation" type="Action">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-30" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Organisation._links.self]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Organisation" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>4598c671-5519-45be-b3f4-bbc85d0bdbff</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="584cfe8d-2145-42f6-a439-28bd9ea673ee" name="Sikre organisation" type="Block">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit />
    <display x="-90" y="-60" w="330" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="4598c671-5519-45be-b3f4-bbc85d0bdbff" name="Hent medarbejdere" type="Action">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="45" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Organisation._links.professionals]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Medarbejdere" />
      <output type="number" name="Antal" friendlyname="Antal" stage="Antal" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>d83f275b-e13f-421d-bf0c-ff6f300c05d2</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="a7b0cd48-49f2-4784-8dff-ea3eac10b050" name="Hent brugere" type="Block">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit />
    <display x="-90" y="15" w="330" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="111acfeb-5eae-4050-9694-cd87284a4245" name="Antal" type="Data">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <display x="-195" y="285" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="68b7be53-acbd-455b-b66d-38f6882f442d" name="Medarbejdere" type="Collection">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <display x="-195" y="120" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="04193c6e-e090-4d81-9083-663483b37e55" name="Hent organisationer" type="SubSheet">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit />
    <display x="105" y="-180" />
    <outputs>
      <output type="collection" name="Organisationer" friendlyname="Organisationer" stage="Organisationer" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
    </outputs>
    <onsuccess>cf330a71-0e12-44d1-aa11-0f194f6e449b</onsuccess>
    <processid>f2ab2458-493d-4f2e-9d6b-91b257438f1b</processid>
  </stage>
  <stage stageid="cf330a71-0e12-44d1-aa11-0f194f6e449b" name="Vælg en" type="Action">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="105" y="-135" />
    <inputs>
      <input type="collection" name="Collection In" friendlyname="Collection In" narrative="Input collection" expr="[Organisationer]" />
      <input type="text" name="Filter" friendlyname="Filter" narrative="The filter to apply" expr="&quot;[name]='Fællesboligerne - Lille Glasvej'&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The amount of rows in the filtered collection" stage="" />
      <output type="collection" name="Collection Out" friendlyname="Collection Out" narrative="The filtered collection" stage="Organisation" />
    </outputs>
    <onsuccess>f8556567-59f5-43af-8465-fd1cebc84bed</onsuccess>
    <resource object="Utility - Odk Linq" action="Filter" />
  </stage>
  <stage stageid="f0038f16-19e6-48df-8827-06ccd29a9c57" name="Organisationer" type="Collection">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <display x="180" y="-180" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="e6900594-e057-4528-a18e-8feda93c6b52" name="Resultat" type="Collection">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit />
    <display x="-195" y="240" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
    <collectioninfo>
      <field name="id" type="number" />
      <field name="version" type="number" />
      <field name="uid" type="text" />
      <field name="firstName" type="text" />
      <field name="middleName" type="text" />
      <field name="color" type="text" />
      <field name="lastName" type="text" />
      <field name="fullName" type="text" />
      <field name="primaryIdentifier" type="text" />
      <field name="initials" type="text" />
      <field name="professionalJob" type="collection" />
      <field name="primaryOrganization" type="collection" />
      <field name="active" type="flag" />
      <field name="mobile" type="text" />
      <field name="_links" type="collection" />
    </collectioninfo>
  </stage>
  <stage stageid="d83f275b-e13f-421d-bf0c-ff6f300c05d2" name="Har vi JSON array?" type="Action">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="90" />
    <inputs>
      <input type="collection" name="Input Collection" friendlyname="Input Collection" narrative="The collection to check." expr="[Medarbejdere]" />
      <input type="text" name="Field" friendlyname="Field" narrative="The field to see if the collection has." expr="&quot;JSON:Array&quot;" />
    </inputs>
    <outputs>
      <output type="flag" name="Success" friendlyname="Success" narrative="True if the collection contains the field." stage="Json array?" />
      <output type="text" name="Error Message" friendlyname="Error Message" narrative="Unused" stage="" />
    </outputs>
    <onsuccess>d0935025-f813-4ff2-b34b-c7047d917f3f</onsuccess>
    <resource object="Utility - Collection Manipulation" action="Collection Contains Field" />
  </stage>
  <stage stageid="e3c8a721-c29c-443f-976f-096ef2bbf575" name="Json array?" type="Data">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <display x="-195" y="165" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="d0935025-f813-4ff2-b34b-c7047d917f3f" name="Kræver vi konvertering?" type="Decision">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit />
    <display x="0" y="135" />
    <decision expression="[Json array?]" />
    <ontrue>ca257fbe-9cc3-4046-b96f-98d7a7abc7e1</ontrue>
    <onfalse>f951ea60-7c05-458c-a67a-5f06eb1a549a</onfalse>
  </stage>
  <stage stageid="f951ea60-7c05-458c-a67a-5f06eb1a549a" name="Sæt resultat" type="Calculation">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit />
    <display x="120" y="135" />
    <onsuccess>9d825393-541d-4193-b659-8a6d0437f090</onsuccess>
    <calculation expression="[Medarbejdere]" stage="Resultat" />
  </stage>
  <stage stageid="9d825393-541d-4193-b659-8a6d0437f090" name="End29" type="End">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit />
    <display x="285" y="135" />
    <outputs>
      <output type="collection" name="Medarbejdere" stage="Resultat" />
      <output type="number" name="Antal" stage="Antal" />
    </outputs>
  </stage>
  <stage stageid="ca257fbe-9cc3-4046-b96f-98d7a7abc7e1" name="Loop medarbejdere" type="LoopStart">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit />
    <display x="0" y="210" />
    <onsuccess>32a45f09-322c-46eb-8dd1-51ed01654b29</onsuccess>
    <groupid>5454f286-06c4-4bc5-bcd4-9666cfeed423</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Medarbejdere</loopdata>
  </stage>
  <stage stageid="ae53cbd3-1037-4bed-9b24-9442fe131412" name="Loop medarbejdere" type="LoopEnd">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit />
    <display x="0" y="450" />
    <onsuccess>ab53efcb-ac38-4951-b32e-5af8f74f8e1f</onsuccess>
    <groupid>5454f286-06c4-4bc5-bcd4-9666cfeed423</groupid>
  </stage>
  <stage stageid="32a45f09-322c-46eb-8dd1-51ed01654b29" name="Ny række" type="Action">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="255" />
    <inputs>
      <input type="text" name="Collection Name" friendlyname="Collection Name" narrative="The name of the collection to act upon" expr="&quot;Resultat&quot;" />
    </inputs>
    <onsuccess>a621a091-7374-4a6c-8d51-41823d113bd3</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Add Row" />
  </stage>
  <stage stageid="a621a091-7374-4a6c-8d51-41823d113bd3" name="Sæt data" type="MultipleCalculation">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit />
    <display x="0" y="300" />
    <onsuccess>95c9607b-de14-471a-9d25-b5e960d74649</onsuccess>
    <steps>
      <calculation expression="[Medarbejdere.JSON:Array._links]" stage="Resultat._links" />
      <calculation expression="[Medarbejdere.JSON:Array.active]" stage="Resultat.active" />
      <calculation expression="[Medarbejdere.JSON:Array.color]" stage="Resultat.color" />
      <calculation expression="[Medarbejdere.JSON:Array.firstName]" stage="Resultat.firstName" />
      <calculation expression="[Medarbejdere.JSON:Array.fullName]" stage="Resultat.fullName" />
      <calculation expression="[Medarbejdere.JSON:Array.id]" stage="Resultat.id" />
      <calculation expression="[Medarbejdere.JSON:Array.initials]" stage="Resultat.initials" />
      <calculation expression="[Medarbejdere.JSON:Array.lastName]" stage="Resultat.lastName" />
      <calculation expression="[Medarbejdere.JSON:Array.middleName]" stage="Resultat.middleName" />
      <calculation expression="[Medarbejdere.JSON:Array.mobile]" stage="Resultat.mobile" />
      <calculation expression="[Medarbejdere.JSON:Array.primaryIdentifier]" stage="Resultat.primaryIdentifier" />
      <calculation expression="[Medarbejdere.JSON:Array.uid]" stage="Resultat.uid" />
      <calculation expression="[Medarbejdere.JSON:Array.version]" stage="Resultat.version" />
    </steps>
  </stage>
  <stage stageid="95c9607b-de14-471a-9d25-b5e960d74649" name="Sæt collections" type="MultipleCalculation">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit />
    <display x="0" y="375" />
    <onsuccess>ae109e69-2fb5-4666-adfb-b9f97d7a78ed</onsuccess>
    <steps>
      <calculation expression="[Medarbejdere.JSON:Array.primaryOrganization]" stage="Resultat.primaryOrganization" />
      <calculation expression="[Medarbejdere.JSON:Array.professionalJob]" stage="Resultat.professionalJob" />
    </steps>
  </stage>
  <stage stageid="a469a4a9-7cb1-43ce-9389-3ec9b962435f" name="Recover4" type="Recover">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit />
    <display x="75" y="375" />
    <onsuccess>5210ca4b-11b7-4e37-87c8-d6d216bc43dd</onsuccess>
  </stage>
  <stage stageid="5210ca4b-11b7-4e37-87c8-d6d216bc43dd" name="Resume2" type="Resume">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit />
    <display x="150" y="375" />
    <onsuccess>13cd02b3-792c-47e4-aecb-2c45b03bef6a</onsuccess>
  </stage>
  <stage stageid="13cd02b3-792c-47e4-aecb-2c45b03bef6a" name="Anchor92" type="Anchor">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit />
    <display x="150" y="405" w="10" h="10" />
    <onsuccess>ae109e69-2fb5-4666-adfb-b9f97d7a78ed</onsuccess>
  </stage>
  <stage stageid="ae109e69-2fb5-4666-adfb-b9f97d7a78ed" name="Anchor93" type="Anchor">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit />
    <display x="0" y="405" w="10" h="10" />
    <onsuccess>ae53cbd3-1037-4bed-9b24-9442fe131412</onsuccess>
  </stage>
  <stage stageid="e9236016-6b60-445f-81b2-90f9a206fd31" name="Sæt collections" type="Block">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit />
    <display x="-90" y="345" w="330" h="75" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="e52d035a-9321-4905-9c92-60a958d2c21b" name="Konvertering" type="Block">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit />
    <display x="-90" y="180" w="330" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="32d77a15-a43f-4a90-a12c-ae39885f00f8" name="Note14" type="Note">
    <subsheetid>c843e7f3-13b3-4ce8-8618-8bd0e614d95f</subsheetid>
    <loginhibit />
    <narrative>Der findes ingen måde at checke om vi har de rigtige collections. Hvis vi ikke har ignorerer vi. Så her er exceptions kontrolflow :(</narrative>
    <display x="375" y="405" w="210" h="60" />
    <onsuccess>13cd02b3-792c-47e4-aecb-2c45b03bef6a</onsuccess>
  </stage>
  <stage stageid="4ad8cf07-d667-4f73-8138-0ca8acbca9dc" name="Hent borgers organisationer" type="SubSheetInfo">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="b538e482-74d2-4b8c-9be8-0aa51454d35b" name="Start" type="Start">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <loginhibit />
    <display x="15" y="-105" />
    <inputs>
      <input type="collection" name="Borger" stage="Borger" />
    </inputs>
    <onsuccess>7f005540-cf08-4776-97ef-cedb339b7e4d</onsuccess>
  </stage>
  <stage stageid="24c8be07-6179-469e-b173-b885ff972378" name="End" type="End">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <loginhibit />
    <display x="15" y="315" />
    <outputs>
      <output type="collection" name="Organisationer" stage="Organisationer" />
      <output type="collection" name="Inaktive organisationer" stage="Inaktive organisationer" />
      <output type="number" name="Antal" narrative="hvor mange organisationer er der" stage="Antal" />
      <output type="collection" name="Relationer" narrative="De rå relationer imellem borger og organisation" stage="Relationer" />
    </outputs>
  </stage>
  <stage stageid="22a87ec1-cb58-43bf-913f-ed7b9226d496" name="Input" type="Block">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <display x="-270" y="-45" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="b3f3c548-c4e6-466b-a583-4a1c83eca64c" name="Variabler" type="Block">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <display x="-270" y="135" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="deb329df-d950-4fb7-bff6-9f73fb303936" name="Konstanter" type="Block">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <display x="-270" y="75" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="5a0b4491-3cde-4c94-b8e1-eb7af12ee979" name="Output" type="Block">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <display x="-270" y="195" w="150" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="8bb121ab-eef6-4e18-a0b3-b44f54f361db" name="Antal" type="Data">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <display x="-195" y="360" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="36f73f17-b11d-4911-944c-b82e32620ad0" name="Borger" type="Collection">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="7042d963-d83d-49e3-a5e0-49bba615daca" name="Nexus - Core::Start" type="Action">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="150" y="-165" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - produktion&quot;" />
    </inputs>
    <onsuccess>5fd647e1-a75d-422a-ad42-38d673c5b83f</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="c01702eb-6945-4a59-ad3f-e1d97e20c92f" name="Debug" type="Block">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <loginhibit />
    <display x="90" y="-195" w="120" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
  </stage>
  <stage stageid="b2042657-e2f2-4ca9-bb08-638412e42855" name="Anchor4" type="Anchor">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <loginhibit />
    <display x="150" y="-60" w="10" h="10" />
    <onsuccess>7f005540-cf08-4776-97ef-cedb339b7e4d</onsuccess>
  </stage>
  <stage stageid="aa8c786a-4d2b-4740-ae90-10df1ae2a67b" name="Organisationer" type="Collection">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <display x="-195" y="270" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="5fd647e1-a75d-422a-ad42-38d673c5b83f" name="Hent borger" type="Action">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="150" y="-120" />
    <inputs>
      <input type="text" name="Cpr" friendlyname="Cpr" expr="&quot;xxxxxxxxxx&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Borger" friendlyname="Borger" stage="Borger" />
    </outputs>
    <onsuccess>b2042657-e2f2-4ca9-bb08-638412e42855</onsuccess>
    <resource object="Nexus - Borgere og forløb" action="Hent borger" />
  </stage>
  <stage stageid="7f005540-cf08-4776-97ef-cedb339b7e4d" name="Anchor5" type="Anchor">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <loginhibit />
    <display x="15" y="-60" w="10" h="10" />
    <onsuccess>891bdd85-73e8-438a-9695-e04586f9f3d5</onsuccess>
  </stage>
  <stage stageid="891bdd85-73e8-438a-9695-e04586f9f3d5" name="Nexus - Core::Get" type="Action">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="0" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Borger._links.patientOrganizations]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Relationer" />
      <output type="number" name="Antal" friendlyname="Antal" stage="Antal" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>28862882-4fb4-4bcd-81aa-a1d8f0ac6223</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="6ce5f17c-1f64-42d3-ac7c-bcd1ea7bc529" name="Relationer" type="Collection">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <display x="-195" y="225" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="13c3ffff-63a1-43dc-b853-996319dfa0a0" name="Relationer" type="Block">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <loginhibit />
    <display x="-75" y="-30" w="240" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="28862882-4fb4-4bcd-81aa-a1d8f0ac6223" name="Loop relationer" type="LoopStart">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="75" />
    <onsuccess>365b6a4f-13d8-44e8-8f83-ca3cb5ec0e78</onsuccess>
    <groupid>d1a407ea-d597-423d-852a-4a029caa9cdc</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Relationer</loopdata>
  </stage>
  <stage stageid="10bb660b-7c2d-4982-aa2a-669e8751ad7f" name="Loop relationer" type="LoopEnd">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <loginhibit />
    <display x="15" y="210" />
    <onsuccess>9eae8c8a-219f-4b90-a118-d33b6564b68f</onsuccess>
    <groupid>d1a407ea-d597-423d-852a-4a029caa9cdc</groupid>
  </stage>
  <stage stageid="1d82399b-76a5-41b1-b857-828e24ed8a53" name="Sorter i aktive / inaktive" type="Block">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <loginhibit />
    <display x="-75" y="45" w="240" h="240" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="3ea3d80b-78ae-4eb4-aaf7-0f76612d66ec" name="Inaktive organisationer" type="Collection">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <display x="-195" y="315" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="365b6a4f-13d8-44e8-8f83-ca3cb5ec0e78" name="Aktiv?" type="Decision">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <loginhibit />
    <display x="15" y="120" />
    <decision expression="[Relationer.effectiveAtPresent]" />
    <ontrue>e196083b-9ec0-4b21-b13b-98aecab783e5</ontrue>
    <onfalse>6327485a-26b1-40da-bdc7-b51073af5d37</onfalse>
  </stage>
  <stage stageid="e196083b-9ec0-4b21-b13b-98aecab783e5" name="Tilføj til organisationer" type="Action">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="165" />
    <inputs>
      <input type="collection" name="Main Collection" friendlyname="Main Collection" narrative="The collection to append to." expr="[Organisationer]" />
      <input type="collection" name="Collection to Append" friendlyname="Collection to Append" narrative="The collection to append." expr="[Relationer.organization]" />
    </inputs>
    <outputs>
      <output type="collection" name="Combined Collection" friendlyname="Combined Collection" narrative="The combined collection." stage="Organisationer" />
    </outputs>
    <onsuccess>10bb660b-7c2d-4982-aa2a-669e8751ad7f</onsuccess>
    <resource object="Utility - Collection Manipulation" action="Append Rows to Collection" />
  </stage>
  <stage stageid="66ca6f42-44af-4adc-b7f4-3e3fe52f1b4c" name="Tilføj til organisationer" type="Action">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="105" y="165" />
    <inputs>
      <input type="collection" name="Main Collection" friendlyname="Main Collection" narrative="The collection to append to." expr="[Inaktive organisationer]" />
      <input type="collection" name="Collection to Append" friendlyname="Collection to Append" narrative="The collection to append." expr="[Relationer.organization]" />
    </inputs>
    <outputs>
      <output type="collection" name="Combined Collection" friendlyname="Combined Collection" narrative="The combined collection." stage="Inaktive organisationer" />
    </outputs>
    <onsuccess>376cd686-2f8b-4e14-8eaf-1474b0613ab0</onsuccess>
    <resource object="Utility - Collection Manipulation" action="Append Rows to Collection" />
  </stage>
  <stage stageid="6327485a-26b1-40da-bdc7-b51073af5d37" name="Anchor6" type="Anchor">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <loginhibit />
    <display x="105" y="120" w="10" h="10" />
    <onsuccess>66ca6f42-44af-4adc-b7f4-3e3fe52f1b4c</onsuccess>
  </stage>
  <stage stageid="376cd686-2f8b-4e14-8eaf-1474b0613ab0" name="Anchor7" type="Anchor">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <loginhibit />
    <display x="105" y="210" w="10" h="10" />
    <onsuccess>10bb660b-7c2d-4982-aa2a-669e8751ad7f</onsuccess>
  </stage>
  <stage stageid="9eae8c8a-219f-4b90-a118-d33b6564b68f" name="Tæl organisationer" type="Action">
    <subsheetid>d955f7b9-b8d7-4b94-bb00-bad85994c078</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="255" />
    <inputs>
      <input type="text" name="Collection Name" friendlyname="Collection Name" narrative="The name of the collection to act upon" expr="&quot;Organisationer&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The number of rows counted in the collection" stage="Antal" />
    </outputs>
    <onsuccess>24c8be07-6179-469e-b173-b885ff972378</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Count Rows" />
  </stage>
  <stage stageid="14037d84-aae4-40b6-bfc6-25fec3e67562" name="Hent brugerens organisationer" type="SubSheetInfo">
    <subsheetid>db2b757b-5e46-4159-bc09-048bbca19436</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="73027ed6-35ec-4f86-995d-d50a04d92459" name="Start" type="Start">
    <subsheetid>db2b757b-5e46-4159-bc09-048bbca19436</subsheetid>
    <loginhibit />
    <display x="15" y="-120" />
    <onsuccess>11ba19e6-f5cc-4a3c-a2ee-daec01fb32d7</onsuccess>
  </stage>
  <stage stageid="fb570925-dff0-4f75-b14e-df9fb9ee01b8" name="End" type="End">
    <subsheetid>db2b757b-5e46-4159-bc09-048bbca19436</subsheetid>
    <loginhibit />
    <display x="15" y="60" />
    <outputs>
      <output type="collection" name="Organisationer" stage="Organisationer" />
      <output type="number" name="Antal" stage="Antal" />
    </outputs>
  </stage>
  <stage stageid="21e3d099-00b9-40a6-9e15-f4e2cf8f4c95" name="Hent api url" type="Action">
    <subsheetid>db2b757b-5e46-4159-bc09-048bbca19436</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-45" />
    <inputs>
      <input type="text" name="Navn" friendlyname="Navn" narrative="navn på det globale rod api" expr="&quot;professionalOrganizations&quot;" />
    </inputs>
    <outputs>
      <output type="text" name="Url" friendlyname="Url" stage="Url" />
    </outputs>
    <onsuccess>40745620-7cf0-4f0b-b03c-0f62d1d4ea10</onsuccess>
    <resource object="Nexus - Core" action="Api url" />
  </stage>
  <stage stageid="40745620-7cf0-4f0b-b03c-0f62d1d4ea10" name="Hent brugerens organisationer" type="Action">
    <subsheetid>db2b757b-5e46-4159-bc09-048bbca19436</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="0" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Url]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Organisationer" />
      <output type="number" name="Antal" friendlyname="Antal" stage="Antal" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>fb570925-dff0-4f75-b14e-df9fb9ee01b8</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="631f4d6c-8581-4449-9e0c-a640941626a8" name="Input" type="Block">
    <subsheetid>db2b757b-5e46-4159-bc09-048bbca19436</subsheetid>
    <display x="-270" y="-45" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="d9c85748-52e5-44d8-8ff0-e8f2c9f51d96" name="Variabler" type="Block">
    <subsheetid>db2b757b-5e46-4159-bc09-048bbca19436</subsheetid>
    <display x="-270" y="75" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="2e9b56a2-556c-4590-8b63-0e77df42064f" name="Konstanter" type="Block">
    <subsheetid>db2b757b-5e46-4159-bc09-048bbca19436</subsheetid>
    <display x="-270" y="15" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="556ba792-e51b-4b25-a960-2f9bd39a4ca8" name="Output" type="Block">
    <subsheetid>db2b757b-5e46-4159-bc09-048bbca19436</subsheetid>
    <display x="-270" y="150" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="312a8bfd-3bb5-466a-8480-1326170b37ca" name="Url" type="Data">
    <subsheetid>db2b757b-5e46-4159-bc09-048bbca19436</subsheetid>
    <display x="-195" y="105" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="0b43cd74-1194-4bfe-bc5e-def5ac49d94d" name="Antal" type="Data">
    <subsheetid>db2b757b-5e46-4159-bc09-048bbca19436</subsheetid>
    <display x="-195" y="225" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="7e965713-bbf2-406b-8b8a-a7377360b0c1" name="Organisationer" type="Collection">
    <subsheetid>db2b757b-5e46-4159-bc09-048bbca19436</subsheetid>
    <display x="-195" y="180" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="f423ad25-ebbc-4524-9e3f-31e657e54fca" name="Hent brugerens organisationer" type="Block">
    <subsheetid>db2b757b-5e46-4159-bc09-048bbca19436</subsheetid>
    <loginhibit />
    <display x="-90" y="-75" w="225" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="6350a521-9d2d-4f50-b8bd-7c25110f8bf5" name="Nexus - Core::Start" type="Action">
    <subsheetid>db2b757b-5e46-4159-bc09-048bbca19436</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="120" y="-165" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - produktion&quot;" />
    </inputs>
    <onsuccess>7e62b631-dc98-42d6-b011-ae8768740d42</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="d5e56472-c30d-45aa-b218-696fab7fa782" name="Debug" type="Block">
    <subsheetid>db2b757b-5e46-4159-bc09-048bbca19436</subsheetid>
    <loginhibit />
    <display x="75" y="-195" w="90" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
  </stage>
  <stage stageid="7e62b631-dc98-42d6-b011-ae8768740d42" name="Anchor4" type="Anchor">
    <subsheetid>db2b757b-5e46-4159-bc09-048bbca19436</subsheetid>
    <loginhibit />
    <display x="120" y="-90" w="10" h="10" />
    <onsuccess>11ba19e6-f5cc-4a3c-a2ee-daec01fb32d7</onsuccess>
  </stage>
  <stage stageid="11ba19e6-f5cc-4a3c-a2ee-daec01fb32d7" name="Anchor1" type="Anchor">
    <subsheetid>db2b757b-5e46-4159-bc09-048bbca19436</subsheetid>
    <loginhibit />
    <display x="15" y="-90" w="10" h="10" />
    <onsuccess>21e3d099-00b9-40a6-9e15-f4e2cf8f4c95</onsuccess>
  </stage>
  <stage stageid="eec93e88-e308-4fe5-8ec1-94e87f831c1a" name="Opdater borgers organisationsrelation" type="SubSheetInfo">
    <subsheetid>8c3f8a07-18c6-49b4-9793-b9c63086f744</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="60cc5cea-7c5d-4b54-8ac5-be4e5e1927e0" name="Start" type="Start">
    <subsheetid>8c3f8a07-18c6-49b4-9793-b9c63086f744</subsheetid>
    <loginhibit />
    <display x="15" y="-105" />
    <inputs>
      <input type="collection" name="Organisationsrelation" stage="Organisationsrelation" />
      <input type="flag" name="Primærkontakt" stage="Primærkontakt" />
      <input type="date" name="Ophørsdato" narrative="Efterlades tom hvis man ikke ønsker at afslutte" stage="Ophørsdato" />
    </inputs>
    <onsuccess>90757eea-13ed-4742-b8dd-b52b0ffb600c</onsuccess>
  </stage>
  <stage stageid="4a14905a-b67f-4e7a-a495-0aa03241939e" name="End" type="End">
    <subsheetid>8c3f8a07-18c6-49b4-9793-b9c63086f744</subsheetid>
    <loginhibit />
    <display x="15" y="195" />
    <outputs>
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="ee86b739-6554-4aab-af78-26a117311ebe" name="Input" type="Block">
    <subsheetid>8c3f8a07-18c6-49b4-9793-b9c63086f744</subsheetid>
    <display x="-270" y="-45" w="150" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="5454dbca-9f5a-4c62-b6ee-f12c21e4c828" name="Variabler" type="Block">
    <subsheetid>8c3f8a07-18c6-49b4-9793-b9c63086f744</subsheetid>
    <display x="-270" y="180" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="413d5173-2d22-4580-8771-779327a2d90c" name="Konstanter" type="Block">
    <subsheetid>8c3f8a07-18c6-49b4-9793-b9c63086f744</subsheetid>
    <display x="-270" y="120" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="4de2c144-ca1a-44aa-bf57-db9111a6fe2f" name="Output" type="Block">
    <subsheetid>8c3f8a07-18c6-49b4-9793-b9c63086f744</subsheetid>
    <display x="-270" y="300" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="d95d1914-9d5b-46b2-a39e-97957f98314c" name="Opdater relation" type="Code">
    <subsheetid>8c3f8a07-18c6-49b4-9793-b9c63086f744</subsheetid>
    <loginhibit />
    <display x="15" y="30" />
    <inputs>
      <input type="text" name="json" expr="[Json]" />
      <input type="flag" name="primary" expr="[Primærkontakt]" />
      <input type="date" name="enddate" expr="[Ophørsdato]" />
    </inputs>
    <outputs>
      <output type="text" name="json_out" stage="Json" />
    </outputs>
    <onsuccess>bdcb9fd3-24ff-4dc5-b1c0-083a854166ab</onsuccess>
    <code><![CDATA[var obj = JObject.Parse(json);

obj["primaryOrganization"] = primary;

if(enddate >= DateTime.Today)
	obj["effectiveEndDate"] = enddate.ToString("yyyy-MM-dd");

json_out = obj.ToString();]]></code>
  </stage>
  <stage stageid="ac033e66-d184-45e9-9786-2d9265e6f784" name="Organisationsrelation" type="Collection">
    <subsheetid>8c3f8a07-18c6-49b4-9793-b9c63086f744</subsheetid>
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="90757eea-13ed-4742-b8dd-b52b0ffb600c" name="Hent relation som json" type="Action">
    <subsheetid>8c3f8a07-18c6-49b4-9793-b9c63086f744</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-45" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Organisationsrelation._links.self]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Organisationsrelation" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="Json" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>d95d1914-9d5b-46b2-a39e-97957f98314c</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="0d4e5209-e926-4996-8639-64328c273bc3" name="Hent json" type="Block">
    <subsheetid>8c3f8a07-18c6-49b4-9793-b9c63086f744</subsheetid>
    <loginhibit />
    <display x="-90" y="-75" w="225" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="70539e23-323f-4e75-b920-6d71c9597a9d" name="Json" type="Data">
    <subsheetid>8c3f8a07-18c6-49b4-9793-b9c63086f744</subsheetid>
    <display x="-195" y="210" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="2d997ea8-1f07-461d-9bf4-405153551d1e" name="Primærkontakt" type="Data">
    <subsheetid>8c3f8a07-18c6-49b4-9793-b9c63086f744</subsheetid>
    <display x="-195" y="30" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="223dc7bb-4ac1-4208-9ec8-d517bae00456" name="Ophørsdato" type="Data">
    <subsheetid>8c3f8a07-18c6-49b4-9793-b9c63086f744</subsheetid>
    <display x="-195" y="75" w="120" h="30" />
    <datatype>date</datatype>
    <initialvalue>1950/01/01</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="cd1926a2-4c7f-40b5-aa03-be3c7d56077e" name="Opdater og gem" type="Block">
    <subsheetid>8c3f8a07-18c6-49b4-9793-b9c63086f744</subsheetid>
    <loginhibit />
    <display x="-90" y="0" w="225" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="bdcb9fd3-24ff-4dc5-b1c0-083a854166ab" name="Nexus - Core::Put" type="Action">
    <subsheetid>8c3f8a07-18c6-49b4-9793-b9c63086f744</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="75" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Organisationsrelation._links.update]" />
      <input type="text" name="Body" friendlyname="Body" expr="[Json]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>69182a10-1c0b-4b34-a080-cad094cfed00</onsuccess>
    <resource object="Nexus - Core" action="Put" />
  </stage>
  <stage stageid="b11c4421-0f90-42af-8c06-28f878dc5f26" name="Statuskode" type="Data">
    <subsheetid>8c3f8a07-18c6-49b4-9793-b9c63086f744</subsheetid>
    <display x="-195" y="255" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="b807d983-b29e-4675-a2d5-24a9fbf55972" name="Succes" type="Data">
    <subsheetid>8c3f8a07-18c6-49b4-9793-b9c63086f744</subsheetid>
    <loginhibit />
    <display x="-195" y="330" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="69182a10-1c0b-4b34-a080-cad094cfed00" name="Sæt succes" type="Calculation">
    <subsheetid>8c3f8a07-18c6-49b4-9793-b9c63086f744</subsheetid>
    <loginhibit />
    <display x="15" y="135" />
    <onsuccess>4a14905a-b67f-4e7a-a495-0aa03241939e</onsuccess>
    <calculation expression="[Statuskode] = 200" stage="Succes" />
  </stage>
  <stage stageid="5a244f36-94d6-4b4c-9362-048654eb3f24" name="Hent brugerreferencer tilknyttet forløb" type="SubSheetInfo">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="7db97cb6-e158-4e73-b90a-240f091db7a2" name="Start" type="Start">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <loginhibit />
    <display x="15" y="-105" />
    <inputs>
      <input type="collection" name="Borger" stage="Borger" />
      <input type="text" name="Grundforløb" stage="Grundforløb" />
      <input type="text" name="Forløb" narrative="Forløbet kan være tomt hvis der ønskes at hente på et grundforløb" stage="Forløb" />
    </inputs>
    <onsuccess>e10da155-2a3f-4e3a-9085-cac68782a267</onsuccess>
  </stage>
  <stage stageid="7e89f3e4-ccd9-42ac-a5bb-32f2c80b2846" name="End" type="End">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <loginhibit />
    <display x="15" y="465" />
    <outputs>
      <output type="collection" name="Brugerreferencer" stage="Brugerreferencer" />
      <output type="number" name="Antal" stage="Antal" />
    </outputs>
  </stage>
  <stage stageid="4316cf33-4532-41e1-952b-8284e0975841" name="Input" type="Block">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <display x="-270" y="-45" w="150" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="3fb177b9-66f4-4700-b7cc-78eb075e1e7c" name="Variabler" type="Block">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <display x="-270" y="180" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="3dccd155-9d4a-4622-a988-49588131332c" name="Konstanter" type="Block">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <display x="-270" y="120" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="e5f6b7b5-0ce7-42b5-897c-3223dd4592fa" name="Output" type="Block">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <display x="-270" y="255" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="a2155f8e-e25b-49f9-8cbf-e87d7d027417" name="Grundforløb" type="Data">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <display x="-195" y="30" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="0ca69fbe-3978-4f65-bb96-b3bd9c2a675a" name="Forløb" type="Data">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <display x="-195" y="75" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="76d7bbf7-3eae-46fa-9799-cd0bfb444405" name="Brugerreferencer" type="Collection">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <loginhibit />
    <display x="-195" y="285" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="c8027a9e-6e95-47fe-bb8e-79c402f42f9a" name="Hent borgerens forløbspathway" type="Action">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-30" />
    <inputs>
      <input type="collection" name="Borger" friendlyname="Borger" expr="[Borger]" />
      <input type="text" name="Pathway" friendlyname="Pathway" narrative="Default &quot;-Alt&quot;" expr="&quot;-Aktive forløb&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Pathway" friendlyname="Pathway" stage="" />
      <output type="collection" name="Referencer" friendlyname="Referencer" stage="Referencer" />
      <output type="text" name="Referencer (json)" friendlyname="Referencer (json)" narrative="Referencer som rå json" stage="" />
      <output type="number" name="Antal" friendlyname="Antal" stage="Antal" />
    </outputs>
    <onsuccess>3adeaf31-f26b-48a5-a59f-ef73d7849d21</onsuccess>
    <resource object="Nexus - Borgere og forløb" action="Hent pathway" />
  </stage>
  <stage stageid="9487b148-bdeb-45c3-97bb-22f0f10157a3" name="Borger" type="Collection">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <loginhibit />
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="980e2873-8c09-48d3-9eee-022463cdd811" name="Referencer" type="Collection">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <display x="-195" y="210" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="4c88d071-2751-4ac0-8c6d-aaceb85e3812" name="Antal" type="Data">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <display x="-195" y="330" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="e10da155-2a3f-4e3a-9085-cac68782a267" name="Anchor8" type="Anchor">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <loginhibit />
    <display x="15" y="-75" w="10" h="10" />
    <onsuccess>c8027a9e-6e95-47fe-bb8e-79c402f42f9a</onsuccess>
  </stage>
  <stage stageid="c53986e0-84c8-4198-af1a-46e1aa06e2c5" name="Anchor9" type="Anchor">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <loginhibit />
    <display x="120" y="-75" w="10" h="10" />
    <onsuccess>e10da155-2a3f-4e3a-9085-cac68782a267</onsuccess>
  </stage>
  <stage stageid="d9b3a55c-8917-434b-8660-38fcf21ce7b9" name="Nexus - Core::Start" type="Action">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="120" y="-210" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - produktion&quot;" />
    </inputs>
    <onsuccess>c3f69b87-850c-412a-aeb7-9cb782816672</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="ab18b575-d333-4276-acae-852b0310d01f" name="Debug" type="Block">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <loginhibit />
    <display x="60" y="-240" w="120" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
  </stage>
  <stage stageid="c3f69b87-850c-412a-aeb7-9cb782816672" name="Hent borger" type="Action">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="120" y="-165" />
    <inputs>
      <input type="text" name="Cpr" friendlyname="Cpr" expr="&quot;xxxxxxxxxx&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Borger" friendlyname="Borger" stage="Borger" />
    </outputs>
    <onsuccess>16a3c88e-3272-435a-81a0-a8bd9d10494e</onsuccess>
    <resource object="Nexus - Borgere og forløb" action="Hent borger" />
  </stage>
  <stage stageid="005fae1b-325d-429b-b9b7-ed6a80dcd260" name="Pathway" type="Block">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <loginhibit />
    <display x="-90" y="-60" w="225" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="c36dd3bd-2852-43b6-9a9a-01fe9bc9010e" name="Vælg forløb" type="Block">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <loginhibit />
    <display x="-90" y="15" w="225" h="345" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="3adeaf31-f26b-48a5-a59f-ef73d7849d21" name="Vælg grundforløb" type="Action">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="45" />
    <inputs>
      <input type="collection" name="Collection In" friendlyname="Collection In" narrative="Input collection" expr="[Referencer]" />
      <input type="text" name="Filter" friendlyname="Filter" narrative="The filter to apply" expr="&quot;[name]='&quot; &amp; [Grundforløb] &amp; &quot;' AND [type]='patientPathwayReference'&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The amount of rows in the filtered collection" stage="Antal" />
      <output type="collection" name="Collection Out" friendlyname="Collection Out" narrative="The filtered collection" stage="Referencer" />
    </outputs>
    <onsuccess>34301b1e-6e01-4533-9493-57a5eed5bb13</onsuccess>
    <resource object="Utility - Odk Linq" action="Filter" />
  </stage>
  <stage stageid="34301b1e-6e01-4533-9493-57a5eed5bb13" name="Har vi grundforløb?" type="Decision">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <loginhibit />
    <display x="15" y="90" />
    <decision expression="[Antal] = 1" />
    <ontrue>6ad42a85-d46f-431c-ac01-22d0fad72eb1</ontrue>
    <onfalse>692be77e-46ea-4a41-944f-13a9ca3a7d3b</onfalse>
  </stage>
  <stage stageid="692be77e-46ea-4a41-944f-13a9ca3a7d3b" name="Intet forløb" type="Exception">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <display x="210" y="90" />
    <exception localized="yes" type="Business Exception" detail="&quot;Grundforløbet kunne ikke findes&quot;" />
  </stage>
  <stage stageid="6ad42a85-d46f-431c-ac01-22d0fad72eb1" name="Hent children" type="Calculation">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <loginhibit />
    <display x="15" y="135" />
    <onsuccess>461fb031-2cb0-4194-8346-a16e1f6d5f21</onsuccess>
    <calculation expression="[Referencer.children]" stage="Referencer" />
  </stage>
  <stage stageid="a97c50bd-4f47-4a02-b1f3-67cd092db142" name="Vælg forløb" type="Action">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="225" />
    <inputs>
      <input type="collection" name="Collection In" friendlyname="Collection In" narrative="Input collection" expr="[Referencer]" />
      <input type="text" name="Filter" friendlyname="Filter" narrative="The filter to apply" expr="&quot;[name]='&quot; &amp; [Forløb] &amp; &quot;' AND [type]='patientPathwayReference'&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The amount of rows in the filtered collection" stage="Antal" />
      <output type="collection" name="Collection Out" friendlyname="Collection Out" narrative="The filtered collection" stage="Referencer" />
    </outputs>
    <onsuccess>7c75c064-7648-4ee5-bfd2-ace5239252e0</onsuccess>
    <resource object="Utility - Odk Linq" action="Filter" />
  </stage>
  <stage stageid="7c75c064-7648-4ee5-bfd2-ace5239252e0" name="Har vi forløb" type="Decision">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <loginhibit />
    <display x="15" y="270" />
    <decision expression="[Antal] = 1" />
    <ontrue>c3288813-afb3-496b-a632-45ab77b4d9d8</ontrue>
    <onfalse>b6c1ba04-9cee-4872-9a25-86671d25a0fa</onfalse>
  </stage>
  <stage stageid="b6c1ba04-9cee-4872-9a25-86671d25a0fa" name="Intet forløb" type="Exception">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <display x="210" y="270" />
    <exception localized="yes" type="Business Exception" detail="&quot;Forløbet kunne ikke findes&quot;" />
  </stage>
  <stage stageid="16a3c88e-3272-435a-81a0-a8bd9d10494e" name="Sæt forløb" type="MultipleCalculation">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <loginhibit />
    <display x="120" y="-120" />
    <onsuccess>c53986e0-84c8-4198-af1a-46e1aa06e2c5</onsuccess>
    <steps>
      <calculation expression="&quot;Sundhedsfagligt grundforløb&quot;" stage="Grundforløb" />
      <calculation expression="&quot;FSIII&quot;" stage="Forløb" />
    </steps>
  </stage>
  <stage stageid="348ba509-7263-40dd-a8b0-48ecae96c26b" name="Brugerreferencer" type="Block">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <loginhibit />
    <display x="-90" y="375" w="225" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="d968298a-2233-417f-907e-2f2cce6e1681" name="Vælg brugerreferencer" type="Action">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="405" />
    <inputs>
      <input type="collection" name="Collection In" friendlyname="Collection In" narrative="Input collection" expr="[Referencer]" />
      <input type="text" name="Filter" friendlyname="Filter" narrative="The filter to apply" expr="&quot;[type]='professionalReference'&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The amount of rows in the filtered collection" stage="Antal" />
      <output type="collection" name="Collection Out" friendlyname="Collection Out" narrative="The filtered collection" stage="Brugerreferencer" />
    </outputs>
    <onsuccess>7e89f3e4-ccd9-42ac-a5bb-32f2c80b2846</onsuccess>
    <resource object="Utility - Odk Linq" action="Filter" />
  </stage>
  <stage stageid="c3288813-afb3-496b-a632-45ab77b4d9d8" name="Hent children" type="Calculation">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <loginhibit />
    <display x="15" y="315" />
    <onsuccess>ff50a266-dff8-49d7-aabe-afffaadcccfc</onsuccess>
    <calculation expression="[Referencer.children]" stage="Referencer" />
  </stage>
  <stage stageid="7825e131-3e33-4333-a00a-ed35c9507a82" name="Hent bruger (via reference)" type="SubSheetInfo">
    <subsheetid>fdf0a33d-47cf-4f05-9352-eee263723978</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="47a26064-dfc7-4df3-974f-a819c3f9ad86" name="Start" type="Start">
    <subsheetid>fdf0a33d-47cf-4f05-9352-eee263723978</subsheetid>
    <loginhibit />
    <display x="15" y="-135" />
    <inputs>
      <input type="collection" name="Brugerreference" stage="Brugerreference" />
    </inputs>
    <onsuccess>0ce03958-a9bb-4bfa-b4e9-159b13822be4</onsuccess>
  </stage>
  <stage stageid="90e0c48c-6467-4378-822e-7c00dc8cc87c" name="End" type="End">
    <subsheetid>fdf0a33d-47cf-4f05-9352-eee263723978</subsheetid>
    <loginhibit />
    <display x="15" y="105" />
    <outputs>
      <output type="collection" name="Bruger" stage="Bruger" />
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="bb8bfb62-80e3-44cd-9225-5820027f6282" name="Input" type="Block">
    <subsheetid>fdf0a33d-47cf-4f05-9352-eee263723978</subsheetid>
    <display x="-270" y="-45" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="c4d96c55-4968-42b2-b551-b2579d0325ee" name="Variabler" type="Block">
    <subsheetid>fdf0a33d-47cf-4f05-9352-eee263723978</subsheetid>
    <display x="-270" y="90" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="e2a334e1-f3c7-4db4-bde3-25d06e302e36" name="Konstanter" type="Block">
    <subsheetid>fdf0a33d-47cf-4f05-9352-eee263723978</subsheetid>
    <display x="-270" y="30" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="4be309e9-f452-4cf8-9362-ab0f60b4e0bb" name="Output" type="Block">
    <subsheetid>fdf0a33d-47cf-4f05-9352-eee263723978</subsheetid>
    <display x="-270" y="210" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="7ed2dcf7-b017-40a6-bbf8-e3fb68c62da4" name="Nexus - Core::Get" type="Action">
    <subsheetid>fdf0a33d-47cf-4f05-9352-eee263723978</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="0" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Url] &amp; &quot;/&quot; &amp; [Brugerreference.activityIdentifier.activityId]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Bruger" />
      <output type="number" name="Antal" friendlyname="Antal" stage="Antal" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>93b7aac1-bbb2-46c6-83a7-a52cd87055da</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="7c5e2801-0d9e-4a53-87cb-346ac97a5493" name="Brugerreference" type="Collection">
    <subsheetid>fdf0a33d-47cf-4f05-9352-eee263723978</subsheetid>
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="913d2479-ad69-4530-baaf-7dceabc32000" name="Hent api url" type="Action">
    <subsheetid>fdf0a33d-47cf-4f05-9352-eee263723978</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-45" />
    <inputs>
      <input type="text" name="Navn" friendlyname="Navn" narrative="navn på det globale rod api" expr="&quot;professionalById&quot;" />
    </inputs>
    <outputs>
      <output type="text" name="Url" friendlyname="Url" stage="Url" />
    </outputs>
    <onsuccess>7ed2dcf7-b017-40a6-bbf8-e3fb68c62da4</onsuccess>
    <resource object="Nexus - Core" action="Api url" />
  </stage>
  <stage stageid="d31d0f8a-c445-434e-be47-1ec9f72dd577" name="Url" type="Data">
    <subsheetid>fdf0a33d-47cf-4f05-9352-eee263723978</subsheetid>
    <display x="-195" y="120" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="fb231557-2abc-4890-ba72-29424d760824" name="Bruger" type="Collection">
    <subsheetid>fdf0a33d-47cf-4f05-9352-eee263723978</subsheetid>
    <loginhibit />
    <display x="-195" y="240" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="16c5497b-13c9-462f-b813-5913b0e45eaa" name="Hent bruger" type="Block">
    <subsheetid>fdf0a33d-47cf-4f05-9352-eee263723978</subsheetid>
    <loginhibit />
    <display x="-75" y="-75" w="210" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="d9b7ecb1-fc95-46c9-9b2a-4d7b5df50169" name="Anchor9" type="Anchor">
    <subsheetid>fdf0a33d-47cf-4f05-9352-eee263723978</subsheetid>
    <loginhibit />
    <display x="135" y="-105" w="10" h="10" />
    <onsuccess>0ce03958-a9bb-4bfa-b4e9-159b13822be4</onsuccess>
  </stage>
  <stage stageid="4a614a89-7588-400c-9c1a-ca79702fd9e4" name="Nexus - Core::Start" type="Action">
    <subsheetid>fdf0a33d-47cf-4f05-9352-eee263723978</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="135" y="-240" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - produktion&quot;" />
    </inputs>
    <onsuccess>f03f0477-0ba6-4b51-99bf-035cb435ec2b</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="aa857749-c2fc-437e-b3a5-e8e112dc5495" name="Debug" type="Block">
    <subsheetid>fdf0a33d-47cf-4f05-9352-eee263723978</subsheetid>
    <loginhibit />
    <display x="75" y="-270" w="210" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
  </stage>
  <stage stageid="f03f0477-0ba6-4b51-99bf-035cb435ec2b" name="Hent borger" type="Action">
    <subsheetid>fdf0a33d-47cf-4f05-9352-eee263723978</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="135" y="-195" />
    <inputs>
      <input type="text" name="Cpr" friendlyname="Cpr" expr="&quot;xxxxxxxxxx&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Borger" friendlyname="Borger" stage="Borger" />
    </outputs>
    <onsuccess>69abe1e9-597c-4e09-b315-3077085a6b30</onsuccess>
    <resource object="Nexus - Borgere og forløb" action="Hent borger" />
  </stage>
  <stage stageid="0ce03958-a9bb-4bfa-b4e9-159b13822be4" name="Anchor10" type="Anchor">
    <subsheetid>fdf0a33d-47cf-4f05-9352-eee263723978</subsheetid>
    <loginhibit />
    <display x="15" y="-105" w="10" h="10" />
    <onsuccess>913d2479-ad69-4530-baaf-7dceabc32000</onsuccess>
  </stage>
  <stage stageid="69abe1e9-597c-4e09-b315-3077085a6b30" name="Hent brugerreferencer tilknyttet forløb" type="SubSheet">
    <subsheetid>fdf0a33d-47cf-4f05-9352-eee263723978</subsheetid>
    <loginhibit />
    <display x="135" y="-150" />
    <inputs>
      <input type="collection" name="Borger" friendlyname="Borger" expr="[Borger]" />
      <input type="text" name="Grundforløb" friendlyname="Grundforløb" expr="&quot;Sundhedsfagligt grundforløb&quot;" />
      <input type="text" name="Forløb" friendlyname="Forløb" expr="&quot;FSIII&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Brugerreferencer" friendlyname="Brugerreferencer" stage="Brugerreference" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
    </outputs>
    <onsuccess>d9b7ecb1-fc95-46c9-9b2a-4d7b5df50169</onsuccess>
    <processid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</processid>
  </stage>
  <stage stageid="18cbd610-7fcc-42ea-9658-d9f5e25b2d16" name="Borger" type="Collection">
    <subsheetid>fdf0a33d-47cf-4f05-9352-eee263723978</subsheetid>
    <loginhibit />
    <display x="225" y="-240" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="3b5a56a5-00e3-4377-8eb9-e9071315c522" name="Antal" type="Data">
    <subsheetid>fdf0a33d-47cf-4f05-9352-eee263723978</subsheetid>
    <display x="-195" y="165" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="c57d4511-2945-4f1b-a265-527d15f269cd" name="Succes" type="Data">
    <subsheetid>fdf0a33d-47cf-4f05-9352-eee263723978</subsheetid>
    <loginhibit />
    <display x="-195" y="285" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="93b7aac1-bbb2-46c6-83a7-a52cd87055da" name="Sæt succes" type="Calculation">
    <subsheetid>fdf0a33d-47cf-4f05-9352-eee263723978</subsheetid>
    <loginhibit />
    <display x="15" y="45" />
    <onsuccess>90e0c48c-6467-4378-822e-7c00dc8cc87c</onsuccess>
    <calculation expression="[Antal] = 1" stage="Succes" />
  </stage>
  <stage stageid="1946438a-6534-47d3-b08e-bb31bf111c25" name="Fjern brugerreference fra forløb" type="SubSheetInfo">
    <subsheetid>5704d0f4-6385-4333-ac38-e1f566aee4c8</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="06113bac-debb-4ee8-9564-e87425e3a222" name="Start" type="Start">
    <subsheetid>5704d0f4-6385-4333-ac38-e1f566aee4c8</subsheetid>
    <loginhibit />
    <display x="15" y="-135" />
    <inputs>
      <input type="collection" name="Brugerreference" stage="Brugerreference" />
    </inputs>
    <onsuccess>c6f1012a-d017-4723-b9c7-d6acda26e3c3</onsuccess>
  </stage>
  <stage stageid="09068afb-fb0a-4529-90d8-6835fa768b89" name="End" type="End">
    <subsheetid>5704d0f4-6385-4333-ac38-e1f566aee4c8</subsheetid>
    <loginhibit />
    <display x="15" y="105" />
    <outputs>
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="be034d4c-e427-4eec-a353-c17e2ba2567a" name="Input" type="Block">
    <subsheetid>5704d0f4-6385-4333-ac38-e1f566aee4c8</subsheetid>
    <display x="-270" y="-45" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="408de60d-c80d-403c-9fc3-9ecc59a5f4f3" name="Variabler" type="Block">
    <subsheetid>5704d0f4-6385-4333-ac38-e1f566aee4c8</subsheetid>
    <display x="-270" y="90" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="8ba2e932-ba88-426e-bfe9-94f5cd9b812d" name="Konstanter" type="Block">
    <subsheetid>5704d0f4-6385-4333-ac38-e1f566aee4c8</subsheetid>
    <display x="-270" y="30" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="79aa9fd0-7bc2-4f0d-aaf7-ccf7d86184c1" name="Output" type="Block">
    <subsheetid>5704d0f4-6385-4333-ac38-e1f566aee4c8</subsheetid>
    <display x="-270" y="150" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="39abd7c1-af3b-45cb-8653-bab9def5feff" name="Nexus - Core::Get" type="Action">
    <subsheetid>5704d0f4-6385-4333-ac38-e1f566aee4c8</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-45" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Brugerreference._links.self]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Brugerreference" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>6ddd47f3-76cf-4bec-80e6-7d9b1934a285</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="c9396d13-c887-4da3-b4be-d3fc7410c6dc" name="Brugerreference" type="Collection">
    <subsheetid>5704d0f4-6385-4333-ac38-e1f566aee4c8</subsheetid>
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="36c961c0-147b-4545-a5fa-14fdf530672a" name="Slet bruger" type="Block">
    <subsheetid>5704d0f4-6385-4333-ac38-e1f566aee4c8</subsheetid>
    <loginhibit />
    <display x="-75" y="-75" w="210" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="8f535310-4298-4e89-82cd-2614b9bc559b" name="Anchor9" type="Anchor">
    <subsheetid>5704d0f4-6385-4333-ac38-e1f566aee4c8</subsheetid>
    <loginhibit />
    <display x="135" y="-105" w="10" h="10" />
    <onsuccess>c6f1012a-d017-4723-b9c7-d6acda26e3c3</onsuccess>
  </stage>
  <stage stageid="5d7ced5e-15bf-49c3-a9f4-75f45bdc547f" name="Nexus - Core::Start" type="Action">
    <subsheetid>5704d0f4-6385-4333-ac38-e1f566aee4c8</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="135" y="-240" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - produktion&quot;" />
    </inputs>
    <onsuccess>d74bb6c5-e01d-4009-97c7-2fbc20bb69a9</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="31a78c1f-18b6-4c2d-8945-8c5096bcc3c0" name="Debug" type="Block">
    <subsheetid>5704d0f4-6385-4333-ac38-e1f566aee4c8</subsheetid>
    <loginhibit />
    <display x="75" y="-270" w="210" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
  </stage>
  <stage stageid="d74bb6c5-e01d-4009-97c7-2fbc20bb69a9" name="Hent borger" type="Action">
    <subsheetid>5704d0f4-6385-4333-ac38-e1f566aee4c8</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="135" y="-195" />
    <inputs>
      <input type="text" name="Cpr" friendlyname="Cpr" expr="&quot;xxxxxxxxxx&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Borger" friendlyname="Borger" stage="Borger" />
    </outputs>
    <onsuccess>7f093500-36a5-476e-9c09-e6d270ea6a9a</onsuccess>
    <resource object="Nexus - Borgere og forløb" action="Hent borger" />
  </stage>
  <stage stageid="c6f1012a-d017-4723-b9c7-d6acda26e3c3" name="Anchor10" type="Anchor">
    <subsheetid>5704d0f4-6385-4333-ac38-e1f566aee4c8</subsheetid>
    <loginhibit />
    <display x="15" y="-105" w="10" h="10" />
    <onsuccess>39abd7c1-af3b-45cb-8653-bab9def5feff</onsuccess>
  </stage>
  <stage stageid="7f093500-36a5-476e-9c09-e6d270ea6a9a" name="Hent brugerreferencer tilknyttet forløb" type="SubSheet">
    <subsheetid>5704d0f4-6385-4333-ac38-e1f566aee4c8</subsheetid>
    <loginhibit />
    <display x="135" y="-150" />
    <inputs>
      <input type="collection" name="Borger" friendlyname="Borger" expr="[Borger]" />
      <input type="text" name="Grundforløb" friendlyname="Grundforløb" expr="&quot;Sundhedsfagligt grundforløb&quot;" />
      <input type="text" name="Forløb" friendlyname="Forløb" expr="&quot;FSIII&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Brugerreferencer" friendlyname="Brugerreferencer" stage="Brugerreference" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
    </outputs>
    <onsuccess>8f535310-4298-4e89-82cd-2614b9bc559b</onsuccess>
    <processid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</processid>
  </stage>
  <stage stageid="478c357e-8c42-4b63-9630-02dc237359c6" name="Borger" type="Collection">
    <subsheetid>5704d0f4-6385-4333-ac38-e1f566aee4c8</subsheetid>
    <loginhibit />
    <display x="225" y="-240" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="7b75ba7a-c3eb-4ab4-a343-6e86ce9c57be" name="Succes" type="Data">
    <subsheetid>5704d0f4-6385-4333-ac38-e1f566aee4c8</subsheetid>
    <loginhibit />
    <display x="-195" y="180" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="6ddd47f3-76cf-4bec-80e6-7d9b1934a285" name="Nexus - Core::Delete" type="Action">
    <subsheetid>5704d0f4-6385-4333-ac38-e1f566aee4c8</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="0" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Brugerreference._links.delete]" />
    </inputs>
    <outputs>
      <output type="flag" name="Succes" friendlyname="Succes" stage="Succes" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>09068afb-fb0a-4529-90d8-6835fa768b89</onsuccess>
    <resource object="Nexus - Core" action="Delete" />
  </stage>
  <stage stageid="686f4f28-a95a-4236-9c5e-e1e11327a423" name="Tilknyt bruger til forløb" type="SubSheetInfo">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="57204a8c-e442-4dfd-9acd-1111a74b76e4" name="Start" type="Start">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit />
    <display x="15" y="-105" />
    <inputs>
      <input type="collection" name="Borger" stage="Borger" />
      <input type="text" name="Grundforløb" stage="Grundforløb" />
      <input type="text" name="Forløb" stage="Forløb" />
      <input type="text" name="Brugerinitialer" narrative="Eks. 'Roboa'" stage="Brugerinitialer" />
    </inputs>
    <onsuccess>0fb7e85b-7554-4793-98da-8f577a4f55f5</onsuccess>
  </stage>
  <stage stageid="de2eb1ce-63b8-49cd-af52-7bebc9f5ca0e" name="End" type="End">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit />
    <display x="15" y="675" />
    <outputs>
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="da035b00-d12b-481b-908b-641bea848efb" name="Input" type="Block">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <display x="-270" y="-45" w="150" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="c92eb233-ba9e-450c-b10e-6b1ca32b2d58" name="Variabler" type="Block">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <display x="-270" y="240" w="150" h="240" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="161aaf0b-ca19-41bf-b2e5-2989ae79c1d9" name="Konstanter" type="Block">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <display x="-270" y="180" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="b06e6fa0-bc40-4179-a430-947318dea327" name="Output" type="Block">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <display x="-270" y="495" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="96b3aacd-c2c6-42f6-9698-681465114141" name="Grundforløb" type="Data">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <display x="-195" y="30" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="142c5279-4fd6-416c-92ee-442ac24f2d02" name="Forløb" type="Data">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <display x="-195" y="75" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="78bd22e0-08b2-41d0-a3bb-6276e68c3486" name="Hent borgerens forløbspathway" type="Action">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-30" />
    <inputs>
      <input type="collection" name="Borger" friendlyname="Borger" expr="[Borger]" />
      <input type="text" name="Pathway" friendlyname="Pathway" narrative="Default &quot;-Alt&quot;" expr="&quot;-Aktive forløb&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Pathway" friendlyname="Pathway" stage="" />
      <output type="collection" name="Referencer" friendlyname="Referencer" stage="Referencer" />
      <output type="text" name="Referencer (json)" friendlyname="Referencer (json)" narrative="Referencer som rå json" stage="" />
      <output type="number" name="Antal" friendlyname="Antal" stage="Antal" />
    </outputs>
    <onsuccess>1368f48b-c11b-4abf-a4db-15b2b6ee83d0</onsuccess>
    <resource object="Nexus - Borgere og forløb" action="Hent pathway" />
  </stage>
  <stage stageid="8f0d0912-215d-4dda-ae69-0badcbdc03e6" name="Borger" type="Collection">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit />
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="7b1b49f1-0d9e-4329-90ba-144e510ac882" name="Referencer" type="Collection">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <display x="-195" y="270" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="21d37478-69fe-4a36-9bee-9c83293f4343" name="Antal" type="Data">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <display x="-195" y="405" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="0fb7e85b-7554-4793-98da-8f577a4f55f5" name="Anchor8" type="Anchor">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit />
    <display x="15" y="-75" w="10" h="10" />
    <onsuccess>78bd22e0-08b2-41d0-a3bb-6276e68c3486</onsuccess>
  </stage>
  <stage stageid="6a1a5378-a433-48e0-9c82-c31818175640" name="Anchor9" type="Anchor">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit />
    <display x="120" y="-75" w="10" h="10" />
    <onsuccess>0fb7e85b-7554-4793-98da-8f577a4f55f5</onsuccess>
  </stage>
  <stage stageid="c54ecfe9-0d6b-478d-80fc-96bb498294eb" name="Nexus - Core::Start" type="Action">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="120" y="-210" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - produktion&quot;" />
    </inputs>
    <onsuccess>2909848a-5d40-4f65-aff2-6dcda68f2232</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="00ad1be3-0e4e-4e82-8e4a-20ae05677211" name="Debug" type="Block">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit />
    <display x="60" y="-240" w="120" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
  </stage>
  <stage stageid="2909848a-5d40-4f65-aff2-6dcda68f2232" name="Hent borger" type="Action">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="120" y="-165" />
    <inputs>
      <input type="text" name="Cpr" friendlyname="Cpr" expr="&quot;xxxxxxxxxx&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Borger" friendlyname="Borger" stage="Borger" />
    </outputs>
    <onsuccess>38898741-0724-4bba-87b8-c5ddac3eb956</onsuccess>
    <resource object="Nexus - Borgere og forløb" action="Hent borger" />
  </stage>
  <stage stageid="fc4ac583-9f30-40c5-9172-d176049ca9cc" name="Pathway" type="Block">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit />
    <display x="-90" y="-60" w="225" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="e78566e2-aa7d-4607-92f9-e47772dede85" name="Vælg forløb" type="Block">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit />
    <display x="-90" y="15" w="225" h="285" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="1368f48b-c11b-4abf-a4db-15b2b6ee83d0" name="Vælg grundforløb" type="Action">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="45" />
    <inputs>
      <input type="collection" name="Collection In" friendlyname="Collection In" narrative="Input collection" expr="[Referencer]" />
      <input type="text" name="Filter" friendlyname="Filter" narrative="The filter to apply" expr="&quot;[name]='&quot; &amp; [Grundforløb] &amp; &quot;' AND [type]='patientPathwayReference'&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The amount of rows in the filtered collection" stage="Antal" />
      <output type="collection" name="Collection Out" friendlyname="Collection Out" narrative="The filtered collection" stage="Referencer" />
    </outputs>
    <onsuccess>7fb5ffe1-a073-4889-ac3d-8a96cf0e0989</onsuccess>
    <resource object="Utility - Odk Linq" action="Filter" />
  </stage>
  <stage stageid="7fb5ffe1-a073-4889-ac3d-8a96cf0e0989" name="Har vi grundforløb?" type="Decision">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit />
    <display x="15" y="90" />
    <decision expression="[Antal] = 1" />
    <ontrue>55c37ec0-7f9f-41e6-a507-bee0be8e9557</ontrue>
    <onfalse>99f71ad6-0a30-425e-8caf-36a32f3356be</onfalse>
  </stage>
  <stage stageid="99f71ad6-0a30-425e-8caf-36a32f3356be" name="Intet forløb" type="Exception">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <display x="210" y="90" />
    <exception localized="yes" type="Business Exception" detail="&quot;Grundforløbet kunne ikke findes&quot;" />
  </stage>
  <stage stageid="55c37ec0-7f9f-41e6-a507-bee0be8e9557" name="Hent children" type="Calculation">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit />
    <display x="15" y="135" />
    <onsuccess>425265c1-d307-4bbd-9125-3ff03ebed904</onsuccess>
    <calculation expression="[Referencer.children]" stage="Referencer" />
  </stage>
  <stage stageid="425265c1-d307-4bbd-9125-3ff03ebed904" name="Vælg forløb" type="Action">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="180" />
    <inputs>
      <input type="collection" name="Collection In" friendlyname="Collection In" narrative="Input collection" expr="[Referencer]" />
      <input type="text" name="Filter" friendlyname="Filter" narrative="The filter to apply" expr="&quot;[name]='&quot; &amp; [Forløb] &amp; &quot;' AND [type]='patientPathwayReference'&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The amount of rows in the filtered collection" stage="Antal" />
      <output type="collection" name="Collection Out" friendlyname="Collection Out" narrative="The filtered collection" stage="Referencer" />
    </outputs>
    <onsuccess>14044313-dc5e-475a-8d31-cdd476e37605</onsuccess>
    <resource object="Utility - Odk Linq" action="Filter" />
  </stage>
  <stage stageid="14044313-dc5e-475a-8d31-cdd476e37605" name="Har vi forløb" type="Decision">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit />
    <display x="15" y="225" />
    <decision expression="[Antal] = 1" />
    <ontrue>c51de804-b53a-4260-aeb0-37b709577f0a</ontrue>
    <onfalse>1cc2c76c-1953-4f88-a51e-865f809527c3</onfalse>
  </stage>
  <stage stageid="1cc2c76c-1953-4f88-a51e-865f809527c3" name="Intet forløb" type="Exception">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <display x="210" y="225" />
    <exception localized="yes" type="Business Exception" detail="&quot;Forløbet kunne ikke findes&quot;" />
  </stage>
  <stage stageid="38898741-0724-4bba-87b8-c5ddac3eb956" name="Sæt forløb" type="MultipleCalculation">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit />
    <display x="120" y="-120" />
    <onsuccess>6a1a5378-a433-48e0-9c82-c31818175640</onsuccess>
    <steps>
      <calculation expression="&quot;Sundhedsfagligt grundforløb&quot;" stage="Grundforløb" />
      <calculation expression="&quot;FSIII&quot;" stage="Forløb" />
      <calculation expression="&quot;RoboA&quot;" stage="Brugerinitialer" />
    </steps>
  </stage>
  <stage stageid="1840c7a2-fe24-4a97-b209-118703291823" name="Brugerinitialer" type="Data">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <display x="-195" y="120" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="a9c61bf5-2a0c-4921-9838-3e95e6f0f981" name="Nexus - Core::Get" type="Action">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="390" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Referencer._links.availableProfessionals] &amp; &quot;?query=&quot; &amp; [Parameter]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Brugere" />
      <output type="number" name="Antal" friendlyname="Antal" stage="Antal" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>6680b038-9c1c-45e8-924c-05c7c54b8cb9</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="4e8f89b3-37ed-42e9-9f77-e559bce38566" name="Søg brugeren" type="Block">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit />
    <display x="-90" y="315" w="225" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="5e621f37-feb6-4bd9-b295-c1a984ad9e80" name="Brugere" type="Collection">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <display x="-195" y="315" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="c51de804-b53a-4260-aeb0-37b709577f0a" name="Nexus - Core::Get" type="Action">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="270" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Referencer._links.self]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Referencer" />
      <output type="number" name="Antal" friendlyname="Antal" stage="Antal" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>aab5fb8c-b792-4408-867f-1babce12905d</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="aab5fb8c-b792-4408-867f-1babce12905d" name="Urlencode" type="Action">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="345" />
    <inputs>
      <input type="text" name="URL" friendlyname="URL" narrative="The URL to encode" expr="[Brugerinitialer]" />
    </inputs>
    <outputs>
      <output type="text" name="URL" friendlyname="URL" narrative="The encoded URL" stage="Parameter" />
    </outputs>
    <onsuccess>a9c61bf5-2a0c-4921-9838-3e95e6f0f981</onsuccess>
    <resource object="Utility - HTTP" action="URL Encode" />
  </stage>
  <stage stageid="6680b038-9c1c-45e8-924c-05c7c54b8cb9" name="Filtrer initialer" type="Action">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="435" />
    <inputs>
      <input type="collection" name="Collection In" friendlyname="Collection In" narrative="Input collection" expr="[Brugere]" />
      <input type="text" name="Filter" friendlyname="Filter" narrative="The filter to apply" expr="&quot;[initials] = '&quot; &amp; [Brugerinitialer] &amp;&quot;'&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The amount of rows in the filtered collection" stage="Antal" />
      <output type="collection" name="Collection Out" friendlyname="Collection Out" narrative="The filtered collection" stage="Brugere" />
    </outputs>
    <onsuccess>6fef81d7-44a7-4504-a0d2-9e31deb66744</onsuccess>
    <resource object="Utility - Odk Linq" action="Filter" />
  </stage>
  <stage stageid="b5997dd8-fa81-419c-82d6-566c395f42a4" name="Parameter" type="Data">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <display x="-195" y="360" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="6fef81d7-44a7-4504-a0d2-9e31deb66744" name="Fik vi en bruger?" type="Decision">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit />
    <display x="15" y="480" />
    <decision expression="[Antal] = 1" />
    <ontrue>085ad2ea-1545-4abc-a3b5-99dfdd8b4f24</ontrue>
    <onfalse>1af2811a-2a9e-4b3b-8dfa-d95275f77fec</onfalse>
  </stage>
  <stage stageid="1af2811a-2a9e-4b3b-8dfa-d95275f77fec" name="Ingen bruger" type="Exception">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <display x="210" y="480" />
    <exception localized="yes" type="Business Exception" detail="&quot;Der blev ikke fundet en bruger med de initialer&quot;" />
  </stage>
  <stage stageid="085ad2ea-1545-4abc-a3b5-99dfdd8b4f24" name="Nexus - Core::Put" type="Action">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="555" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Brugere._links.addProfessional]" />
      <input type="text" name="Body" friendlyname="Body" expr="&quot;&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>f17db0bb-4ae1-4d51-8816-49a3e9043091</onsuccess>
    <resource object="Nexus - Core" action="Put" />
  </stage>
  <stage stageid="d8a98d88-1ee0-4386-90fe-d4f7f2f8ffb2" name="Statuskode" type="Data">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <display x="-195" y="450" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="e2bf0df1-2cf0-4a29-8e55-9f800a9f78f1" name="Udfør tilknytning" type="Block">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit />
    <display x="-90" y="525" w="225" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="f17db0bb-4ae1-4d51-8816-49a3e9043091" name="Succes" type="Calculation">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <loginhibit />
    <display x="15" y="600" />
    <onsuccess>de2eb1ce-63b8-49cd-af52-7bebc9f5ca0e</onsuccess>
    <calculation expression="[Statuskode] = 200" stage="Succes" />
  </stage>
  <stage stageid="a89e8282-ce53-4add-9372-349168cdbde5" name="Succes" type="Data">
    <subsheetid>7b1974dd-1620-4b73-95f4-17d7306c42cc</subsheetid>
    <display x="-195" y="525" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="461fb031-2cb0-4194-8346-a16e1f6d5f21" name="Har vi forløb?" type="Decision">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <loginhibit />
    <display x="15" y="180" />
    <decision expression="[Forløb] &lt;&gt; &quot;&quot;" />
    <ontrue>a97c50bd-4f47-4a02-b1f3-67cd092db142</ontrue>
    <onfalse>71bf194a-b896-4626-aa90-19508cf7f599</onfalse>
  </stage>
  <stage stageid="ff50a266-dff8-49d7-aabe-afffaadcccfc" name="Anchor11" type="Anchor">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <loginhibit />
    <display x="15" y="345" w="10" h="10" />
    <onsuccess>d968298a-2233-417f-907e-2f2cce6e1681</onsuccess>
  </stage>
  <stage stageid="2c49d436-f6ae-49ef-b95e-acbb6fef3e0a" name="Anchor12" type="Anchor">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <loginhibit />
    <display x="-45" y="345" w="10" h="10" />
    <onsuccess>ff50a266-dff8-49d7-aabe-afffaadcccfc</onsuccess>
  </stage>
  <stage stageid="71bf194a-b896-4626-aa90-19508cf7f599" name="Anchor13" type="Anchor">
    <subsheetid>0dd94de1-a93f-4fd6-a61a-fe43f21d8336</subsheetid>
    <loginhibit />
    <display x="-45" y="180" w="10" h="10" />
    <onsuccess>2c49d436-f6ae-49ef-b95e-acbb6fef3e0a</onsuccess>
  </stage>
  <stage stageid="023fe903-37b5-4b69-8e3d-aecbf67bcd66" name="Hent bruger" type="SubSheetInfo">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="290463f1-c6bd-462a-8743-00aa03004db6" name="Start" type="Start">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <loginhibit />
    <display x="15" y="-105" />
    <inputs>
      <input type="text" name="Initialer" stage="Initialer" />
    </inputs>
    <onsuccess>272d6f40-cdda-4295-a6fb-5cab839bf8db</onsuccess>
  </stage>
  <stage stageid="85c31595-e5c7-40d9-91b1-5af08597dbb6" name="End" type="End">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <loginhibit />
    <display x="15" y="330" />
    <outputs>
      <output type="collection" name="Bruger" stage="Bruger" />
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="fea5b423-1dc4-4f20-9258-2965609c44d2" name="Input" type="Block">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <display x="-270" y="-45" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="c0e32a1d-309b-4bb8-a4f6-b41d5439d214" name="Variabler" type="Block">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <display x="-270" y="90" w="150" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="18593553-6128-496d-9c45-bab89478ba71" name="Konstanter" type="Block">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <display x="-270" y="30" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="d79c93a2-2781-4553-a0ea-dc7aecc5fd72" name="Output" type="Block">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <display x="-270" y="255" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="3f3caea4-991f-4758-b0ab-b430fc6a5838" name="Initialer" type="Data">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="8b29bcc8-1b3c-4aef-a6e5-01d450bfeeb7" name="Find api url" type="Action">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-30" />
    <inputs>
      <input type="text" name="Navn" friendlyname="Navn" narrative="navn på det globale rod api" expr="&quot;professionals&quot;" />
    </inputs>
    <outputs>
      <output type="text" name="Url" friendlyname="Url" stage="Url" />
    </outputs>
    <onsuccess>3c17329e-d29c-4114-bd3c-828445e307c4</onsuccess>
    <resource object="Nexus - Core" action="Api url" />
  </stage>
  <stage stageid="3c17329e-d29c-4114-bd3c-828445e307c4" name="Url encode" type="Action">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="15" />
    <inputs>
      <input type="text" name="URL" friendlyname="URL" narrative="The URL to encode" expr="[Initialer]" />
    </inputs>
    <outputs>
      <output type="text" name="URL" friendlyname="URL" narrative="The encoded URL" stage="Initialer" />
    </outputs>
    <onsuccess>07d7f156-b795-4d9c-98ad-e71ce63208f0</onsuccess>
    <resource object="Utility - HTTP" action="URL Encode" />
  </stage>
  <stage stageid="07d7f156-b795-4d9c-98ad-e71ce63208f0" name="Søg" type="Action">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="60" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Url] &amp; &quot;?query=&quot; &amp; [Initialer]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Data" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>c2890b79-4675-4556-b673-98030fa21dbe</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="a9b96517-f4f9-47a0-8ea4-1e2bed8fb52e" name="Url" type="Data">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <display x="-195" y="120" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="f327bf21-ffb3-4828-9237-1e79588f6932" name="Data" type="Collection">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <display x="-195" y="165" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="87930887-f82e-4043-8a5e-60a099792435" name="Nexus - Core::Start" type="Action">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="135" y="-225" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - produktion&quot;" />
    </inputs>
    <onsuccess>e67b14f9-e103-4190-9fab-0a7782644618</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="c7100e11-1643-4c46-a166-b978e1e4b7d9" name="Debug" type="Block">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <loginhibit />
    <display x="90" y="-255" w="165" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
  </stage>
  <stage stageid="a1a5b07d-a3e2-4ac4-aaee-5c21d3ed811a" name="Anchor4" type="Anchor">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <loginhibit />
    <display x="135" y="-75" w="10" h="10" />
    <onsuccess>272d6f40-cdda-4295-a6fb-5cab839bf8db</onsuccess>
  </stage>
  <stage stageid="e67b14f9-e103-4190-9fab-0a7782644618" name="Sæt robo" type="Calculation">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <loginhibit />
    <display x="135" y="-180" />
    <onsuccess>a1a5b07d-a3e2-4ac4-aaee-5c21d3ed811a</onsuccess>
    <calculation expression="&quot;roboa&quot;" stage="Initialer" />
  </stage>
  <stage stageid="272d6f40-cdda-4295-a6fb-5cab839bf8db" name="Anchor14" type="Anchor">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <loginhibit />
    <display x="15" y="-75" w="10" h="10" />
    <onsuccess>8b29bcc8-1b3c-4aef-a6e5-01d450bfeeb7</onsuccess>
  </stage>
  <stage stageid="37cac257-6693-485c-8610-c61673a30aed" name="Søg efter bruger" type="Block">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <loginhibit />
    <display x="-90" y="-60" w="270" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="5cda15ad-96c6-4ea2-8ac2-c5e68f727892" name="Vælg på initialer" type="Block">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <loginhibit />
    <display x="-90" y="105" w="270" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="6b3e0b10-5dc0-42e7-aa10-d2f0dbb29d8c" name="Bruger" type="Collection">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <loginhibit />
    <display x="-195" y="285" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="c2890b79-4675-4556-b673-98030fa21dbe" name="Vælg på initialer" type="Action">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="135" />
    <inputs>
      <input type="collection" name="Collection In" friendlyname="Collection In" narrative="Input collection" expr="[Data]" />
      <input type="text" name="Filter" friendlyname="Filter" narrative="The filter to apply" expr="&quot;[Initials]='&quot; &amp; [Initialer] &amp; &quot;'&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The amount of rows in the filtered collection" stage="Antal" />
      <output type="collection" name="Collection Out" friendlyname="Collection Out" narrative="The filtered collection" stage="Bruger" />
    </outputs>
    <onsuccess>eb8d7f91-8351-446b-b92a-855f86e1e887</onsuccess>
    <resource object="Utility - Odk Linq" action="Filter" />
  </stage>
  <stage stageid="22931049-8938-4be8-b4bf-11b4c2edf256" name="Antal" type="Data">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <display x="-195" y="210" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="eb8d7f91-8351-446b-b92a-855f86e1e887" name="Fandt vi en bruger?" type="Decision">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <loginhibit />
    <display x="15" y="180" />
    <decision expression="[Antal] = 1" />
    <ontrue>75424dc3-30c3-4818-a896-b9e1791064e2</ontrue>
    <onfalse>e1859b53-43a4-4e5e-99f3-f4ed8f7d374b</onfalse>
  </stage>
  <stage stageid="8a058d98-4ece-4a07-987f-f8f073a4be58" name="Succes" type="Data">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <loginhibit />
    <display x="-195" y="330" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="e1859b53-43a4-4e5e-99f3-f4ed8f7d374b" name="End1" type="End">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <loginhibit />
    <display x="135" y="180" />
    <outputs>
      <output type="collection" name="Bruger" stage="Bruger" />
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="75424dc3-30c3-4818-a896-b9e1791064e2" name="Sæt succes" type="Calculation">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <loginhibit />
    <display x="15" y="225" />
    <onsuccess>c181f5bc-693c-438f-8804-90993ecce871</onsuccess>
    <calculation expression="True" stage="Succes" />
  </stage>
  <stage stageid="c181f5bc-693c-438f-8804-90993ecce871" name="Hent self" type="Action">
    <subsheetid>c42c155b-56ed-41c5-83f4-a82d50269c93</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="270" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bruger._links.self]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Bruger" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>85c31595-e5c7-40d9-91b1-5af08597dbb6</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="b64d67bd-7402-4b4c-afb5-89efb1c60393" name="Opdater brugers nationale rolle" type="SubSheetInfo">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="90da5b3b-ebae-4e7c-8dea-8e7170b10d9c" name="End" type="End">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <loginhibit />
    <display x="15" y="300" />
    <outputs>
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="57394aa2-62af-4391-b270-ecd6ccd9c1c9" name="Input" type="Block">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <display x="-270" y="-45" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="877c8bf4-7034-4d07-af7b-26359610ad8f" name="Variabler" type="Block">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <display x="-270" y="135" w="150" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="5294dee4-8d1a-4637-92e4-02a60e2a042a" name="Konstanter" type="Block">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <display x="-270" y="75" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="bf863d67-8d7d-45f0-9dad-e4dee8b2db1e" name="Output" type="Block">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <display x="-270" y="300" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="bd43b79e-19d0-4c80-ac12-1966e8014322" name="Bruger" type="Collection">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="bd4c2e12-f7ac-4bce-9d0e-f03da613ddf2" name="Start" type="Start">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <loginhibit />
    <display x="15" y="-75" />
    <inputs>
      <input type="collection" name="Bruger" stage="Bruger" />
      <input type="text" name="National rolle" stage="National rolle" />
    </inputs>
    <onsuccess>45bec7c2-55ce-46b3-8f47-8db1a8bcab33</onsuccess>
  </stage>
  <stage stageid="aaf8be44-f376-429d-9c63-c493bce603b2" name="Nexus - Core::Start" type="Action">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="165" y="-210" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - produktion&quot;" />
    </inputs>
    <onsuccess>20a8bfdb-80fd-4359-a5b6-93fca405fe86</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="dc809786-229b-4803-adc5-de6687b21213" name="Debug" type="Block">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <loginhibit />
    <display x="120" y="-240" w="165" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
  </stage>
  <stage stageid="b102cb72-fdab-48e1-a82a-e9055b69e42c" name="Anchor4" type="Anchor">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <loginhibit />
    <display x="165" y="-45" w="10" h="10" />
    <onsuccess>45bec7c2-55ce-46b3-8f47-8db1a8bcab33</onsuccess>
  </stage>
  <stage stageid="20a8bfdb-80fd-4359-a5b6-93fca405fe86" name="Hent bruger" type="Action">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="165" y="-165" />
    <inputs>
      <input type="text" name="Initialer" friendlyname="Initialer" expr="&quot;roboa&quot;" />
    </inputs>
    <outputs>
      <output type="flag" name="Succes" friendlyname="Succes" stage="" />
      <output type="collection" name="Bruger" friendlyname="Bruger" stage="Bruger" />
    </outputs>
    <onsuccess>27868387-1d5e-40e8-92b7-8de226a47b6e</onsuccess>
    <resource object="Nexus - Brugere og organisationer" action="Hent bruger" />
  </stage>
  <stage stageid="45bec7c2-55ce-46b3-8f47-8db1a8bcab33" name="Anchor3" type="Anchor">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <loginhibit />
    <display x="15" y="-45" w="10" h="10" />
    <onsuccess>fbf3b406-35e8-4a10-8ca1-e3e1d2876457</onsuccess>
  </stage>
  <stage stageid="0e82ede8-c194-44a1-8136-a90168efcfbc" name="Statuskode" type="Data">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <display x="-195" y="255" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="2e9b280a-dd87-4dbc-8736-67bafcd3e1b5" name="National rolle" type="Data">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <display x="-195" y="30" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="27868387-1d5e-40e8-92b7-8de226a47b6e" name="Sæt national rolle" type="Calculation">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <loginhibit />
    <display x="165" y="-120" />
    <onsuccess>b102cb72-fdab-48e1-a82a-e9055b69e42c</onsuccess>
    <calculation expression="&quot;SUND_ASSIST_R1&quot;" stage="National rolle" />
  </stage>
  <stage stageid="7107247e-47e2-4fb3-a551-23c5c46ae582" name="Hent konfiguration" type="Action">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="75" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bruger._links.configuration]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Konfiguration" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="Json" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>130aaabf-a4d8-4383-93a9-2a39ec663062</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="76d57082-01c1-4624-8a7a-5b3a73b2b278" name="Json" type="Data">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <display x="-195" y="210" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="e14a7006-0211-4085-840d-a3e8f3cc9fbb" name="Konfiguration" type="Collection">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <display x="-195" y="165" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="fbf3b406-35e8-4a10-8ca1-e3e1d2876457" name="Er det en gyldig rolle?" type="Decision">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <loginhibit />
    <display x="15" y="0" />
    <decision expression="[National rolle] = &quot;SUND_ASSIST_R1&quot; OR&#xA;[National rolle] = &quot;SUND_ASSIST_R2&quot;" />
    <ontrue>7107247e-47e2-4fb3-a551-23c5c46ae582</ontrue>
    <onfalse>494f8ceb-3b9a-4bce-8929-1a591b03a2da</onfalse>
  </stage>
  <stage stageid="494f8ceb-3b9a-4bce-8929-1a591b03a2da" name="Ugyldig rolle" type="Exception">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <display x="255" y="0" />
    <exception localized="yes" type="Business Exception" detail="&quot;Ugyldig rolle&quot;" />
  </stage>
  <stage stageid="87a10c1a-d548-46f4-968a-382718c51346" name="Rollecheck" type="Block">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <loginhibit />
    <display x="-90" y="-30" w="300" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="b2d98d32-5270-462d-921c-0ad32416b88d" name="Hent og opdater" type="Block">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <loginhibit />
    <display x="-90" y="45" w="300" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="130aaabf-a4d8-4383-93a9-2a39ec663062" name="Set role" type="Code">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <loginhibit />
    <display x="15" y="120" />
    <inputs>
      <input type="text" name="json" expr="[Json]" />
      <input type="text" name="rolle" expr="[National rolle]" />
    </inputs>
    <outputs>
      <output type="text" name="output" stage="Json" />
    </outputs>
    <onsuccess>587ee6c9-d500-4b6d-9de6-8276dd906cdc</onsuccess>
    <code><![CDATA[var config = JObject.Parse(json);


var role = JObject.Parse("{nationalRole: 'SUND_ASSIST_R1', _links: {}}");

role["nationalRole"] = rolle;

config["nationalRoleConfiguration"] = role;

output = config.ToString();]]></code>
  </stage>
  <stage stageid="587ee6c9-d500-4b6d-9de6-8276dd906cdc" name="Opdater rolle" type="Action">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="195" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Konfiguration._links.update]" />
      <input type="text" name="Body" friendlyname="Body" expr="[Json]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>33d63d63-72c7-442a-872e-f74ee2c0140d</onsuccess>
    <resource object="Nexus - Core" action="Put" />
  </stage>
  <stage stageid="f6dd540b-7f4a-4bbd-bff0-bccff5e63100" name="Opdater rollen" type="Block">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <loginhibit />
    <display x="-90" y="165" w="300" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="33d63d63-72c7-442a-872e-f74ee2c0140d" name="Sæt succes" type="Calculation">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <loginhibit />
    <display x="15" y="240" />
    <onsuccess>90da5b3b-ebae-4e7c-8dea-8e7170b10d9c</onsuccess>
    <calculation expression="[Statuskode] = 200" stage="Succes" />
  </stage>
  <stage stageid="fd4b0129-ebe1-474a-8f78-3bbcdb07740e" name="Succes" type="Data">
    <subsheetid>d7c92207-951f-48fe-b9d9-42fc4f3a0806</subsheetid>
    <display x="-195" y="330" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="dab498f0-c6b0-4d40-a5b9-2fd3e4d68247" name="Hent brugers organisationer" type="SubSheetInfo">
    <subsheetid>33d259f7-cb45-4401-b725-01d2ac0cb72b</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="9055e8b7-4c5d-465d-9184-085d8fb50d95" name="Start" type="Start">
    <subsheetid>33d259f7-cb45-4401-b725-01d2ac0cb72b</subsheetid>
    <loginhibit />
    <display x="15" y="-105" />
    <inputs>
      <input type="collection" name="Bruger" stage="Bruger" />
    </inputs>
    <onsuccess>ea1a5045-513d-41ce-9bda-5bca9552a1a3</onsuccess>
  </stage>
  <stage stageid="9f918ab0-d2e0-485a-ab7b-da72a3b102bf" name="End" type="End">
    <subsheetid>33d259f7-cb45-4401-b725-01d2ac0cb72b</subsheetid>
    <loginhibit />
    <display x="15" y="210" />
    <outputs>
      <output type="collection" name="Organisationer" stage="Organisationer" />
      <output type="flag" name="Succes" stage="Succes" />
      <output type="number" name="Antal" stage="Antal" />
    </outputs>
  </stage>
  <stage stageid="eea814f2-6c99-44fa-a5b2-79010f16aae6" name="Input" type="Block">
    <subsheetid>33d259f7-cb45-4401-b725-01d2ac0cb72b</subsheetid>
    <display x="-270" y="-45" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="f5234982-941d-455f-9a38-75a46dfb2583" name="Variabler" type="Block">
    <subsheetid>33d259f7-cb45-4401-b725-01d2ac0cb72b</subsheetid>
    <display x="-270" y="90" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="79f4c494-4678-480a-9473-87fc27c1ac2c" name="Konstanter" type="Block">
    <subsheetid>33d259f7-cb45-4401-b725-01d2ac0cb72b</subsheetid>
    <display x="-270" y="30" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="5f4286e6-2365-4330-8c37-ee3f451a7896" name="Output" type="Block">
    <subsheetid>33d259f7-cb45-4401-b725-01d2ac0cb72b</subsheetid>
    <display x="-270" y="210" w="150" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="ea1a5045-513d-41ce-9bda-5bca9552a1a3" name="Anchor14" type="Anchor">
    <subsheetid>33d259f7-cb45-4401-b725-01d2ac0cb72b</subsheetid>
    <loginhibit />
    <display x="15" y="-75" w="10" h="10" />
    <onsuccess>0745d735-6f41-45ea-a08e-12340f20f157</onsuccess>
  </stage>
  <stage stageid="6594b212-8186-4612-b6ab-5b263a59ff90" name="Søg efter bruger" type="Block">
    <subsheetid>33d259f7-cb45-4401-b725-01d2ac0cb72b</subsheetid>
    <loginhibit />
    <display x="-90" y="-60" w="270" h="240" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="ff08fc4a-87e4-4ea6-88b1-f1aad15f341d" name="Bruger" type="Collection">
    <subsheetid>33d259f7-cb45-4401-b725-01d2ac0cb72b</subsheetid>
    <loginhibit />
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="d8a5c714-04f9-4a01-bbcd-0ac47f9b4c96" name="Succes" type="Data">
    <subsheetid>33d259f7-cb45-4401-b725-01d2ac0cb72b</subsheetid>
    <loginhibit />
    <display x="-195" y="330" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="222d4ea6-d5f5-4b36-94be-a918e32bfe4d" name="Sæt succes" type="Calculation">
    <subsheetid>33d259f7-cb45-4401-b725-01d2ac0cb72b</subsheetid>
    <loginhibit />
    <display x="15" y="150" />
    <onsuccess>9f918ab0-d2e0-485a-ab7b-da72a3b102bf</onsuccess>
    <calculation expression="[Statuskode] = 200" stage="Succes" />
  </stage>
  <stage stageid="0745d735-6f41-45ea-a08e-12340f20f157" name="Har vi &quot;organizations&quot;" type="Action">
    <subsheetid>33d259f7-cb45-4401-b725-01d2ac0cb72b</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-30" />
    <inputs>
      <input type="collection" name="Input Collection" friendlyname="Input Collection" narrative="The collection to check." expr="[Bruger._links]" />
      <input type="text" name="Field" friendlyname="Field" narrative="The field to see if the collection has." expr="&quot;organizations&quot;" />
    </inputs>
    <outputs>
      <output type="flag" name="Success" friendlyname="Success" narrative="True if the collection contains the field." stage="Succes" />
      <output type="text" name="Error Message" friendlyname="Error Message" narrative="Unused" stage="" />
    </outputs>
    <onsuccess>32966f33-2164-4cde-bd19-eb6c6c6f16e5</onsuccess>
    <resource object="Utility - Collection Manipulation" action="Collection Contains Field" />
  </stage>
  <stage stageid="32966f33-2164-4cde-bd19-eb6c6c6f16e5" name="Har vi feltet?" type="Decision">
    <subsheetid>33d259f7-cb45-4401-b725-01d2ac0cb72b</subsheetid>
    <loginhibit />
    <display x="15" y="60" />
    <decision expression="[Succes]" />
    <ontrue>b49dfc4a-7040-425b-9e73-0d909a88c64e</ontrue>
    <onfalse>cd25f813-c718-43d9-bd77-5319a613a590</onfalse>
  </stage>
  <stage stageid="cd25f813-c718-43d9-bd77-5319a613a590" name="Hent self" type="Action">
    <subsheetid>33d259f7-cb45-4401-b725-01d2ac0cb72b</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="120" y="60" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bruger._links.self]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Bruger" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>ce4cf89c-a673-4ff8-890f-f124423fe493</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="b49dfc4a-7040-425b-9e73-0d909a88c64e" name="Hent organisationer" type="Action">
    <subsheetid>33d259f7-cb45-4401-b725-01d2ac0cb72b</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="105" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bruger._links.organizations]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Organisationer" />
      <output type="number" name="Antal" friendlyname="Antal" stage="Antal" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>222d4ea6-d5f5-4b36-94be-a918e32bfe4d</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="5149c831-213a-4ed3-8351-dd771754b557" name="Organisationer" type="Collection">
    <subsheetid>33d259f7-cb45-4401-b725-01d2ac0cb72b</subsheetid>
    <display x="-195" y="240" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="b11e9b18-e877-46a6-8ffa-449cfbe8d752" name="Statuskode" type="Data">
    <subsheetid>33d259f7-cb45-4401-b725-01d2ac0cb72b</subsheetid>
    <display x="-195" y="120" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="bfe2fdf1-67d8-42ec-9c07-58f585acb67d" name="Hent brugers roller" type="SubSheetInfo">
    <subsheetid>9589fe3b-7809-4a8e-bec5-1044ec2913a1</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="138083b2-1b65-44b3-b030-7b058db47989" name="Start" type="Start">
    <subsheetid>9589fe3b-7809-4a8e-bec5-1044ec2913a1</subsheetid>
    <loginhibit />
    <display x="15" y="-105" />
    <inputs>
      <input type="collection" name="Bruger" stage="Bruger" />
    </inputs>
    <onsuccess>e58f1522-4f31-44a6-8e45-6508f7eab067</onsuccess>
  </stage>
  <stage stageid="821de392-971d-466c-8cc8-1c7d0e3ca688" name="End" type="End">
    <subsheetid>9589fe3b-7809-4a8e-bec5-1044ec2913a1</subsheetid>
    <loginhibit />
    <display x="15" y="165" />
    <outputs>
      <output type="collection" name="Roller" stage="Roller" />
      <output type="flag" name="Succes" stage="Succes" />
      <output type="number" name="Antal" stage="Antal" />
    </outputs>
  </stage>
  <stage stageid="3d2c4cce-1dce-495c-82f8-1c8befa1bf87" name="Input" type="Block">
    <subsheetid>9589fe3b-7809-4a8e-bec5-1044ec2913a1</subsheetid>
    <display x="-270" y="-45" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="8bdd3149-7fbe-4df3-b4d6-d7360c930d2d" name="Variabler" type="Block">
    <subsheetid>9589fe3b-7809-4a8e-bec5-1044ec2913a1</subsheetid>
    <display x="-270" y="90" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="8db06c5c-3e81-45a7-a710-b0f9d3bf8659" name="Konstanter" type="Block">
    <subsheetid>9589fe3b-7809-4a8e-bec5-1044ec2913a1</subsheetid>
    <display x="-270" y="30" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="0eeab98a-532d-4516-a04a-1b0b8a2200ad" name="Output" type="Block">
    <subsheetid>9589fe3b-7809-4a8e-bec5-1044ec2913a1</subsheetid>
    <display x="-270" y="165" w="150" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="c26e5262-ee9c-436e-aafe-7f98a14b1923" name="Søg efter bruger" type="Block">
    <subsheetid>9589fe3b-7809-4a8e-bec5-1044ec2913a1</subsheetid>
    <loginhibit />
    <display x="-90" y="-60" w="270" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="e4e37667-5955-441d-b091-a29d7eacae92" name="Bruger" type="Collection">
    <subsheetid>9589fe3b-7809-4a8e-bec5-1044ec2913a1</subsheetid>
    <loginhibit />
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="7497fea7-86b5-4afc-804c-ee1fb41b8e31" name="Succes" type="Data">
    <subsheetid>9589fe3b-7809-4a8e-bec5-1044ec2913a1</subsheetid>
    <loginhibit />
    <display x="-195" y="285" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="517941c0-002d-45e5-80f6-2a563920544b" name="Sæt succes" type="Calculation">
    <subsheetid>9589fe3b-7809-4a8e-bec5-1044ec2913a1</subsheetid>
    <loginhibit />
    <display x="15" y="60" />
    <onsuccess>821de392-971d-466c-8cc8-1c7d0e3ca688</onsuccess>
    <calculation expression="[Statuskode] = 200" stage="Succes" />
  </stage>
  <stage stageid="e58f1522-4f31-44a6-8e45-6508f7eab067" name="Hent self" type="Action">
    <subsheetid>9589fe3b-7809-4a8e-bec5-1044ec2913a1</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-30" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bruger._links.self]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Bruger" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>c0e0e6ed-4302-42a6-abd7-a27311fc61ae</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="c0e0e6ed-4302-42a6-abd7-a27311fc61ae" name="Hent roller" type="Action">
    <subsheetid>9589fe3b-7809-4a8e-bec5-1044ec2913a1</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="15" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bruger._links.roles]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Roller" />
      <output type="number" name="Antal" friendlyname="Antal" stage="Antal" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>517941c0-002d-45e5-80f6-2a563920544b</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="c33b7a00-dc05-4c94-9f66-371348c98f94" name="Statuskode" type="Data">
    <subsheetid>9589fe3b-7809-4a8e-bec5-1044ec2913a1</subsheetid>
    <display x="-195" y="120" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="a3d48bef-fe23-4224-92bc-7fd7aa40390c" name="Roller" type="Collection">
    <subsheetid>9589fe3b-7809-4a8e-bec5-1044ec2913a1</subsheetid>
    <display x="-195" y="195" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="94758308-e65d-48c6-ab19-4628b66b8aa1" name="Tilføj rolle til bruger" type="SubSheetInfo">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="bf7a6059-200a-4ecc-94c8-80c82802c65a" name="Start" type="Start">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <loginhibit />
    <display x="15" y="-105" />
    <inputs>
      <input type="collection" name="Bruger" stage="Bruger" />
      <input type="text" name="Rolle" narrative="Navn på rollen" stage="Rolle" />
    </inputs>
    <onsuccess>0919644f-7db0-4d82-9c07-5a15afabda95</onsuccess>
  </stage>
  <stage stageid="d14d926d-9a97-47a7-a57f-8892a2bfb8b1" name="End" type="End">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <loginhibit />
    <display x="15" y="420" />
    <outputs>
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="60854829-1ce5-4acd-b943-fc987abe7359" name="Input" type="Block">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <display x="-270" y="-45" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="3088a76d-525d-4387-8dc4-c6048912c67f" name="Variabler" type="Block">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <display x="-270" y="135" w="150" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="f5e4ae1a-bb7e-44a0-8ccf-74813751bb17" name="Konstanter" type="Block">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <display x="-270" y="75" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="7051dbb3-2b0d-4392-a5c7-f5a3426eaa23" name="Output" type="Block">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <display x="-270" y="345" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="903184dd-14dd-4cc5-a770-2b2083d9d19d" name="Kontroller rolle" type="Block">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <loginhibit />
    <display x="-90" y="-60" w="270" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="9b845a6a-7ef8-4c9f-a924-b25fedf59426" name="Bruger" type="Collection">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <loginhibit />
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="226dabe7-e2b0-4074-bb5c-84ec2cdabdf0" name="Succes" type="Data">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <loginhibit />
    <display x="-195" y="375" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="a3cb9924-1f15-478d-a144-764ed45c2402" name="Sæt succes" type="Calculation">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <loginhibit />
    <display x="15" y="360" />
    <onsuccess>d14d926d-9a97-47a7-a57f-8892a2bfb8b1</onsuccess>
    <calculation expression="[Statuskode] = 200" stage="Succes" />
  </stage>
  <stage stageid="045b4ecc-64b9-499e-a120-db274f52f1ee" name="Hent self" type="Action">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-30" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bruger._links.self]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Bruger" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>1f8573e8-4190-4b28-b278-c628b66f66eb</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="462119e3-c36c-4811-bcf8-389fb2fed1a1" name="Hent tilgængelige roller" type="Action">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="180" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bruger._links.availableRoles]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Tilgængelige roller" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>98a711d3-0e28-4809-a64c-4278ce7d6cdf</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="55db62c6-2cec-4f5a-bf22-993a2e836e6e" name="Statuskode" type="Data">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <display x="-195" y="300" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="0d9f70b2-1d4d-4c99-9704-bb77101b52db" name="Rolle" type="Data">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <display x="-195" y="30" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="3408a33f-558d-4db5-85d9-2f7546f28972" name="Tilgængelige roller" type="Collection">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <display x="-195" y="210" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="ce9e7b7f-16a8-451d-99a4-45d6c9ddd1be" name="Nexus - Core::Start" type="Action">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="150" y="-240" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - produktion&quot;" />
    </inputs>
    <onsuccess>05181fa6-7c0b-476d-b23c-8ff52656a49b</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="005c3b76-4a74-458a-b4d7-8355fe21698e" name="Debug" type="Block">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <loginhibit />
    <display x="105" y="-270" w="165" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
  </stage>
  <stage stageid="fe1ace0a-30d7-4649-a540-8560ae14c84f" name="Sæt rolle" type="Calculation">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <loginhibit />
    <display x="150" y="-150" />
    <onsuccess>4af967ce-a032-4d35-a69d-c2c5eb4b5872</onsuccess>
    <calculation expression="&quot;AEHF Ledsageordning&quot;" stage="Rolle" />
  </stage>
  <stage stageid="0919644f-7db0-4d82-9c07-5a15afabda95" name="Anchor16" type="Anchor">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <loginhibit />
    <display x="15" y="-75" w="10" h="10" />
    <onsuccess>045b4ecc-64b9-499e-a120-db274f52f1ee</onsuccess>
  </stage>
  <stage stageid="4af967ce-a032-4d35-a69d-c2c5eb4b5872" name="Anchor17" type="Anchor">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <loginhibit />
    <display x="150" y="-75" w="10" h="10" />
    <onsuccess>0919644f-7db0-4d82-9c07-5a15afabda95</onsuccess>
  </stage>
  <stage stageid="05181fa6-7c0b-476d-b23c-8ff52656a49b" name="Hent bruger" type="SubSheet">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <loginhibit />
    <display x="150" y="-195" />
    <inputs>
      <input type="text" name="Initialer" friendlyname="Initialer" expr="&quot;roboa&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Bruger" friendlyname="Bruger" stage="Bruger" />
      <output type="flag" name="Succes" friendlyname="Succes" stage="" />
    </outputs>
    <onsuccess>fe1ace0a-30d7-4649-a540-8560ae14c84f</onsuccess>
    <processid>c42c155b-56ed-41c5-83f4-a82d50269c93</processid>
  </stage>
  <stage stageid="f519d4e8-90b6-4844-9480-236077e82050" name="Tilføj rolle" type="Block">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <loginhibit />
    <display x="-90" y="150" w="270" h="240" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="98a711d3-0e28-4809-a64c-4278ce7d6cdf" name="Find rolle" type="Action">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="225" />
    <inputs>
      <input type="collection" name="Collection In" friendlyname="Collection In" narrative="Input collection" expr="[Tilgængelige roller]" />
      <input type="text" name="Filter" friendlyname="Filter" narrative="The filter to apply" expr="&quot;[name] = '&quot; &amp; [Rolle] &amp; &quot;'&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The amount of rows in the filtered collection" stage="Antal" />
      <output type="collection" name="Collection Out" friendlyname="Collection Out" narrative="The filtered collection" stage="Tilgængelige roller" />
    </outputs>
    <onsuccess>8e48e1a3-c5f4-46b9-932a-627fe9818659</onsuccess>
    <resource object="Utility - Odk Linq" action="Filter" />
  </stage>
  <stage stageid="e561e824-457d-459e-a149-d9c7aff6f6a7" name="Antal" type="Data">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <display x="-195" y="255" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="8e48e1a3-c5f4-46b9-932a-627fe9818659" name="Fandt vi en rolle?" type="Decision">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <loginhibit />
    <display x="15" y="270" />
    <decision expression="[Antal] = 1" />
    <ontrue>6dfe1015-a76e-4619-a3d7-8dd5d23ab020</ontrue>
    <onfalse>b43d9960-5ab1-4d22-bf53-c07e712e465e</onfalse>
  </stage>
  <stage stageid="b43d9960-5ab1-4d22-bf53-c07e712e465e" name="!Success" type="Calculation">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <loginhibit />
    <display x="105" y="270" />
    <onsuccess>a53e4f48-1b97-4b10-8a03-7a6bdf2f16cd</onsuccess>
    <calculation expression="False" stage="Succes" />
  </stage>
  <stage stageid="a53e4f48-1b97-4b10-8a03-7a6bdf2f16cd" name="End2" type="End">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <loginhibit />
    <display x="225" y="270" />
    <outputs>
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="6dfe1015-a76e-4619-a3d7-8dd5d23ab020" name="Opdater  rollen" type="Action">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="315" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bruger._links.updateRoles]" />
      <input type="text" name="Body" friendlyname="Body" expr="&quot;{&quot;&quot;added&quot;&quot;:[&quot; &amp; [Tilgængelige roller.id] &amp; &quot;],&quot;&quot;removed&quot;&quot;:[]}&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>a3cb9924-1f15-478d-a144-764ed45c2402</onsuccess>
    <resource object="Nexus - Core" action="Post" />
  </stage>
  <stage stageid="1f8573e8-4190-4b28-b278-c628b66f66eb" name="Hent roller" type="Action">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="15" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bruger._links.roles]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Roller" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>c8727355-334a-4822-b4af-11cbb6d68658</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="3c5b7e63-7fbe-4777-ae59-dd275bc61f03" name="Roller" type="Collection">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <display x="-195" y="165" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="c8727355-334a-4822-b4af-11cbb6d68658" name="Find rolle" type="Action">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="60" />
    <inputs>
      <input type="collection" name="Collection In" friendlyname="Collection In" narrative="Input collection" expr="[Roller]" />
      <input type="text" name="Filter" friendlyname="Filter" narrative="The filter to apply" expr="&quot;[name] = '&quot; &amp; [Rolle] &amp; &quot;'&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The amount of rows in the filtered collection" stage="Antal" />
    </outputs>
    <onsuccess>3c220d0b-8a72-494d-9333-82f7baf8ec31</onsuccess>
    <resource object="Utility - Odk Linq" action="Count" />
  </stage>
  <stage stageid="3c220d0b-8a72-494d-9333-82f7baf8ec31" name="Har vi rollen?" type="Decision">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <loginhibit />
    <display x="15" y="105" />
    <decision expression="[Antal] &gt; 0" />
    <ontrue>0c03a01d-34e0-4b22-abb9-6bf7cf9b270d</ontrue>
    <onfalse>462119e3-c36c-4811-bcf8-389fb2fed1a1</onfalse>
  </stage>
  <stage stageid="0c03a01d-34e0-4b22-abb9-6bf7cf9b270d" name="Succes" type="Calculation">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <loginhibit />
    <display x="105" y="105" />
    <onsuccess>1e695353-959d-4203-a70d-d8d7b03c791e</onsuccess>
    <calculation expression="True" stage="Succes" />
  </stage>
  <stage stageid="1e695353-959d-4203-a70d-d8d7b03c791e" name="End2" type="End">
    <subsheetid>002788e0-4628-41d5-8214-234117f1ee54</subsheetid>
    <loginhibit />
    <display x="225" y="105" />
    <outputs>
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="80526156-4599-4515-b358-2ba951932136" name="Fjern rolle fra bruger" type="SubSheetInfo">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="af7c659d-96cd-494f-b16c-926244975733" name="Start" type="Start">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <loginhibit />
    <display x="15" y="-105" />
    <inputs>
      <input type="collection" name="Bruger" stage="Bruger" />
      <input type="text" name="Rolle" narrative="Navn på rollen" stage="Rolle" />
    </inputs>
    <onsuccess>2f39f4c1-4668-440a-bb35-09b15fd0018b</onsuccess>
  </stage>
  <stage stageid="83c85b7a-ec9e-4064-a5f4-4a6796300bec" name="End" type="End">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <loginhibit />
    <display x="15" y="285" />
    <outputs>
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="ea31255d-e494-417f-bb9d-681b7dc96246" name="Input" type="Block">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <display x="-270" y="-45" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="667c8ab5-2838-4a74-98c0-b9955eb3a3d2" name="Variabler" type="Block">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <display x="-270" y="135" w="150" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="f4a624f7-c8f3-406f-b61f-5f142b222cb9" name="Konstanter" type="Block">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <display x="-270" y="75" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="72b356b2-0a56-4085-848e-1df34a807b21" name="Output" type="Block">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <display x="-270" y="300" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="5ab78e48-8551-4bec-9917-825a1caad0ae" name="Kontroller rolle" type="Block">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <loginhibit />
    <display x="-90" y="-60" w="270" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="ba2a9dec-f881-4891-8bb6-9c40b337e53f" name="Bruger" type="Collection">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <loginhibit />
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="60727a8e-25c6-4e6b-9876-d336b8d278be" name="Succes" type="Data">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <loginhibit />
    <display x="-195" y="330" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="03cca727-b4cb-4b98-a7c8-50290775d586" name="Sæt succes" type="Calculation">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <loginhibit />
    <display x="15" y="225" />
    <onsuccess>83c85b7a-ec9e-4064-a5f4-4a6796300bec</onsuccess>
    <calculation expression="[Statuskode] = 200" stage="Succes" />
  </stage>
  <stage stageid="6ae28da4-6758-44ae-99b1-d3740bb8361d" name="Hent self" type="Action">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-30" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bruger._links.self]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Bruger" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>a2123910-56d7-42eb-a0e4-55ee8f7cb2d6</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="4faec909-6a5d-4867-be2c-080f40cd52bd" name="Statuskode" type="Data">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <display x="-195" y="255" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="62ff9b69-c2cf-4f0a-9b13-1fabbf65c414" name="Rolle" type="Data">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <display x="-195" y="30" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="d620bd26-dd8b-4b6c-ae6d-3b00a03f24bf" name="Nexus - Core::Start" type="Action">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="150" y="-240" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - produktion&quot;" />
    </inputs>
    <onsuccess>f39d16ac-67fe-4e78-95e5-974d9455a6a3</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="31237a07-2808-443e-8238-b38e1480dd38" name="Debug" type="Block">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <loginhibit />
    <display x="105" y="-270" w="165" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
  </stage>
  <stage stageid="bf7d3008-3a4a-440a-9e52-b3339515f8d0" name="Sæt rolle" type="Calculation">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <loginhibit />
    <display x="150" y="-150" />
    <onsuccess>99495788-3cc5-477f-8ad5-07e6a430f4d5</onsuccess>
    <calculation expression="&quot;AEHF Ledsageordning&quot;" stage="Rolle" />
  </stage>
  <stage stageid="2f39f4c1-4668-440a-bb35-09b15fd0018b" name="Anchor16" type="Anchor">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <loginhibit />
    <display x="15" y="-75" w="10" h="10" />
    <onsuccess>6ae28da4-6758-44ae-99b1-d3740bb8361d</onsuccess>
  </stage>
  <stage stageid="99495788-3cc5-477f-8ad5-07e6a430f4d5" name="Anchor17" type="Anchor">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <loginhibit />
    <display x="150" y="-75" w="10" h="10" />
    <onsuccess>2f39f4c1-4668-440a-bb35-09b15fd0018b</onsuccess>
  </stage>
  <stage stageid="f39d16ac-67fe-4e78-95e5-974d9455a6a3" name="Hent bruger" type="SubSheet">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <loginhibit />
    <display x="150" y="-195" />
    <inputs>
      <input type="text" name="Initialer" friendlyname="Initialer" expr="&quot;roboa&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Bruger" friendlyname="Bruger" stage="Bruger" />
      <output type="flag" name="Succes" friendlyname="Succes" stage="" />
    </outputs>
    <onsuccess>bf7d3008-3a4a-440a-9e52-b3339515f8d0</onsuccess>
    <processid>c42c155b-56ed-41c5-83f4-a82d50269c93</processid>
  </stage>
  <stage stageid="2b07ecd8-13c2-41c0-9689-17bcc84a294f" name="Fjern rolle" type="Block">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <loginhibit />
    <display x="-90" y="150" w="270" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="04b5de54-e726-4ef0-801e-8750ae7c7a2d" name="Antal" type="Data">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <display x="-195" y="210" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="4615fc75-fada-4c65-bc6b-94261d60faef" name="Fjern rollen" type="Action">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="180" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bruger._links.updateRoles]" />
      <input type="text" name="Body" friendlyname="Body" expr="&quot;{&quot;&quot;added&quot;&quot;:[],&quot;&quot;removed&quot;&quot;:[&quot; &amp; [Roller.id] &amp; &quot;]}&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>03cca727-b4cb-4b98-a7c8-50290775d586</onsuccess>
    <resource object="Nexus - Core" action="Post" />
  </stage>
  <stage stageid="a2123910-56d7-42eb-a0e4-55ee8f7cb2d6" name="Hent roller" type="Action">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="15" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bruger._links.roles]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Roller" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>eed789e8-9932-43b5-8923-1d9a8cf0ffe0</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="7679ae4f-e165-4d03-bacd-67409beb12fb" name="Roller" type="Collection">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <display x="-195" y="165" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="eed789e8-9932-43b5-8923-1d9a8cf0ffe0" name="Find rolle" type="Action">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="60" />
    <inputs>
      <input type="collection" name="Collection In" friendlyname="Collection In" narrative="Input collection" expr="[Roller]" />
      <input type="text" name="Filter" friendlyname="Filter" narrative="The filter to apply" expr="&quot;[name] = '&quot; &amp; [Rolle] &amp; &quot;'&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The amount of rows in the filtered collection" stage="Antal" />
      <output type="collection" name="Collection Out" friendlyname="Collection Out" narrative="The filtered collection" stage="Roller" />
    </outputs>
    <onsuccess>fb96f336-c9e6-44ee-8933-92c12030c3dd</onsuccess>
    <resource object="Utility - Odk Linq" action="Filter" />
  </stage>
  <stage stageid="fb96f336-c9e6-44ee-8933-92c12030c3dd" name="Har vi rollen?" type="Decision">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <loginhibit />
    <display x="15" y="105" />
    <decision expression="[Antal] &gt; 0" />
    <ontrue>4615fc75-fada-4c65-bc6b-94261d60faef</ontrue>
    <onfalse>25059ad6-e8ab-4675-b226-1384e62bd048</onfalse>
  </stage>
  <stage stageid="25059ad6-e8ab-4675-b226-1384e62bd048" name="Succes" type="Calculation">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <loginhibit />
    <display x="105" y="105" />
    <onsuccess>d63c65cb-1f2c-4b41-859c-575086840dbf</onsuccess>
    <calculation expression="True" stage="Succes" />
  </stage>
  <stage stageid="d63c65cb-1f2c-4b41-859c-575086840dbf" name="End2" type="End">
    <subsheetid>39f2e740-498b-4bbb-a4be-5126d5a6ffa2</subsheetid>
    <loginhibit />
    <display x="225" y="105" />
    <outputs>
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="90106842-9f4e-4c4c-916b-e0d3f2ce00c8" name="Tilføj organisation til bruger" type="SubSheetInfo">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="1fb436ae-cce0-491c-b296-5d3fbee50781" name="Start" type="Start">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit />
    <display x="15" y="-105" />
    <inputs>
      <input type="collection" name="Bruger" stage="Bruger" />
      <input type="text" name="Organisation" narrative="Organisation" stage="Organisation" />
    </inputs>
    <onsuccess>1c478a4b-0595-40b3-a81e-4e9f85723497</onsuccess>
  </stage>
  <stage stageid="ecdaeab4-dd3a-4baf-a4d5-e34219aabcad" name="End" type="End">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit />
    <display x="15" y="420" />
    <outputs>
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="faf2b748-3f5e-44fd-97e0-ba8c554bbc2c" name="Input" type="Block">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <display x="-270" y="-45" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="343a3878-fbf3-45af-8927-d0be97dd9a8d" name="Variabler" type="Block">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <display x="-270" y="135" w="150" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="f2b6ff9a-0742-4c35-a2bf-6533fc5fb6c4" name="Konstanter" type="Block">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <display x="-270" y="75" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="7e5453b8-dadf-4d9a-9713-dae6a7ae1787" name="Output" type="Block">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <display x="-270" y="345" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="8f781a42-88e8-40cf-a61c-4c4260ff4226" name="Kontroller rolle" type="Block">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit />
    <display x="-90" y="-60" w="270" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="cb4c8888-3129-4a9e-8969-a7abc7b62051" name="Bruger" type="Collection">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit />
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="05690e5e-ab1f-46cb-bff7-c67a5b38ea5f" name="Succes" type="Data">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit />
    <display x="-195" y="375" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="df34e72a-2c8c-4cff-bc3e-57b78c231b58" name="Sæt succes" type="Calculation">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit />
    <display x="15" y="360" />
    <onsuccess>ecdaeab4-dd3a-4baf-a4d5-e34219aabcad</onsuccess>
    <calculation expression="[Statuskode] = 200" stage="Succes" />
  </stage>
  <stage stageid="fe7695b1-268f-4e25-bb01-542af8d47667" name="Hent self" type="Action">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-30" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bruger._links.self]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Bruger" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>8cac70bc-8bd1-4358-861e-aa446656affb</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="16880ec0-57b3-4b60-b46c-cc5b3309b991" name="Statuskode" type="Data">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <display x="-195" y="300" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="18307e0f-d1d4-4d19-8a5b-730c8dd3a536" name="Nexus - Core::Start" type="Action">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="150" y="-240" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - produktion&quot;" />
    </inputs>
    <onsuccess>cc2ce896-f66e-4a09-9865-c556c2d16d78</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="19457218-581b-4d74-a265-62198a9de198" name="Debug" type="Block">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit />
    <display x="105" y="-270" w="165" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
  </stage>
  <stage stageid="466ce1f6-1477-4deb-8739-f6a40eaa583b" name="Sæt organisation" type="Calculation">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit />
    <display x="150" y="-150" />
    <onsuccess>c91999e4-8127-42b7-95ec-f602239db248</onsuccess>
    <calculation expression="&quot;Kalørgruppen&quot;" stage="Organisation" />
  </stage>
  <stage stageid="1c478a4b-0595-40b3-a81e-4e9f85723497" name="Anchor16" type="Anchor">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit />
    <display x="15" y="-75" w="10" h="10" />
    <onsuccess>fe7695b1-268f-4e25-bb01-542af8d47667</onsuccess>
  </stage>
  <stage stageid="c91999e4-8127-42b7-95ec-f602239db248" name="Anchor17" type="Anchor">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit />
    <display x="150" y="-75" w="10" h="10" />
    <onsuccess>1c478a4b-0595-40b3-a81e-4e9f85723497</onsuccess>
  </stage>
  <stage stageid="cc2ce896-f66e-4a09-9865-c556c2d16d78" name="Hent bruger" type="SubSheet">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit />
    <display x="150" y="-195" />
    <inputs>
      <input type="text" name="Initialer" friendlyname="Initialer" expr="&quot;roboa&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Bruger" friendlyname="Bruger" stage="Bruger" />
      <output type="flag" name="Succes" friendlyname="Succes" stage="" />
    </outputs>
    <onsuccess>466ce1f6-1477-4deb-8739-f6a40eaa583b</onsuccess>
    <processid>c42c155b-56ed-41c5-83f4-a82d50269c93</processid>
  </stage>
  <stage stageid="67d8f04d-9176-4d3a-aee1-ae447313910e" name="Tilføj rolle" type="Block">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit />
    <display x="-90" y="150" w="270" h="240" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="3f43a0d3-97fc-4cd7-bd09-ac60985f0c8f" name="Tæl organisationen" type="Action">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="225" />
    <inputs>
      <input type="text" name="Collection Name" friendlyname="Collection Name" narrative="The name of the collection to act upon" expr="&quot;Ny organisation&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The number of rows counted in the collection" stage="Antal" />
    </outputs>
    <onsuccess>dfa871b7-6594-4307-aa99-e035239a6029</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Count Rows" />
  </stage>
  <stage stageid="da489a1f-ceac-4a43-8167-8dd37f8c9e0d" name="Antal" type="Data">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <display x="-195" y="255" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="dfa871b7-6594-4307-aa99-e035239a6029" name="Fik vi en?" type="Decision">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit />
    <display x="15" y="270" />
    <decision expression="[Antal] = 1" />
    <ontrue>bff1624c-6e48-43c7-8f60-769ef7bf9c38</ontrue>
    <onfalse>b55883be-e7d0-41a5-92da-5d548176a5f5</onfalse>
  </stage>
  <stage stageid="b55883be-e7d0-41a5-92da-5d548176a5f5" name="!Success" type="Calculation">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit />
    <display x="105" y="270" />
    <onsuccess>ac1f2d0b-a8fa-4cbd-a06a-53f64ae346c7</onsuccess>
    <calculation expression="False" stage="Succes" />
  </stage>
  <stage stageid="ac1f2d0b-a8fa-4cbd-a06a-53f64ae346c7" name="End2" type="End">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit />
    <display x="225" y="270" />
    <outputs>
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="bff1624c-6e48-43c7-8f60-769ef7bf9c38" name="Opdater  organisation" type="Action">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="315" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bruger._links.updateOrganizations]" />
      <input type="text" name="Body" friendlyname="Body" expr="&quot;{&quot;&quot;added&quot;&quot;:[&quot; &amp; [Ny organisation.id] &amp; &quot;],&quot;&quot;removed&quot;&quot;:[]}&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>df34e72a-2c8c-4cff-bc3e-57b78c231b58</onsuccess>
    <resource object="Nexus - Core" action="Post" />
  </stage>
  <stage stageid="8cac70bc-8bd1-4358-861e-aa446656affb" name="Hent organisationer" type="Action">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="15" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bruger._links.organizations]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Organisationer" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>37e7c218-ccc6-48c4-95d9-f696ec372929</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="0fbf8f62-399a-4b2c-b405-cacc2b59f9e1" name="Organisationer" type="Collection">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <display x="-195" y="165" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="37e7c218-ccc6-48c4-95d9-f696ec372929" name="Find organisation" type="Action">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="60" />
    <inputs>
      <input type="collection" name="Collection In" friendlyname="Collection In" narrative="Input collection" expr="[Organisationer]" />
      <input type="text" name="Filter" friendlyname="Filter" narrative="The filter to apply" expr="&quot;[name] = '&quot; &amp; [Organisation] &amp; &quot;'&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The amount of rows in the filtered collection" stage="Antal" />
    </outputs>
    <onsuccess>15d0c346-3f44-4132-9643-a8464b4bb6d3</onsuccess>
    <resource object="Utility - Odk Linq" action="Count" />
  </stage>
  <stage stageid="15d0c346-3f44-4132-9643-a8464b4bb6d3" name="Har vi en organisation?" type="Decision">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit />
    <display x="15" y="105" />
    <decision expression="[Antal] &gt; 0" />
    <ontrue>f36a6a5d-0940-42ab-a3a9-d8735215b11d</ontrue>
    <onfalse>2bd6f33b-fd8c-4a70-b403-511cb94bcfaf</onfalse>
  </stage>
  <stage stageid="f36a6a5d-0940-42ab-a3a9-d8735215b11d" name="Succes" type="Calculation">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit />
    <display x="105" y="105" />
    <onsuccess>02776247-3eb3-4d30-b849-ea5afa780bc7</onsuccess>
    <calculation expression="True" stage="Succes" />
  </stage>
  <stage stageid="02776247-3eb3-4d30-b849-ea5afa780bc7" name="End2" type="End">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit />
    <display x="225" y="105" />
    <outputs>
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="a6615f60-d487-4c12-a6ff-e7c408050f6e" name="Organisation" type="Data">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <display x="-195" y="30" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="2bd6f33b-fd8c-4a70-b403-511cb94bcfaf" name="Hent organisation" type="SubSheet">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit />
    <display x="15" y="180" />
    <inputs>
      <input type="text" name="Organisation" friendlyname="Organisation" expr="[Organisation]" />
    </inputs>
    <outputs>
      <output type="collection" name="Organisation" friendlyname="Organisation" stage="Ny organisation" />
    </outputs>
    <onsuccess>3f43a0d3-97fc-4cd7-bd09-ac60985f0c8f</onsuccess>
    <processid>94c62100-8b67-492c-b936-f11fdabc0563</processid>
  </stage>
  <stage stageid="ec051b73-8609-403b-a35a-ef58aa0c3813" name="Ny organisation" type="Collection">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <display x="-195" y="210" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="e44284b9-121a-4bca-8abe-3f5d80e7ed43" name="Fjern organisation fra bruger" type="SubSheetInfo">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="815e4776-d6d8-4702-8a2f-838aa2e28c4d" name="Start" type="Start">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <loginhibit />
    <display x="15" y="-105" />
    <inputs>
      <input type="collection" name="Bruger" stage="Bruger" />
      <input type="text" name="Organisation" narrative="Organisation" stage="Organisation" />
    </inputs>
    <onsuccess>7acf882c-8a56-467d-92e5-fb8e2e94332b</onsuccess>
  </stage>
  <stage stageid="1504b816-e9c1-48a7-b4f7-1f79e9e62129" name="End" type="End">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <loginhibit />
    <display x="15" y="285" />
    <outputs>
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="1b3ab771-3745-4632-aaca-cd6a5ae8b5c1" name="Input" type="Block">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <display x="-270" y="-45" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="15b3d4d6-2cbe-4721-b856-e03875c2e2fc" name="Variabler" type="Block">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <display x="-270" y="135" w="150" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="39505279-da1c-422a-9b8c-7a63572e0a64" name="Konstanter" type="Block">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <display x="-270" y="75" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="f10e34e3-a684-41b0-a8e8-1f959c73c758" name="Output" type="Block">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <display x="-270" y="300" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="4120d65f-b36c-46ce-807c-028d32af2b73" name="Kontroller rolle" type="Block">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <loginhibit />
    <display x="-90" y="-60" w="270" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="db2ff2e5-3a93-4c6d-9702-89541f98284a" name="Bruger" type="Collection">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <loginhibit />
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="01076a3b-80d8-4f6c-bd37-08e17bf90032" name="Succes" type="Data">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <loginhibit />
    <display x="-195" y="330" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="801d9b91-4343-47a9-84e5-fc085e9981d1" name="Sæt succes" type="Calculation">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <loginhibit />
    <display x="15" y="225" />
    <onsuccess>1504b816-e9c1-48a7-b4f7-1f79e9e62129</onsuccess>
    <calculation expression="[Statuskode] = 200" stage="Succes" />
  </stage>
  <stage stageid="796e2224-e65b-4b80-83b1-817cd3b5e304" name="Hent self" type="Action">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-30" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bruger._links.self]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Bruger" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>c54c2378-3381-49d8-a4af-7850ed15c0c8</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="3aea04db-8e79-4f77-8002-92a72bc3e090" name="Statuskode" type="Data">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <display x="-195" y="255" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="bac705b3-e94b-4249-b0d9-dd027f5855d9" name="Nexus - Core::Start" type="Action">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="150" y="-240" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - odensedev&quot;" />
    </inputs>
    <onsuccess>c2efb078-ef7a-4f9d-bfb8-a5f4d7c6e17b</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="75c41c7b-1744-4375-8175-b119c38026a4" name="Debug" type="Block">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <loginhibit />
    <display x="105" y="-270" w="165" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
  </stage>
  <stage stageid="ef3e5f9b-7c82-49ca-aaf8-0cf37a4db42b" name="Sæt organisation" type="Calculation">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <loginhibit />
    <display x="150" y="-150" />
    <onsuccess>07d9f7ab-8a4d-4fb5-aaa4-db30ea971a72</onsuccess>
    <calculation expression="&quot;Kalørgruppen&quot;" stage="Organisation" />
  </stage>
  <stage stageid="7acf882c-8a56-467d-92e5-fb8e2e94332b" name="Anchor16" type="Anchor">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <loginhibit />
    <display x="15" y="-75" w="10" h="10" />
    <onsuccess>796e2224-e65b-4b80-83b1-817cd3b5e304</onsuccess>
  </stage>
  <stage stageid="07d9f7ab-8a4d-4fb5-aaa4-db30ea971a72" name="Anchor17" type="Anchor">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <loginhibit />
    <display x="150" y="-75" w="10" h="10" />
    <onsuccess>7acf882c-8a56-467d-92e5-fb8e2e94332b</onsuccess>
  </stage>
  <stage stageid="c2efb078-ef7a-4f9d-bfb8-a5f4d7c6e17b" name="Hent bruger" type="SubSheet">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <loginhibit />
    <display x="150" y="-195" />
    <inputs>
      <input type="text" name="Initialer" friendlyname="Initialer" expr="&quot;roboa&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Bruger" friendlyname="Bruger" stage="Bruger" />
      <output type="flag" name="Succes" friendlyname="Succes" stage="" />
    </outputs>
    <onsuccess>ef3e5f9b-7c82-49ca-aaf8-0cf37a4db42b</onsuccess>
    <processid>c42c155b-56ed-41c5-83f4-a82d50269c93</processid>
  </stage>
  <stage stageid="31e2f7f7-aead-4518-8bff-b49f651638a0" name="Fjern organisation" type="Block">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <loginhibit />
    <display x="-90" y="150" w="270" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="3fdf38b2-a7ba-46ab-b737-8f3f6605edf0" name="Antal" type="Data">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <display x="-195" y="210" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="0268de6f-90a9-4f7e-8f4e-032204b8106d" name="Opdater  organisation" type="Action">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="180" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bruger._links.updateOrganizations]" />
      <input type="text" name="Body" friendlyname="Body" expr="&quot;{&quot;&quot;added&quot;&quot;:[],&quot;&quot;removed&quot;&quot;:[&quot; &amp; [Organisationer.id] &amp; &quot;]}&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>801d9b91-4343-47a9-84e5-fc085e9981d1</onsuccess>
    <resource object="Nexus - Core" action="Post" />
  </stage>
  <stage stageid="c54c2378-3381-49d8-a4af-7850ed15c0c8" name="Hent organisationer" type="Action">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="15" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bruger._links.organizations]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Organisationer" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>d5392a85-e610-4b60-8288-3277620f79f7</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="10f050bc-d92d-43c1-960a-8fa5b33e30d0" name="Organisationer" type="Collection">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <display x="-195" y="165" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="d5392a85-e610-4b60-8288-3277620f79f7" name="Find organisation" type="Action">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="60" />
    <inputs>
      <input type="collection" name="Collection In" friendlyname="Collection In" narrative="Input collection" expr="[Organisationer]" />
      <input type="text" name="Filter" friendlyname="Filter" narrative="The filter to apply" expr="&quot;[name] = '&quot; &amp; [Organisation] &amp; &quot;'&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The amount of rows in the filtered collection" stage="Antal" />
      <output type="collection" name="Collection Out" friendlyname="Collection Out" narrative="The filtered collection" stage="Organisationer" />
    </outputs>
    <onsuccess>25b8f745-9762-44e9-8513-27e0367d84a7</onsuccess>
    <resource object="Utility - Odk Linq" action="Filter" />
  </stage>
  <stage stageid="25b8f745-9762-44e9-8513-27e0367d84a7" name="Har vi en organisation?" type="Decision">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <loginhibit />
    <display x="15" y="105" />
    <decision expression="[Antal] &gt; 0" />
    <ontrue>0268de6f-90a9-4f7e-8f4e-032204b8106d</ontrue>
    <onfalse>b2348581-5266-45f1-81cf-9e525306614d</onfalse>
  </stage>
  <stage stageid="b2348581-5266-45f1-81cf-9e525306614d" name="Succes" type="Calculation">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <loginhibit />
    <display x="105" y="105" />
    <onsuccess>943cc931-dea5-4df1-a237-ee8bff33204a</onsuccess>
    <calculation expression="True" stage="Succes" />
  </stage>
  <stage stageid="943cc931-dea5-4df1-a237-ee8bff33204a" name="End2" type="End">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <loginhibit />
    <display x="225" y="105" />
    <outputs>
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="5ebd607c-57da-4029-a3c6-7db13e4f8570" name="Organisation" type="Data">
    <subsheetid>1dab0e8f-c5df-4881-b4c6-75f0a407dfaf</subsheetid>
    <display x="-195" y="30" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="eab2bf84-4c75-4e0b-a869-1ec13f969d89" name="Opret bruger fra STS" type="SubSheetInfo">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="55104797-fc13-4200-8786-5bf48d7e2e84" name="Start" type="Start">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <loginhibit />
    <display x="15" y="-120" />
    <inputs>
      <input type="text" name="Initialer" stage="Initialer" />
      <input type="text" name="Organisation" narrative="Dette er tekstbeskrivelsen, medarbejder tilknyttes ikke" stage="Organisation" />
      <input type="text" name="Signatur" narrative="Standard er det normale valg" stage="Signatur" />
    </inputs>
    <onsuccess>f9172ef9-95f7-4c8f-94d9-54860ac7468c</onsuccess>
  </stage>
  <stage stageid="127505b2-4747-4b20-af66-605b04424535" name="End" type="End">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <loginhibit />
    <display x="15" y="405" />
    <outputs>
      <output type="collection" name="Bruger" stage="Bruger" />
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="fa230f26-3705-4239-bd6f-1e56c3be39f7" name="Initialer" type="Data">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="965e2a6a-5301-440d-a07b-d8e7a90ce4d9" name="Organisation" type="Data">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <display x="-195" y="30" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="dd9d506c-ffd9-4fba-89e2-d52c94e02232" name="Signatur" type="Data">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <display x="-195" y="75" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="e196b4c0-5e64-4af2-b87a-a34faa97965f" name="Input" type="Block">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <display x="-270" y="-45" w="150" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="38779b5f-044e-4166-8e0c-a6b2f0fc2def" name="Variabler" type="Block">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <display x="-270" y="180" w="150" h="285" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="b70d4aec-1086-4dca-863b-9efc9c51410a" name="Konstanter" type="Block">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <display x="-270" y="120" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="9d67ab3f-e3d0-4b80-9242-9c841ee8a774" name="Output" type="Block">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <display x="-270" y="480" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="3f773426-c2c5-4180-9727-9768dea0ce11" name="Statuskode" type="Data">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <display x="-195" y="435" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="f37b9274-bdd7-43b7-815e-3ab2699d68b9" name="Antal" type="Data">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <display x="-195" y="390" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="5ffa8833-72a4-4e9b-99ab-6949cdf9704d" name="Url" type="Data">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <loginhibit />
    <display x="-195" y="345" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="c5bd59e9-7e59-4dcb-b639-22ef4812ee22" name="Hent Url" type="Action">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-45" />
    <inputs>
      <input type="text" name="Navn" friendlyname="Navn" narrative="navn på det globale rod api" expr="&quot;importProfessionalFromSts&quot;" />
    </inputs>
    <outputs>
      <output type="text" name="Url" friendlyname="Url" stage="Url" />
    </outputs>
    <onsuccess>2c08aa9e-63cf-4840-8993-a6ca0c6e8301</onsuccess>
    <resource object="Nexus - Core" action="Api url" />
  </stage>
  <stage stageid="2c08aa9e-63cf-4840-8993-a6ca0c6e8301" name="Hent prototype" type="Action">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="0" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Url] &amp; &quot;?query=&quot; &amp; [Initialer]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Profil" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="Prototype" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>1d4a48c7-dd6a-4416-924c-90d8643e8790</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="8b393904-9dae-45f7-9358-f733ddfb7522" name="Prototype" type="Data">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <display x="-195" y="255" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="1d4a48c7-dd6a-4416-924c-90d8643e8790" name="Fik vi bruger?" type="Decision">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <loginhibit />
    <display x="15" y="45" />
    <decision expression="[Statuskode] = 200" />
    <ontrue>40068d62-0e3a-4115-bde9-7a4f574f45cd</ontrue>
    <onfalse>9e349ae2-730c-475e-982e-60645b613e03</onfalse>
  </stage>
  <stage stageid="9e349ae2-730c-475e-982e-60645b613e03" name="Ingen bruger" type="Exception">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <display x="210" y="45" />
    <exception localized="yes" type="Business Exception" detail="[Initialer] &amp; &quot; kunne ikke findes&quot;" />
  </stage>
  <stage stageid="f6e44e87-8a15-4ae8-8360-6116e3827970" name="Block1" type="Block">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <loginhibit />
    <display x="-90" y="-75" w="255" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="e44d622b-9029-4239-aa82-452f9c20bf77" name="Udfyld bruger prototype" type="Code">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <loginhibit />
    <display x="15" y="255" />
    <inputs>
      <input type="text" name="json" expr="[Prototype]" />
      <input type="text" name="initialer" expr="[Initialer]" />
      <input type="text" name="organisation" expr="[Organisation]" />
      <input type="number" name="signaturid" expr="[Autosignatur.id]" />
    </inputs>
    <outputs>
      <output type="text" name="prototype" stage="Prototype" />
    </outputs>
    <onsuccess>12e4a29c-f69d-4365-b685-ba5bee43c6bc</onsuccess>
    <code><![CDATA[var jobj = JObject.Parse(json);

jobj["initials"] = initialer;
jobj["primaryIdentifier"] = initialer;
jobj["activeDirectoryConfiguration"]["upn"] = initialer + "@odense.dk";

jobj["organizaionName"] = organisation;
jobj["departmentName"] = organisation;

jobj["autoSignature"] = signaturid;

prototype = jobj.ToString();]]></code>
  </stage>
  <stage stageid="61f14fcf-bdf2-4b40-963e-fa8ba9fd39b6" name="Autosignatur" type="Collection">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <loginhibit />
    <display x="-195" y="300" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="5cf38d70-cc45-4a98-9103-a088dbce0b69" name="Profil" type="Collection">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <display x="-195" y="210" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="1cdd7202-a129-4fbd-ad30-168a55ed1979" name="Opret bruger" type="Block">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <loginhibit />
    <display x="-90" y="90" w="255" h="285" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="f9172ef9-95f7-4c8f-94d9-54860ac7468c" name="Anchor18" type="Anchor">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <loginhibit />
    <display x="15" y="-90" w="10" h="10" />
    <onsuccess>c5bd59e9-7e59-4dcb-b639-22ef4812ee22</onsuccess>
  </stage>
  <stage stageid="2a7eab3d-8c26-4ed1-8398-cf62589ba54b" name="Start produktion" type="Action">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="135" y="-195" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - produktion&quot;" />
    </inputs>
    <onsuccess>86f6bdd8-22ac-4b40-b3ae-01a3d13697f0</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="4ba27d10-f752-4d68-9fc0-c85f191a044a" name="Anchor19" type="Anchor">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <loginhibit />
    <display x="135" y="-90" w="10" h="10" />
    <onsuccess>f9172ef9-95f7-4c8f-94d9-54860ac7468c</onsuccess>
  </stage>
  <stage stageid="86f6bdd8-22ac-4b40-b3ae-01a3d13697f0" name="Debug" type="MultipleCalculation">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <loginhibit />
    <display x="135" y="-150" />
    <onsuccess>4ba27d10-f752-4d68-9fc0-c85f191a044a</onsuccess>
    <steps>
      <calculation expression="&quot;pihar&quot;" stage="Initialer" />
      <calculation expression="&quot;Standard&quot;" stage="Signatur" />
      <calculation expression="&quot;Plejehjemmet Marienlund-Aften&quot;" stage="Organisation" />
    </steps>
  </stage>
  <stage stageid="40068d62-0e3a-4115-bde9-7a4f574f45cd" name="Hent signaturer" type="Action">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="120" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Profil._links.availableProfessionalAutosignatures]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Autosignatur" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>b11ec2d0-2944-45c9-b017-6cb5ea58f8b8</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="b11ec2d0-2944-45c9-b017-6cb5ea58f8b8" name="Filtrer signatur" type="Action">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="165" />
    <inputs>
      <input type="collection" name="Collection In" friendlyname="Collection In" narrative="Input collection" expr="[Autosignatur]" />
      <input type="text" name="Filter" friendlyname="Filter" narrative="The filter to apply" expr="&quot;[name]='&quot; &amp; [Signatur] &amp; &quot;'&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The amount of rows in the filtered collection" stage="Antal" />
      <output type="collection" name="Collection Out" friendlyname="Collection Out" narrative="The filtered collection" stage="Autosignatur" />
    </outputs>
    <onsuccess>f8b13388-fd12-4739-9798-28b58a160c08</onsuccess>
    <resource object="Utility - Odk Linq" action="Filter" />
  </stage>
  <stage stageid="f8b13388-fd12-4739-9798-28b58a160c08" name="Fik vi en signatur?" type="Decision">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <loginhibit />
    <display x="15" y="210" />
    <decision expression="[Antal] = 1" />
    <ontrue>e44d622b-9029-4239-aa82-452f9c20bf77</ontrue>
    <onfalse>3f457aa0-ac93-415d-a84d-999c72dca8a3</onfalse>
  </stage>
  <stage stageid="3f457aa0-ac93-415d-a84d-999c72dca8a3" name="Ingen signatur" type="Exception">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <display x="210" y="210" />
    <exception localized="yes" type="Business Exception" detail="[Signatur] &amp; &quot; kunne ikke findes&quot;" />
  </stage>
  <stage stageid="c6b749d3-79b1-44a8-a11c-347c62b89737" name="Succes" type="Data">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <loginhibit />
    <display x="-195" y="555" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="fd24e4dd-841f-4e5b-a92c-c8e53902b4dc" name="Bruger" type="Collection">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <loginhibit />
    <display x="-195" y="510" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="12e4a29c-f69d-4365-b685-ba5bee43c6bc" name="Kald opret" type="Action">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="300" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Profil._links.create]" />
      <input type="text" name="Body" friendlyname="Body" expr="[Prototype]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Bruger" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>56fdc8ea-81c2-4142-ba59-138e920495e5</onsuccess>
    <resource object="Nexus - Core" action="Post" />
  </stage>
  <stage stageid="56fdc8ea-81c2-4142-ba59-138e920495e5" name="Sæt succes" type="Calculation">
    <subsheetid>9da8d3af-b2ea-4692-a2b8-99b6fdc07dac</subsheetid>
    <loginhibit />
    <display x="15" y="345" />
    <onsuccess>127505b2-4747-4b20-af66-605b04424535</onsuccess>
    <calculation expression="[Statuskode] = 200" stage="Succes" />
  </stage>
  <stage stageid="c68be0a6-c67f-40f0-b038-a66eb734ca50" name="Hent brugers konfiguration" type="SubSheetInfo">
    <subsheetid>a93ad47a-0bf7-48e6-a3a7-5f72bde4e81e</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="425148dc-dd89-4806-8f57-b9d5ce232a75" name="Start" type="Start">
    <subsheetid>a93ad47a-0bf7-48e6-a3a7-5f72bde4e81e</subsheetid>
    <loginhibit />
    <display x="15" y="-105" />
    <inputs>
      <input type="collection" name="Bruger" stage="Bruger" />
    </inputs>
    <onsuccess>632853f4-166f-4e64-8b48-dee2413757ea</onsuccess>
  </stage>
  <stage stageid="ec8245c3-8ab1-4b6b-a4fd-6010d3aa5d56" name="End" type="End">
    <subsheetid>a93ad47a-0bf7-48e6-a3a7-5f72bde4e81e</subsheetid>
    <loginhibit />
    <display x="15" y="75" />
    <outputs>
      <output type="collection" name="Konfiguration" stage="Konfiguration" />
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="63903bde-a9c2-4d64-8fdb-aeb5b2dd2031" name="Input" type="Block">
    <subsheetid>a93ad47a-0bf7-48e6-a3a7-5f72bde4e81e</subsheetid>
    <display x="-270" y="-45" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="cc155b75-4c9f-4b8f-ba87-0ebc12d50f83" name="Variabler" type="Block">
    <subsheetid>a93ad47a-0bf7-48e6-a3a7-5f72bde4e81e</subsheetid>
    <display x="-270" y="90" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="b1fbae80-56a0-42be-8b55-1303cd74033b" name="Konstanter" type="Block">
    <subsheetid>a93ad47a-0bf7-48e6-a3a7-5f72bde4e81e</subsheetid>
    <display x="-270" y="30" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="2edfdd74-1733-4099-b042-3ee779ee6283" name="Output" type="Block">
    <subsheetid>a93ad47a-0bf7-48e6-a3a7-5f72bde4e81e</subsheetid>
    <display x="-270" y="165" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="0cfa6db7-b5c5-4e1e-8d97-b31d4d36e14f" name="Hent konfiguration" type="Block">
    <subsheetid>a93ad47a-0bf7-48e6-a3a7-5f72bde4e81e</subsheetid>
    <loginhibit />
    <display x="-90" y="-60" w="270" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="f3df2506-b8eb-4e4b-a5b4-66b4be6e953f" name="Bruger" type="Collection">
    <subsheetid>a93ad47a-0bf7-48e6-a3a7-5f72bde4e81e</subsheetid>
    <loginhibit />
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="c578fbcb-df56-4007-8c2d-4d00c6bb7714" name="Succes" type="Data">
    <subsheetid>a93ad47a-0bf7-48e6-a3a7-5f72bde4e81e</subsheetid>
    <loginhibit />
    <display x="-195" y="240" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="6e7a447c-2399-4090-b342-54c31b7782e6" name="Sæt succes" type="Calculation">
    <subsheetid>a93ad47a-0bf7-48e6-a3a7-5f72bde4e81e</subsheetid>
    <loginhibit />
    <display x="15" y="15" />
    <onsuccess>ec8245c3-8ab1-4b6b-a4fd-6010d3aa5d56</onsuccess>
    <calculation expression="[Statuskode] = 200" stage="Succes" />
  </stage>
  <stage stageid="632853f4-166f-4e64-8b48-dee2413757ea" name="Hent konfiguration" type="Action">
    <subsheetid>a93ad47a-0bf7-48e6-a3a7-5f72bde4e81e</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-30" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bruger._links.configuration]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Konfiguration" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>6e7a447c-2399-4090-b342-54c31b7782e6</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="226669e3-4e64-4733-800c-9961d185bf61" name="Konfiguration" type="Collection">
    <subsheetid>a93ad47a-0bf7-48e6-a3a7-5f72bde4e81e</subsheetid>
    <display x="-195" y="195" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="d09069f2-1af6-453c-8988-36bf66f53239" name="Statuskode" type="Data">
    <subsheetid>a93ad47a-0bf7-48e6-a3a7-5f72bde4e81e</subsheetid>
    <display x="-195" y="120" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="f4f56596-229e-4d76-bd85-c83bf4620e4f" name="Opdater brugers konfiguration" type="SubSheetInfo">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="7a9d3c43-37cb-4a2a-ba3a-8fbb1365bfac" name="Start" type="Start">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <loginhibit />
    <display x="15" y="-105" />
    <inputs>
      <input type="collection" name="Bruger" stage="Bruger" />
      <input type="text" name="Stilling" stage="Stilling" />
      <input type="text" name="Primær organisation" stage="Primær organisation" />
      <input type="text" name="Standard leverandør på arbejdstider" stage="Standard leverandør på arbejdstider" />
      <input type="text" name="Autorisationskode" stage="Autorisationskode" />
      <input type="number" name="Standard Medcom lokationsnummer" stage="Standard Medcom lokationsnummer" />
      <input type="flag" name="Aktiv" stage="Aktiv" />
    </inputs>
    <onsuccess>48a67556-dc15-4f0b-8a5c-e112e0b28575</onsuccess>
  </stage>
  <stage stageid="e40a2438-6527-46a0-90a4-9af9aada2e55" name="End" type="End">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <loginhibit />
    <display x="15" y="360" />
    <outputs>
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="69fc75e1-6be0-4f16-8a89-be537937d0b6" name="Input" type="Block">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <display x="-270" y="-45" w="150" h="330" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="e1f55a9c-9fd8-46ee-8a74-80a4ae54337c" name="Variabler" type="Block">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <display x="-270" y="360" w="150" h="285" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="b3b0de6f-c7d6-4135-9601-6b5f68f0bdb1" name="Konstanter" type="Block">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <display x="-270" y="300" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="eb26b42a-7dda-4427-84f3-4908a80a1709" name="Output" type="Block">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <display x="-270" y="660" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="3ad56a0e-26e8-4382-9359-22b3de02f578" name="Hent konfiguration" type="Block">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <loginhibit />
    <display x="-90" y="-60" w="270" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="8eb37361-6cc6-4f97-bcd9-4c3cb44a2f6f" name="Bruger" type="Collection">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <loginhibit />
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="65a004b4-b096-4ef0-b4cb-33c29167726c" name="Succes" type="Data">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <loginhibit />
    <display x="-195" y="690" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="912070f3-8af7-4c5e-917e-d71593ffd329" name="Hent konfiguration" type="Action">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-30" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bruger._links.configuration]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Konfiguration" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="Konfiguration (json)" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>aea24eb9-3321-457d-9255-cc1566211bc4</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="837c27d3-8200-487b-b1bd-32bb33cc3893" name="Konfiguration" type="Collection">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <display x="-195" y="390" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="1289f23a-8bf9-4607-89c0-1a3b77170be4" name="Statuskode" type="Data">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <display x="-195" y="615" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="a6aacde1-afd9-4d17-8463-a86d6f216c6a" name="Konfiguration (json)" type="Data">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <display x="-195" y="435" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="b56ccfa7-48f5-44ed-9849-67f7eb8c934e" name="Stilling" type="Data">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <display x="-195" y="30" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="c4d8ae34-a063-41c1-b245-823dfdd8643d" name="Primær organisation" type="Data">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <display x="-195" y="75" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="0e1a5447-7552-43a0-b3c5-e955f3e08fb8" name="Standard leverandør på arbejdstider" type="Data">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <display x="-195" y="120" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="92d69821-9d17-4b8d-a8a2-e0aaff879b6b" name="Standard Medcom lokationsnummer" type="Data">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <display x="-195" y="165" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue>0</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="7ebcf3e6-8ef2-425c-8b63-a721a520f514" name="Debug" type="Block">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <loginhibit />
    <display x="105" y="-255" w="120" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
  </stage>
  <stage stageid="b444b322-f9e0-4494-aaa1-5cc4df45303e" name="Nexus - Core::Start" type="Action">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="165" y="-225" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - produktion&quot;" />
    </inputs>
    <onsuccess>79c9f4bd-57e0-463e-b472-c5d9f3ed62dd</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="79c9f4bd-57e0-463e-b472-c5d9f3ed62dd" name="Hent bruger" type="SubSheet">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <loginhibit />
    <display x="165" y="-180" />
    <inputs>
      <input type="text" name="Initialer" friendlyname="Initialer" expr="&quot;roboa&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Bruger" friendlyname="Bruger" stage="Bruger" />
      <output type="flag" name="Succes" friendlyname="Succes" stage="" />
    </outputs>
    <onsuccess>8da2f084-f053-4d05-b730-6cce73643b6e</onsuccess>
    <processid>c42c155b-56ed-41c5-83f4-a82d50269c93</processid>
  </stage>
  <stage stageid="48a67556-dc15-4f0b-8a5c-e112e0b28575" name="Anchor20" type="Anchor">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <loginhibit />
    <display x="15" y="-75" w="10" h="10" />
    <onsuccess>912070f3-8af7-4c5e-917e-d71593ffd329</onsuccess>
  </stage>
  <stage stageid="9d2d13f1-50ad-482d-9b48-b390de17d109" name="Anchor21" type="Anchor">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <loginhibit />
    <display x="165" y="-75" w="10" h="10" />
    <onsuccess>48a67556-dc15-4f0b-8a5c-e112e0b28575</onsuccess>
  </stage>
  <stage stageid="9215b40e-a479-4b8e-bf9b-48b30d9b5543" name="Hent støtteinformation" type="Block">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <loginhibit />
    <display x="-90" y="15" w="270" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="aea24eb9-3321-457d-9255-cc1566211bc4" name="Hent stillinger" type="Action">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="45" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Konfiguration._links.availableProfessionalJobs]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="Stillinger (json)" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>e0c0f3f8-d0ca-4c4e-94a0-26b95711519f</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="c3bd6d40-1985-42b3-8108-f1b998558ec5" name="Stillinger (json)" type="Data">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <display x="-195" y="480" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="e0c0f3f8-d0ca-4c4e-94a0-26b95711519f" name="Hent organisationer" type="Action">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="90" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Konfiguration._links.organizations]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="Organisationer (json)" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>c3c33cf7-5631-4a76-b8b4-258ec67e0da9</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="68436687-8000-4c2c-a1cc-fe6b10440f34" name="Organisationer (json)" type="Data">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <display x="-195" y="525" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="c3c33cf7-5631-4a76-b8b4-258ec67e0da9" name="Hent organisationer til arbejdstid" type="Action">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="135" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Konfiguration._links.availableOrganizationSuppliers]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="Organisationer til arbejdstid (json)" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>26ad2a79-3a01-4000-8973-bc26200771f7</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="f3d9f046-186c-4a5c-b31c-846bd2914245" name="Organisationer til arbejdstid (json)" type="Data">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <display x="-195" y="570" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="ede41c61-98ae-4d77-80bc-e4665fb6797b" name="Opdater konfiguration" type="Block">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <loginhibit />
    <display x="-90" y="180" w="270" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="26ad2a79-3a01-4000-8973-bc26200771f7" name="Opdatering konfiguration" type="Code">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <display x="15" y="210" />
    <inputs>
      <input type="text" name="config_json" expr="[Konfiguration (json)]" />
      <input type="text" name="jobs_json" expr="[Stillinger (json)]" />
      <input type="text" name="organizations_json" expr="[Organisationer (json)]" />
      <input type="text" name="suppliers_json" expr="[Organisationer til arbejdstid (json)]" />
      <input type="text" name="job" expr="[Stilling]" />
      <input type="text" name="primary_org" expr="[Primær organisation]" />
      <input type="text" name="supplier" expr="[Standard leverandør på arbejdstider]" />
      <input type="number" name="medcom_supplier" expr="[Standard Medcom lokationsnummer]" />
      <input type="flag" name="active" expr="[Aktiv]" />
      <input type="text" name="AuthorizationCode" expr="[Autorisationskode]" />
    </inputs>
    <outputs>
      <output type="text" name="config_updated" stage="Konfiguration (json)" />
    </outputs>
    <onsuccess>3688476e-d8ac-4e76-a4e7-5f19bbcafe10</onsuccess>
    <code><![CDATA[var config = JObject.Parse(config_json);

var jobs = JArray.Parse(jobs_json);
var organizations = JArray.Parse(organizations_json);
var suppliers = JArray.Parse(suppliers_json);

if(medcom_supplier != 0) {
	config["defaultMedcomSenderOrganizationId"] = (int)medcom_supplier;
	config["replyToDefaultMedcomSenderOrganization"] = true;
} else {
	config["defaultMedcomSenderOrganizationId"] = null;
	config["replyToDefaultMedcomSenderOrganization"] = false;
}

var job_item = jobs.FirstOrDefault(a => a["name"].ToString() == job);
if(job_item != null)
	config["professionalJob"] = job_item;

	
var org_item = organizations.FirstOrDefault(a => a["name"].ToString() == primary_org);
if(org_item != null)
	config["primaryOrganization"] = org_item;

	
var supplier_item = suppliers.FirstOrDefault(a => a["name"].ToString() == supplier);
if(supplier_item != null)
	config["defaultOrganizationSupplier"] = supplier_item;
	
if(AuthorizationCode != null){
	config["authorizationCodeConfiguration"]["authorizationCode"] = AuthorizationCode;
}
	
config["active"] = active;


config_updated = config.ToString();]]></code>
  </stage>
  <stage stageid="3688476e-d8ac-4e76-a4e7-5f19bbcafe10" name="Kald Nexus opdater" type="Action">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="255" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Konfiguration._links.update]" />
      <input type="text" name="Body" friendlyname="Body" expr="[Konfiguration (json)]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>692f1410-4395-4b3c-9503-13a0bb5d1db4</onsuccess>
    <resource object="Nexus - Core" action="Put" />
  </stage>
  <stage stageid="692f1410-4395-4b3c-9503-13a0bb5d1db4" name="Sæt succes" type="Calculation">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <loginhibit />
    <display x="15" y="300" />
    <onsuccess>e40a2438-6527-46a0-90a4-9af9aada2e55</onsuccess>
    <calculation expression="[Statuskode] = 200" stage="Succes" />
  </stage>
  <stage stageid="1b7ef0df-b9b4-42e0-bbcd-25111026d6b4" name="Antal" type="Data">
    <subsheetid>33d259f7-cb45-4401-b725-01d2ac0cb72b</subsheetid>
    <display x="-195" y="285" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="c6c593db-7c88-4f36-85d5-ec5f94f166e7" name="Antal" type="Data">
    <subsheetid>9589fe3b-7809-4a8e-bec5-1044ec2913a1</subsheetid>
    <display x="-195" y="240" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="60ea5c03-bd39-4e0a-889c-196957519304" name="Opdater bruger" type="SubSheetInfo">
    <subsheetid>473d0583-ee88-4797-9170-8d2964e5ea03</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="cc7d24b0-b94d-4135-9aa2-0545396b10ff" name="Start" type="Start">
    <subsheetid>473d0583-ee88-4797-9170-8d2964e5ea03</subsheetid>
    <loginhibit />
    <display x="15" y="-105" />
    <inputs>
      <input type="collection" name="Bruger" stage="Bruger" />
      <input type="text" name="Organisation" stage="Organisation" />
      <input type="number" name="Signaturid" narrative="41 er standard" stage="Signaturid" />
    </inputs>
    <onsuccess>e8f8d144-e5ff-48de-828a-89129cf3b738</onsuccess>
  </stage>
  <stage stageid="05ce7815-2979-4da6-9750-039228663d2c" name="End" type="End">
    <subsheetid>473d0583-ee88-4797-9170-8d2964e5ea03</subsheetid>
    <loginhibit />
    <display x="15" y="195" />
    <outputs>
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="5b5087b0-9da1-4d41-85b5-b8d4f15a663f" name="Input" type="Block">
    <subsheetid>473d0583-ee88-4797-9170-8d2964e5ea03</subsheetid>
    <display x="-270" y="-45" w="150" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="c79b6632-5865-44bd-8a07-13de4efb779d" name="Variabler" type="Block">
    <subsheetid>473d0583-ee88-4797-9170-8d2964e5ea03</subsheetid>
    <display x="-270" y="180" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="66e4f30d-1ee8-46ff-8a58-1de952464c26" name="Konstanter" type="Block">
    <subsheetid>473d0583-ee88-4797-9170-8d2964e5ea03</subsheetid>
    <display x="-270" y="120" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="d24cd719-c07a-4c24-8c50-bbd7ac9ebe96" name="Output" type="Block">
    <subsheetid>473d0583-ee88-4797-9170-8d2964e5ea03</subsheetid>
    <display x="-270" y="300" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="a469c515-152e-4df3-b45b-52c83d7ae580" name="Hent konfiguration" type="Block">
    <subsheetid>473d0583-ee88-4797-9170-8d2964e5ea03</subsheetid>
    <loginhibit />
    <display x="-90" y="-60" w="270" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="7b505686-fc16-4c88-b2cc-caa2b039a585" name="Bruger" type="Collection">
    <subsheetid>473d0583-ee88-4797-9170-8d2964e5ea03</subsheetid>
    <loginhibit />
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="6215a67d-cc2d-48e3-9154-8ea2f100a872" name="Succes" type="Data">
    <subsheetid>473d0583-ee88-4797-9170-8d2964e5ea03</subsheetid>
    <loginhibit />
    <display x="-195" y="330" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="4ea512ae-3eea-4806-b842-8f1d0765a6f3" name="Statuskode" type="Data">
    <subsheetid>473d0583-ee88-4797-9170-8d2964e5ea03</subsheetid>
    <display x="-195" y="255" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="6864a929-7321-4dc9-a1b5-b6608ab1535a" name="Organisation" type="Data">
    <subsheetid>473d0583-ee88-4797-9170-8d2964e5ea03</subsheetid>
    <display x="-195" y="30" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="ff8a5d13-4ce1-4d11-8078-5bc8ddbe9b83" name="Signaturid" type="Data">
    <subsheetid>473d0583-ee88-4797-9170-8d2964e5ea03</subsheetid>
    <display x="-195" y="75" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue>0</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="3fc64302-bcaa-4bdc-af41-39af2942b6e7" name="Debug" type="Block">
    <subsheetid>473d0583-ee88-4797-9170-8d2964e5ea03</subsheetid>
    <loginhibit />
    <display x="105" y="-255" w="120" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
  </stage>
  <stage stageid="471af716-bc3c-4ac3-bff4-c129d820fc7b" name="Nexus - Core::Start" type="Action">
    <subsheetid>473d0583-ee88-4797-9170-8d2964e5ea03</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="165" y="-225" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - produktion&quot;" />
    </inputs>
    <onsuccess>7b445299-2191-4dce-8907-3adb124cdfe0</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="7b445299-2191-4dce-8907-3adb124cdfe0" name="Hent bruger" type="SubSheet">
    <subsheetid>473d0583-ee88-4797-9170-8d2964e5ea03</subsheetid>
    <loginhibit />
    <display x="165" y="-180" />
    <inputs>
      <input type="text" name="Initialer" friendlyname="Initialer" expr="&quot;roboa&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Bruger" friendlyname="Bruger" stage="Bruger" />
      <output type="flag" name="Succes" friendlyname="Succes" stage="" />
    </outputs>
    <onsuccess>18746d50-7374-4ec3-91d5-dc32eb85f89e</onsuccess>
    <processid>c42c155b-56ed-41c5-83f4-a82d50269c93</processid>
  </stage>
  <stage stageid="18746d50-7374-4ec3-91d5-dc32eb85f89e" name="Sæt debug" type="MultipleCalculation">
    <subsheetid>473d0583-ee88-4797-9170-8d2964e5ea03</subsheetid>
    <loginhibit />
    <display x="165" y="-135" />
    <onsuccess>be44e205-21bb-4c47-9361-61a0bad50d5c</onsuccess>
    <steps>
      <calculation expression="&quot;Test org&quot;" stage="Organisation" />
      <calculation expression="41" stage="Signaturid" />
    </steps>
  </stage>
  <stage stageid="e8f8d144-e5ff-48de-828a-89129cf3b738" name="Anchor20" type="Anchor">
    <subsheetid>473d0583-ee88-4797-9170-8d2964e5ea03</subsheetid>
    <loginhibit />
    <display x="15" y="-75" w="10" h="10" />
    <onsuccess>2f5c23da-2ce6-4019-bda0-885a45caebd6</onsuccess>
  </stage>
  <stage stageid="be44e205-21bb-4c47-9361-61a0bad50d5c" name="Anchor21" type="Anchor">
    <subsheetid>473d0583-ee88-4797-9170-8d2964e5ea03</subsheetid>
    <loginhibit />
    <display x="165" y="-75" w="10" h="10" />
    <onsuccess>e8f8d144-e5ff-48de-828a-89129cf3b738</onsuccess>
  </stage>
  <stage stageid="1f157447-09b4-4ba2-b4df-4ede2ebc3f3f" name="Opdater konfiguration" type="Block">
    <subsheetid>473d0583-ee88-4797-9170-8d2964e5ea03</subsheetid>
    <loginhibit />
    <display x="-90" y="15" w="270" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="57e722ce-9ae9-4dd5-9e4d-ba0b99b39906" name="Opdater bruger" type="Code">
    <subsheetid>473d0583-ee88-4797-9170-8d2964e5ea03</subsheetid>
    <display x="15" y="45" />
    <inputs>
      <input type="text" name="userJson" expr="[Bruger (json)]" />
      <input type="number" name="autoSignatureId" expr="[Signaturid]" />
      <input type="text" name="Organization" expr="[Organisation]" />
    </inputs>
    <outputs>
      <output type="text" name="userUpdated" stage="Bruger (json)" />
    </outputs>
    <onsuccess>108d2739-6c25-423b-b94c-f48f7ab8b54c</onsuccess>
    <code><![CDATA[
var user = JObject.Parse(userJson);

if(autoSignatureId > 0)
	user["autosignatureId"] = (int)autoSignatureId;
	
if(!String.IsNullOrEmpty(Organization))
	user["organizationName"] = Organization;


userUpdated = user.ToString();]]></code>
  </stage>
  <stage stageid="108d2739-6c25-423b-b94c-f48f7ab8b54c" name="Kald Nexus opdater" type="Action">
    <subsheetid>473d0583-ee88-4797-9170-8d2964e5ea03</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="90" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bruger._links.update]" />
      <input type="text" name="Body" friendlyname="Body" expr="[Bruger (json)]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>509e8d58-7c60-459d-965f-06797ce993de</onsuccess>
    <resource object="Nexus - Core" action="Put" />
  </stage>
  <stage stageid="509e8d58-7c60-459d-965f-06797ce993de" name="Sæt succes" type="Calculation">
    <subsheetid>473d0583-ee88-4797-9170-8d2964e5ea03</subsheetid>
    <loginhibit />
    <display x="15" y="135" />
    <onsuccess>05ce7815-2979-4da6-9750-039228663d2c</onsuccess>
    <calculation expression="[Statuskode] = 200" stage="Succes" />
  </stage>
  <stage stageid="0e763555-930c-44ca-9ed0-b8bbc80c6a44" name="Bruger (json)" type="Data">
    <subsheetid>473d0583-ee88-4797-9170-8d2964e5ea03</subsheetid>
    <display x="-195" y="210" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="2f5c23da-2ce6-4019-bda0-885a45caebd6" name="Hent bruger json" type="Action">
    <subsheetid>473d0583-ee88-4797-9170-8d2964e5ea03</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-30" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bruger._links.self]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="Bruger (json)" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>57e722ce-9ae9-4dd5-9e4d-ba0b99b39906</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="2a84d508-277b-4a1c-a01e-4d371c00dc1e" name="Aktiv" type="Data">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <display x="-195" y="210" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>True</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="b0b87cca-a131-445a-9bf9-274cdd814297" name="Recover1" type="Recover">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit />
    <display x="105" y="180" />
    <onsuccess>930ad8fb-560f-468b-b09b-ef4516267b76</onsuccess>
  </stage>
  <stage stageid="930ad8fb-560f-468b-b09b-ef4516267b76" name="Resume1" type="Resume">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit />
    <display x="105" y="225" />
    <onsuccess>b55883be-e7d0-41a5-92da-5d548176a5f5</onsuccess>
  </stage>
  <stage stageid="7da75b55-36e6-422d-bd45-65f72f9130d0" name="Note1" type="Note">
    <subsheetid>c8c7643a-3065-4f3b-842f-79da33198c33</subsheetid>
    <loginhibit />
    <narrative>Hent organisation smider en exception hvis den ikke findes. Det giver problemer i tiltrædelse, derfor kvæler vi den til !succes</narrative>
    <display x="270" y="195" w="150" h="90" />
  </stage>
  <stage stageid="65191ee9-21d3-4615-b7dc-62ad90eec0b9" name="Sæt succes" type="Calculation">
    <subsheetid>7a9a5034-382d-4433-b523-c5015cc289e3</subsheetid>
    <loginhibit />
    <display x="15" y="45" />
    <onsuccess>42b16668-6acb-4796-8019-f66ac89e6fd5</onsuccess>
    <calculation expression="[Statuskode] = 200" stage="Succes" />
  </stage>
  <stage stageid="abca3232-d4cc-41b4-b1fc-deaf65f0dff7" name="Succes" type="Data">
    <subsheetid>7a9a5034-382d-4433-b523-c5015cc289e3</subsheetid>
    <display x="-195" y="240" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="5c51cb70-5a2d-473e-af6d-132883bc2004" name="Opdater brugers STS info" type="SubSheetInfo">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="5f6d1f20-0527-4c69-ad33-7ec63d1c4022" name="Start" type="Start">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <loginhibit />
    <display x="15" y="-105" />
    <inputs>
      <input type="collection" name="Bruger" stage="Bruger" />
    </inputs>
    <onsuccess>ba36a0eb-cadd-442c-97a3-17b1e0e177ca</onsuccess>
  </stage>
  <stage stageid="4d3f8ca6-ae8c-418f-aefb-6e05b76b0cc1" name="End" type="End">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <loginhibit />
    <display x="15" y="330" />
    <outputs>
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="259c0c17-a397-47f4-bdf3-97f753564774" name="Input" type="Block">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <display x="-270" y="-45" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="3d3ca34e-7a48-4a84-960e-2ebb9ee7edb2" name="Variabler" type="Block">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <display x="-270" y="90" w="150" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="287291e7-d67a-4499-9ae0-799550f8a5e3" name="Konstanter" type="Block">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <display x="-270" y="30" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="c5edc1e1-9678-4952-909a-1112c6f9389d" name="Output" type="Block">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <display x="-270" y="300" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="22aca172-342c-4438-b004-a3c75e5a6d0f" name="Bruger" type="Collection">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <loginhibit />
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="4eb6017f-8122-46b7-ac25-da61eed6d6c2" name="Succes" type="Data">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <loginhibit />
    <display x="-195" y="330" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="57f6f9b6-7fa2-4f06-b0e9-6414d3c30774" name="Statuskode" type="Data">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <display x="-195" y="210" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="7786cf63-899e-4624-92ce-75e11635ec83" name="Start Nexus" type="Action">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="150" y="-195" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - produktion&quot;" />
    </inputs>
    <onsuccess>05f4ac80-c32a-4f38-9441-b3233f187003</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="ba36a0eb-cadd-442c-97a3-17b1e0e177ca" name="Anchor22" type="Anchor">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <loginhibit />
    <display x="15" y="-75" w="10" h="10" />
    <onsuccess>91b1b5d8-b7ce-4e41-9de5-e19704d53f79</onsuccess>
  </stage>
  <stage stageid="05f4ac80-c32a-4f38-9441-b3233f187003" name="Hent bruger" type="SubSheet">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <loginhibit />
    <display x="150" y="-150" />
    <inputs>
      <input type="text" name="Initialer" friendlyname="Initialer" expr="&quot;perbh&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Bruger" friendlyname="Bruger" stage="Bruger" />
      <output type="flag" name="Succes" friendlyname="Succes" stage="" />
    </outputs>
    <onsuccess>913eb6ac-ec8f-40ba-a676-4d7881c1a812</onsuccess>
    <processid>c42c155b-56ed-41c5-83f4-a82d50269c93</processid>
  </stage>
  <stage stageid="913eb6ac-ec8f-40ba-a676-4d7881c1a812" name="Anchor23" type="Anchor">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <loginhibit />
    <display x="150" y="-75" w="10" h="10" />
    <onsuccess>ba36a0eb-cadd-442c-97a3-17b1e0e177ca</onsuccess>
  </stage>
  <stage stageid="a9dc3f8e-0e68-42ef-8ad3-f78472073bec" name="Debug" type="Block">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <loginhibit />
    <display x="105" y="-225" w="90" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
  </stage>
  <stage stageid="90a792c0-bc70-4143-ac44-2fdeedaf4a44" name="Url" type="Data">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <loginhibit />
    <display x="-195" y="165" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="91b1b5d8-b7ce-4e41-9de5-e19704d53f79" name="Hent brugers konfiguration" type="SubSheet">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <loginhibit />
    <display x="15" y="-30" />
    <inputs>
      <input type="collection" name="Bruger" friendlyname="Bruger" expr="[Bruger]" />
    </inputs>
    <outputs>
      <output type="collection" name="Konfiguration" friendlyname="Konfiguration" stage="Konfiguration" />
      <output type="flag" name="Succes" friendlyname="Succes" stage="Succes" />
    </outputs>
    <onsuccess>72cec561-322c-4190-bbd1-ae1a5baef683</onsuccess>
    <processid>a93ad47a-0bf7-48e6-a3a7-5f72bde4e81e</processid>
  </stage>
  <stage stageid="31f5320a-3cbd-4d61-86ae-952bca309834" name="Konfiguration" type="Collection">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <display x="-195" y="120" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="72cec561-322c-4190-bbd1-ae1a5baef683" name="Succes og cpr?" type="Decision">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <loginhibit />
    <display x="15" y="15" />
    <decision expression="[Succes] AND [Konfiguration.cpr] &lt;&gt; &quot;&quot;" />
    <ontrue>06609af0-86e0-47ad-8119-24fd6b81cd33</ontrue>
    <onfalse>8282acce-5a46-4163-9195-4be7a0c6b7e2</onfalse>
  </stage>
  <stage stageid="8282acce-5a46-4163-9195-4be7a0c6b7e2" name="End3" type="End">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <loginhibit />
    <display x="210" y="15" />
    <outputs>
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="f0342aea-c018-4d32-9ee0-0a96aabcde86" name="Hent konfiguration" type="Block">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <loginhibit />
    <display x="-90" y="-60" w="255" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="7029545d-3a4c-4e10-8040-5f1a93fa1787" name="Hent api url" type="Action">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="180" />
    <inputs>
      <input type="text" name="Navn" friendlyname="Navn" narrative="navn på det globale rod api" expr="&quot;stsLinkUpdates&quot;" />
    </inputs>
    <outputs>
      <output type="text" name="Url" friendlyname="Url" stage="Url" />
    </outputs>
    <onsuccess>24c5f52e-5250-4056-81b6-6f75fbb3bd51</onsuccess>
    <resource object="Nexus - Core" action="Api url" />
  </stage>
  <stage stageid="24c5f52e-5250-4056-81b6-6f75fbb3bd51" name="Kald opdater STS" type="Action">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="225" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Url]" />
      <input type="text" name="Body" friendlyname="Body" expr="&quot;{&quot;&quot;type&quot;&quot;:&quot;&quot;cpr&quot;&quot;,&quot;&quot;identifier&quot;&quot;:&quot;&quot;&quot; &amp; [Cpr] &amp; &quot;&quot;&quot;}&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>c3ce0f31-7e66-487b-9f44-fe3c85792908</onsuccess>
    <resource object="Nexus - Core" action="Put" />
  </stage>
  <stage stageid="c3ce0f31-7e66-487b-9f44-fe3c85792908" name="Sæt succes" type="Calculation">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <loginhibit />
    <display x="15" y="270" />
    <onsuccess>4d3f8ca6-ae8c-418f-aefb-6e05b76b0cc1</onsuccess>
    <calculation expression="[Statuskode] = 200" stage="Succes" />
  </stage>
  <stage stageid="3e32c111-3e69-468d-ae8d-e19ed4fe8eda" name="Opdater fra STS" type="Block">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <loginhibit />
    <display x="-90" y="60" w="255" h="240" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="06609af0-86e0-47ad-8119-24fd6b81cd33" name="Hent cpr" type="Action">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="90" />
    <inputs>
      <input type="text" name="Target" friendlyname="Target" narrative="the string to search for a cpr number" expr="[Konfiguration.cpr]" />
    </inputs>
    <outputs>
      <output type="text" name="Cpr" friendlyname="Cpr" narrative="The cpr number found by the search" stage="Cpr" />
    </outputs>
    <onsuccess>cb582509-7080-4f27-80d4-2149316d44aa</onsuccess>
    <resource object="Utility - Odk" action="String: Extract cpr" />
  </stage>
  <stage stageid="84ba3e17-b64c-495e-a848-716795ec5543" name="Cpr" type="Data">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <display x="-195" y="255" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="cb582509-7080-4f27-80d4-2149316d44aa" name="Cpr korrekt?" type="Decision">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <loginhibit />
    <display x="15" y="135" />
    <decision expression="[Cpr] &lt;&gt; &quot;&quot;" />
    <ontrue>7029545d-3a4c-4e10-8040-5f1a93fa1787</ontrue>
    <onfalse>26aca2b0-01d7-45e8-a087-20e697d7828a</onfalse>
  </stage>
  <stage stageid="26aca2b0-01d7-45e8-a087-20e697d7828a" name="End4" type="End">
    <subsheetid>ed701cd2-4eae-4b91-a2ed-bdeaf54e6516</subsheetid>
    <loginhibit />
    <display x="210" y="135" />
    <outputs>
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="a0337c92-61f7-4552-84d4-1b89d11728cb" name="Fjern brugers nationale rolle" type="SubSheetInfo">
    <subsheetid>27af9e5c-1cc2-46c6-9446-666021bb5d67</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="a378a986-cb93-4d69-946d-9e3861c70d82" name="End" type="End">
    <subsheetid>27af9e5c-1cc2-46c6-9446-666021bb5d67</subsheetid>
    <loginhibit />
    <display x="15" y="195" />
    <outputs>
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="e9eba891-50ec-40b0-94ed-58d8ef422694" name="Input" type="Block">
    <subsheetid>27af9e5c-1cc2-46c6-9446-666021bb5d67</subsheetid>
    <display x="-270" y="-45" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="4dc64d72-9121-445c-aa6f-cc1327f3c2a4" name="Variabler" type="Block">
    <subsheetid>27af9e5c-1cc2-46c6-9446-666021bb5d67</subsheetid>
    <display x="-270" y="135" w="150" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="923cc547-c4bc-4137-8fe7-4a5cba01792f" name="Konstanter" type="Block">
    <subsheetid>27af9e5c-1cc2-46c6-9446-666021bb5d67</subsheetid>
    <display x="-270" y="75" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="8a0e86e7-1a80-4512-afd5-ee9b2ebe6823" name="Output" type="Block">
    <subsheetid>27af9e5c-1cc2-46c6-9446-666021bb5d67</subsheetid>
    <display x="-270" y="300" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="eb94e822-822d-4862-8103-905a46792218" name="Bruger" type="Collection">
    <subsheetid>27af9e5c-1cc2-46c6-9446-666021bb5d67</subsheetid>
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="a50eebf7-b8b0-452c-ac49-cdeb2f28f040" name="Start" type="Start">
    <subsheetid>27af9e5c-1cc2-46c6-9446-666021bb5d67</subsheetid>
    <loginhibit />
    <display x="15" y="-135" />
    <inputs>
      <input type="collection" name="Bruger" stage="Bruger" />
    </inputs>
    <onsuccess>c69c28a2-590b-4ee1-bf72-c65aa1e0958e</onsuccess>
  </stage>
  <stage stageid="cda74a97-c552-4244-adf3-f9d3e905d2d1" name="Nexus - Core::Start" type="Action">
    <subsheetid>27af9e5c-1cc2-46c6-9446-666021bb5d67</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="165" y="-165" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - produktion&quot;" />
    </inputs>
    <onsuccess>98660439-3c1a-4cd5-89ec-f204cc9c3224</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="85ec8d6b-2b1a-41a7-8f76-102222f73dda" name="Debug" type="Block">
    <subsheetid>27af9e5c-1cc2-46c6-9446-666021bb5d67</subsheetid>
    <loginhibit />
    <display x="120" y="-195" w="165" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
  </stage>
  <stage stageid="cd420562-8ce0-4768-8077-631137781fcb" name="Anchor4" type="Anchor">
    <subsheetid>27af9e5c-1cc2-46c6-9446-666021bb5d67</subsheetid>
    <loginhibit />
    <display x="165" y="-30" w="10" h="10" />
    <onsuccess>c69c28a2-590b-4ee1-bf72-c65aa1e0958e</onsuccess>
  </stage>
  <stage stageid="98660439-3c1a-4cd5-89ec-f204cc9c3224" name="Hent bruger" type="Action">
    <subsheetid>27af9e5c-1cc2-46c6-9446-666021bb5d67</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="165" y="-120" />
    <inputs>
      <input type="text" name="Initialer" friendlyname="Initialer" expr="&quot;mabue&quot;" />
    </inputs>
    <outputs>
      <output type="flag" name="Succes" friendlyname="Succes" stage="" />
      <output type="collection" name="Bruger" friendlyname="Bruger" stage="Bruger" />
    </outputs>
    <onsuccess>cd420562-8ce0-4768-8077-631137781fcb</onsuccess>
    <resource object="Nexus - Brugere og organisationer" action="Hent bruger" />
  </stage>
  <stage stageid="41d2ea1a-47fa-44e1-abf5-5285aa2ab33c" name="Statuskode" type="Data">
    <subsheetid>27af9e5c-1cc2-46c6-9446-666021bb5d67</subsheetid>
    <display x="-195" y="255" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="c69c28a2-590b-4ee1-bf72-c65aa1e0958e" name="Hent konfiguration" type="Action">
    <subsheetid>27af9e5c-1cc2-46c6-9446-666021bb5d67</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-30" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bruger._links.configuration]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Konfiguration" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="Json" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>070ff758-887a-4807-af3a-eb4cdfec9045</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="5756f26e-dc29-40a0-b3f0-40118bb469c8" name="Json" type="Data">
    <subsheetid>27af9e5c-1cc2-46c6-9446-666021bb5d67</subsheetid>
    <display x="-195" y="210" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="c15d5af7-4fda-418d-b29c-633311da032c" name="Konfiguration" type="Collection">
    <subsheetid>27af9e5c-1cc2-46c6-9446-666021bb5d67</subsheetid>
    <display x="-195" y="165" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="bd9d5093-eccf-45b3-a374-a2e984eb632f" name="Hent og opdater" type="Block">
    <subsheetid>27af9e5c-1cc2-46c6-9446-666021bb5d67</subsheetid>
    <loginhibit />
    <display x="-90" y="-60" w="300" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="070ff758-887a-4807-af3a-eb4cdfec9045" name="Remove role" type="Code">
    <subsheetid>27af9e5c-1cc2-46c6-9446-666021bb5d67</subsheetid>
    <loginhibit />
    <display x="15" y="15" />
    <inputs>
      <input type="text" name="json" expr="[Json]" />
    </inputs>
    <outputs>
      <output type="text" name="output" stage="Json" />
    </outputs>
    <onsuccess>b289f63c-9e56-424a-95f3-cf00b50f13f2</onsuccess>
    <code><![CDATA[var config = JObject.Parse(json);


var role = JObject.Parse("{nationalRole: 'SUND_ASSIST_R1', _links: {}}");

role["nationalRole"] = null;

config["nationalRoleConfiguration"] = role;

output = config.ToString();]]></code>
  </stage>
  <stage stageid="b289f63c-9e56-424a-95f3-cf00b50f13f2" name="Opdater rolle" type="Action">
    <subsheetid>27af9e5c-1cc2-46c6-9446-666021bb5d67</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="90" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Konfiguration._links.update]" />
      <input type="text" name="Body" friendlyname="Body" expr="[Json]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>f7a2b15f-43cc-4b67-84b6-fd115591bb1f</onsuccess>
    <resource object="Nexus - Core" action="Put" />
  </stage>
  <stage stageid="71de2df8-bea8-4861-9cae-1c82c15dd934" name="Opdater rollen" type="Block">
    <subsheetid>27af9e5c-1cc2-46c6-9446-666021bb5d67</subsheetid>
    <loginhibit />
    <display x="-90" y="60" w="300" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="f7a2b15f-43cc-4b67-84b6-fd115591bb1f" name="Sæt succes" type="Calculation">
    <subsheetid>27af9e5c-1cc2-46c6-9446-666021bb5d67</subsheetid>
    <loginhibit />
    <display x="15" y="135" />
    <onsuccess>a378a986-cb93-4d69-946d-9e3861c70d82</onsuccess>
    <calculation expression="[Statuskode] = 200" stage="Succes" />
  </stage>
  <stage stageid="c822405f-7589-4187-ba82-36c87551ce46" name="Succes" type="Data">
    <subsheetid>27af9e5c-1cc2-46c6-9446-666021bb5d67</subsheetid>
    <display x="-195" y="330" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="8da2f084-f053-4d05-b730-6cce73643b6e" name="Sæt debug" type="MultipleCalculation">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <loginhibit />
    <display x="165" y="-135" />
    <onsuccess>9d2d13f1-50ad-482d-9b48-b390de17d109</onsuccess>
    <steps>
      <calculation expression="&quot;Odense&quot;" stage="Primær organisation" />
      <calculation expression="&quot;Lavsengruppen&quot;" stage="Standard leverandør på arbejdstider" />
      <calculation expression="272" stage="Standard Medcom lokationsnummer" />
      <calculation expression="&quot;Soc.- og sundhedshjælper&quot;" stage="Stilling" />
    </steps>
  </stage>
  <stage stageid="10769659-0040-45f4-9d2d-bdb46e34c839" name="Autorisationskode" type="Data">
    <subsheetid>2f69471a-eaed-4fd6-9670-dc9970411be6</subsheetid>
    <loginhibit />
    <display x="-195" y="255" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="4bbaebc2-012d-4d39-8117-6cc527c5ca1b" name="Opdater brugers FMK rolle" type="SubSheetInfo">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="abfc21e7-1605-4a35-a4d2-c4d7170c703f" name="Start" type="Start">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit />
    <display x="15" y="-105" />
    <inputs>
      <input type="collection" name="Bruger" stage="Bruger" />
      <input type="text" name="FMK rolle" stage="FMK rolle" />
    </inputs>
    <onsuccess>37783736-7a78-4c49-8c72-1f050cf789e6</onsuccess>
  </stage>
  <stage stageid="cbf2dead-fc20-4a37-b45a-6f8c09e65b63" name="End" type="End">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit />
    <display x="15" y="450" />
    <outputs>
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="a9ec4d30-d741-4e8a-8498-207c20d763f0" name="Input" type="Block">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <display x="-270" y="-45" w="150" h="120" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="f156b95d-a440-4563-a758-d11add20ecb9" name="Variabler" type="Block">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <display x="-270" y="165" w="150" h="330" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="5ebd2ad5-fa88-4baa-80da-8f48326758a5" name="Konstanter" type="Block">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <display x="-270" y="90" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="035b1e6d-5fb7-455c-a2f2-61dba32b3e23" name="Output" type="Block">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <display x="-270" y="660" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="c0f32498-7092-4933-a09f-f30afea26082" name="Hent konfiguration" type="Block">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit />
    <display x="-90" y="-60" w="225" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="1196c2b9-222d-4ec9-841f-68d2faa33550" name="Bruger" type="Collection">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit />
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="f29a82a7-59c8-4b98-bb2f-75d324c91e83" name="Succes" type="Data">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit />
    <display x="-195" y="690" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="806e20ce-4a1b-48d6-a624-6e18a77b3b01" name="Hent konfiguration" type="Action">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-30" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bruger._links.configuration]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Konfiguration" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>7ce5a6e5-c0e7-48af-8d7e-faf0b9ef2275</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="7c57452b-7be6-43c7-9340-5a6cfcaeee91" name="Konfiguration" type="Collection">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <display x="-195" y="195" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="d4e50273-b42e-46c5-b1bc-da3daebd86d3" name="Statuskode" type="Data">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <display x="-195" y="375" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="aa081137-792a-4801-9596-599bc96fba32" name="Debug" type="Block">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit />
    <display x="105" y="-255" w="120" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
  </stage>
  <stage stageid="5bcc3031-1e5d-47ea-919e-d90f49c42503" name="Nexus - Core::Start" type="Action">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="165" y="-225" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - produktion&quot;" />
    </inputs>
    <onsuccess>1eb0ea96-6443-4684-bc7a-e9763411eba5</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="1eb0ea96-6443-4684-bc7a-e9763411eba5" name="Hent bruger" type="SubSheet">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit />
    <display x="165" y="-180" />
    <inputs>
      <input type="text" name="Initialer" friendlyname="Initialer" expr="&quot;roboa&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Bruger" friendlyname="Bruger" stage="Bruger" />
      <output type="flag" name="Succes" friendlyname="Succes" stage="" />
    </outputs>
    <onsuccess>14c4cc8d-a87a-4b92-b60b-9739fb2ad82d</onsuccess>
    <processid>c42c155b-56ed-41c5-83f4-a82d50269c93</processid>
  </stage>
  <stage stageid="37783736-7a78-4c49-8c72-1f050cf789e6" name="Anchor20" type="Anchor">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit />
    <display x="15" y="-75" w="10" h="10" />
    <onsuccess>806e20ce-4a1b-48d6-a624-6e18a77b3b01</onsuccess>
  </stage>
  <stage stageid="993b26e2-d498-4d0d-bcca-21e3aaf5e58f" name="Anchor21" type="Anchor">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit />
    <display x="165" y="-75" w="10" h="10" />
    <onsuccess>37783736-7a78-4c49-8c72-1f050cf789e6</onsuccess>
  </stage>
  <stage stageid="30c4fd89-c9da-46b6-a354-3092c4a5f1e6" name="Find støtteinformation" type="Block">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit />
    <display x="-90" y="15" w="225" h="240" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="6e85af7f-d8e7-4b7c-9fd2-6502b74ce0be" name="Opdater FMK" type="Block">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit />
    <display x="-90" y="270" w="225" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="6062d4bb-611c-445d-8da8-7c50722cc3c3" name="Kald Nexus opdater" type="Action">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="345" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Konfiguration._links.fmkRole]" />
      <input type="text" name="Body" friendlyname="Body" expr="[Fmk (json)]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>c622f168-b425-482f-b52d-95d5e738565c</onsuccess>
    <resource object="Nexus - Core" action="Put" />
  </stage>
  <stage stageid="c622f168-b425-482f-b52d-95d5e738565c" name="Sæt succes" type="Calculation">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit />
    <display x="15" y="390" />
    <onsuccess>cbf2dead-fc20-4a37-b45a-6f8c09e65b63</onsuccess>
    <calculation expression="[Statuskode] = 200" stage="Succes" />
  </stage>
  <stage stageid="8775f6b6-3336-4112-aeb1-f477fbbaa74a" name="FMK rolle" type="Data">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <display x="-195" y="30" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="56079317-0307-406e-89d3-9e6f33f7557c" name="FMK roller" type="Collection">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit />
    <display x="-195" y="120" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
    <collectioninfo>
      <field name="Dansk titel" type="text" />
      <field name="Engelsk titel" type="text" />
    </collectioninfo>
    <initialvalue>
      <row>
        <field name="Dansk titel" type="text" value="Assistent for Social- og sundhedsassistent" />
        <field name="Engelsk titel" type="text" value="" />
      </row>
      <row>
        <field name="Dansk titel" type="text" value="Assistent for Sygeplejerske" />
        <field name="Engelsk titel" type="text" value="" />
      </row>
      <row>
        <field name="Dansk titel" type="text" value="Assistent for Læge" />
        <field name="Engelsk titel" type="text" value="" />
      </row>
      <row>
        <field name="Dansk titel" type="text" value="KOMMUNAL ANSAT TIL MEDICINHÅNDTERING" />
        <field name="Engelsk titel" type="text" value="MUNICIPALITY_WORKER_HANDLING_MEDICINE" />
      </row>
      <row>
        <field name="Dansk titel" type="text" value="LÆGE" />
        <field name="Engelsk titel" type="text" value="DOCTOR" />
      </row>
      <row>
        <field name="Dansk titel" type="text" value="SOCIAL- OG SUNDHEDSASSISTENT" />
        <field name="Engelsk titel" type="text" value="SOCIAL_SERVICE_WORKER" />
      </row>
      <row>
        <field name="Dansk titel" type="text" value="SYGEPLEJERSKE" />
        <field name="Engelsk titel" type="text" value="NURSE" />
      </row>
    </initialvalue>
  </stage>
  <stage stageid="7ce5a6e5-c0e7-48af-8d7e-faf0b9ef2275" name="Find FMK rolle" type="Action">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="45" />
    <inputs>
      <input type="collection" name="Collection In" friendlyname="Collection In" narrative="Input collection" expr="[FMK roller]" />
      <input type="text" name="Filter" friendlyname="Filter" narrative="The filter to apply" expr="&quot;[Dansk titel] = '&quot;&amp;Upper([FMK rolle])&amp;&quot;'&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The amount of rows in the filtered collection" stage="Antal" />
      <output type="collection" name="Collection Out" friendlyname="Collection Out" narrative="The filtered collection" stage="Rolle" />
    </outputs>
    <onsuccess>55abbc49-1e5f-4591-9343-584bbca0241b</onsuccess>
    <resource object="Utility - Odk Linq" action="Filter" />
  </stage>
  <stage stageid="abd8d55a-c9c8-4c9c-83df-2187ae9e5106" name="Antal" type="Data">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <display x="-195" y="330" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="637fd3a4-af26-42c4-8ece-cc996227644e" name="Hent FMK" type="Action">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="180" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Konfiguration._links.fmkRole]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="FMK" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="Fmk (json)" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>b2fe148b-3742-46fe-a8fd-74664bd063aa</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="5a18dc00-3253-40bf-a0a0-18da58dd2f82" name="Fmk (json)" type="Data">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <display x="-195" y="420" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="b24f9085-d3a6-4371-8ac9-6f0139e288d7" name="Opdater FMK " type="Code">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <display x="15" y="300" />
    <inputs>
      <input type="text" name="fmk_json" expr="[Fmk (json)]" />
      <input type="text" name="fmk_role" expr="[Rollenavn]" />
    </inputs>
    <outputs>
      <output type="text" name="fmk_updated" stage="Fmk (json)" />
    </outputs>
    <onsuccess>6062d4bb-611c-445d-8da8-7c50722cc3c3</onsuccess>
    <code><![CDATA[var json_file = JObject.Parse(fmk_json);

//var jobs = JArray.Parse(jobs_json);

json_file["fmkRole"] = fmk_role;



fmk_updated = json_file.ToString();]]></code>
  </stage>
  <stage stageid="55abbc49-1e5f-4591-9343-584bbca0241b" name="Rolle fundet?" type="Decision">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit />
    <display x="15" y="90" />
    <decision expression="[Antal] = 1" />
    <ontrue>ac26e590-0c50-4881-89c8-eb96f01d3ad3</ontrue>
    <onfalse>a2427aef-f7cd-4d3f-b14e-ae705753d6e5</onfalse>
  </stage>
  <stage stageid="ce7d189c-552f-4822-bced-47c9a4164be8" name="Rollenavn" type="Data">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit />
    <display x="-195" y="285" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="0861abf4-c7ac-45c2-88d2-ac5a265c2fd0" name="Rolle" type="Collection">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <display x="-195" y="240" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="ac26e590-0c50-4881-89c8-eb96f01d3ad3" name="Sæt rollenavn" type="Calculation">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit />
    <display x="15" y="135" />
    <onsuccess>637fd3a4-af26-42c4-8ece-cc996227644e</onsuccess>
    <calculation expression="[Rolle.Engelsk titel]" stage="Rollenavn" />
  </stage>
  <stage stageid="a2427aef-f7cd-4d3f-b14e-ae705753d6e5" name="Sæt ikke succes" type="Calculation">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit />
    <display x="195" y="90" />
    <onsuccess>b094feea-6fd5-466c-ae35-c443ea69ec63</onsuccess>
    <calculation expression="False" stage="Succes" />
  </stage>
  <stage stageid="b094feea-6fd5-466c-ae35-c443ea69ec63" name="End5" type="End">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit />
    <display x="285" y="90" />
    <outputs>
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="14c4cc8d-a87a-4b92-b60b-9739fb2ad82d" name="Sæt rolle" type="Calculation">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit />
    <display x="165" y="-135" />
    <onsuccess>993b26e2-d498-4d0d-bcca-21e3aaf5e58f</onsuccess>
    <calculation expression="&quot;læge&quot;" stage="FMK rolle" />
  </stage>
  <stage stageid="b2fe148b-3742-46fe-a8fd-74664bd063aa" name="Har allerede rolle?" type="Decision">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit />
    <display x="15" y="225" />
    <decision expression="[Rollenavn] = [FMK.fmkRole]" />
    <ontrue>062d2e93-251e-4139-a32e-fb340dfc94c2</ontrue>
    <onfalse>b24f9085-d3a6-4371-8ac9-6f0139e288d7</onfalse>
  </stage>
  <stage stageid="56d44186-706b-407c-b053-8978552616be" name="FMK" type="Collection">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <display x="-195" y="465" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="062d2e93-251e-4139-a32e-fb340dfc94c2" name="Sæt succes" type="Calculation">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit />
    <display x="195" y="225" />
    <onsuccess>87d9691f-ff97-4690-b171-2c4fe2f20a67</onsuccess>
    <calculation expression="True" stage="Succes" />
  </stage>
  <stage stageid="87d9691f-ff97-4690-b171-2c4fe2f20a67" name="End6" type="End">
    <subsheetid>c5c1ae69-07d5-4a26-adb3-07a2ad170527</subsheetid>
    <loginhibit />
    <display x="285" y="225" />
    <outputs>
      <output type="flag" name="Succes" stage="Succes" />
    </outputs>
  </stage>
  <stage stageid="32e486e3-8bb2-46ac-bd5b-97b77db5aade" name="Tæller" type="Data">
    <subsheetid>33d259f7-cb45-4401-b725-01d2ac0cb72b</subsheetid>
    <loginhibit />
    <display x="-195" y="165" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue>0</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="ce4cf89c-a673-4ff8-890f-f124423fe493" name="Tæller + 1" type="Calculation">
    <subsheetid>33d259f7-cb45-4401-b725-01d2ac0cb72b</subsheetid>
    <loginhibit />
    <display x="120" y="15" />
    <onsuccess>eb05f805-ffa4-4e5f-b88d-ac9a669d06d1</onsuccess>
    <calculation expression="[Tæller] + 1" stage="Tæller" />
  </stage>
  <stage stageid="eb05f805-ffa4-4e5f-b88d-ac9a669d06d1" name="Er tæller mindre end 4?" type="Decision">
    <subsheetid>33d259f7-cb45-4401-b725-01d2ac0cb72b</subsheetid>
    <loginhibit />
    <display x="120" y="-30" />
    <decision expression="[Tæller] &lt; 4" />
    <ontrue>0745d735-6f41-45ea-a08e-12340f20f157</ontrue>
    <onfalse>4d0bf7cf-26ba-46ed-a71e-4c11cf8b4f19</onfalse>
  </stage>
  <stage stageid="4d0bf7cf-26ba-46ed-a71e-4c11cf8b4f19" name="Ingen &quot;organizations&quot;" type="Exception">
    <subsheetid>33d259f7-cb45-4401-b725-01d2ac0cb72b</subsheetid>
    <display x="225" y="-30" />
    <exception localized="yes" type="Business Exception" detail="&quot;Kunne ikke finde brugerens 'organizations'&quot;" />
  </stage>
</process>