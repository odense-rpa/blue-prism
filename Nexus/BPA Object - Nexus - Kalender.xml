<process name="Nexus - Kalender" version="1.0" bpversion="7.3.0.9110" narrative="" byrefcollection="true" processrunningmessage="" disableversioning="false" type="object" runmode="Exclusive" preferredid="baafa6c4-f2cf-4fdf-945a-a49539953c12">
  <appdef>
    <element name="Application Root">
      <id>0eb30d0c-e0a0-4988-bf7a-71274be5fde7</id>
      <type>Application</type>
      <basetype>Application</basetype>
      <datatype>unknown</datatype>
      <diagnose>False</diagnose>
    </element>
  </appdef>
  <view>
    <camerax>298</camerax>
    <cameray>0</cameray>
    <zoom version="2">1.25</zoom>
  </view>
  <preconditions />
  <endpoint narrative="" />
  <subsheet subsheetid="fdd1a68f-da2f-46b7-8695-88f2d15a4c37" type="CleanUp" published="True">
    <name>Clean Up</name>
    <view>
      <camerax>0</camerax>
      <cameray>0</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="65528b95-f815-4450-bfa4-2dc39542f07c" type="Normal" published="True">
    <name>Hent borgerkalender</name>
    <view>
      <camerax>193</camerax>
      <cameray>-84</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="7445d594-30d9-4ff2-9e2a-14e44dc82396" type="Normal" published="True">
    <name>Hent begivenheder</name>
    <view>
      <camerax>185</camerax>
      <cameray>106</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="0e0833e1-0bb7-4e37-93b2-98879256ea0c" type="Normal" published="True">
    <name>Hent planlægningskalenderreferencer</name>
    <view>
      <camerax>298</camerax>
      <cameray>142</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="13bea468-9d5f-4590-aadb-4b3933d85daf" type="Normal" published="True">
    <name>Find bestilling i planlægningskalender</name>
    <view>
      <camerax>-30</camerax>
      <cameray>147</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <stage stageid="b985e8e5-8c3e-4484-9753-8ec1bf658511" name="Start" type="Start">
    <loginhibit />
    <display x="0" y="-135" />
    <onsuccess>3677a740-3a9a-4201-977d-34040364221a</onsuccess>
  </stage>
  <stage stageid="3677a740-3a9a-4201-977d-34040364221a" name="End" type="End">
    <loginhibit />
    <display x="0" y="60" />
  </stage>
  <stage stageid="28312d98-fd6d-4a4b-b897-387d4d9b6c44" name="Stage1" type="ProcessInfo">
    <display x="-195" y="-105" w="150" h="90" />
    <references>
      <reference>System.dll</reference>
      <reference>System.Data.dll</reference>
      <reference>System.Xml.dll</reference>
      <reference>System.Drawing.dll</reference>
      <reference>Newtonsoft.Json.dll</reference>
      <reference>System.Core.dll</reference>
    </references>
    <imports>
      <import>System</import>
      <import>System.Drawing</import>
      <import>System.Data</import>
      <import>System.Text</import>
      <import>Newtonsoft.Json.Linq</import>
      <import>System.Collections.Generic</import>
      <import>Newtonsoft.Json</import>
      <import>System.Linq</import>
    </imports>
    <language>csharp</language>
    <globalcode><![CDATA[]]></globalcode>
    <code><![CDATA[public IEnumerable<JToken> All(JToken token, Func<JToken, bool> condition, string nodeName = "children")
{
	List<JToken> result = new List<JToken>();

	Traverse(token, (element) =>
	 {
		 if (condition(element))
			 result.Add(element);
	 },nodeName);

	return result;
}


public delegate void TraverseCallback(JToken token);

public void Traverse(JToken root, TraverseCallback callback, string nodeName = "children")
{
	callback(root);

	if (root[nodeName] != null)
	{
		foreach (var token in root[nodeName] as JArray)
			Traverse(token, callback,nodeName);
	}
}
]]></code>
  </stage>
  <stage stageid="58b3beab-cdd7-4f11-9435-6f15d5d5f54b" name="Clean Up" type="SubSheetInfo">
    <subsheetid>fdd1a68f-da2f-46b7-8695-88f2d15a4c37</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="bc98b8d8-3d7a-40d6-bacb-27ef9e8023b6" name="Start" type="Start">
    <subsheetid>fdd1a68f-da2f-46b7-8695-88f2d15a4c37</subsheetid>
    <loginhibit />
    <display x="15" y="-105" />
    <onsuccess>15310e7e-4db7-459f-94d3-772966f66e04</onsuccess>
  </stage>
  <stage stageid="15310e7e-4db7-459f-94d3-772966f66e04" name="End" type="End">
    <subsheetid>fdd1a68f-da2f-46b7-8695-88f2d15a4c37</subsheetid>
    <loginhibit />
    <display x="15" y="90" />
  </stage>
  <stage stageid="4ede336c-9656-4b6c-bff7-b851785afd28" name="Hent borgerkalender" type="SubSheetInfo">
    <subsheetid>65528b95-f815-4450-bfa4-2dc39542f07c</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="3e976577-8f54-40fb-be49-70a1fcffba1e" name="Start" type="Start">
    <subsheetid>65528b95-f815-4450-bfa4-2dc39542f07c</subsheetid>
    <loginhibit />
    <display x="0" y="-135" />
    <inputs>
      <input type="collection" name="Borger" stage="Borger" />
      <input type="text" name="Kalendernavn" narrative="Hvilken kalender ønskes hentet, default er &quot;Borgerkalender&quot;" stage="Kalendernavn" />
    </inputs>
    <onsuccess>23ba790a-336b-461d-a4a3-60c995f25f86</onsuccess>
  </stage>
  <stage stageid="7a169739-8b0f-4ec3-a4af-170612915059" name="End" type="End">
    <subsheetid>65528b95-f815-4450-bfa4-2dc39542f07c</subsheetid>
    <loginhibit />
    <display x="0" y="135" />
    <outputs>
      <output type="collection" name="Kalender" stage="Kalender" />
    </outputs>
  </stage>
  <stage stageid="7804135d-6fdc-4ecd-97d6-43973ee88000" name="" type="Note">
    <subsheetid>fdd1a68f-da2f-46b7-8695-88f2d15a4c37</subsheetid>
    <narrative>Clean Up Page

This is an optional page where you might choose to perform some finalisation (or "cleanup") tasks as your business object is closed down.

The cleanup action will be called automatically immediately after closing your business object at the end of a business process.

You will not be able to call this action from a business process, nor will it be called at any other time than before the disposal of the business object.</narrative>
    <display x="-180" y="60" w="180" h="230" />
  </stage>
  <stage stageid="041dfd35-903b-45c9-b790-a7edfe74ae6d" name="Input" type="Block">
    <display x="-270" y="-45" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="d15285e7-452c-41e9-b41a-dcf989bf1329" name="Variabler" type="Block">
    <display x="-270" y="75" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="7fdf6b2e-c879-4c3c-a0f0-68ee5887d72d" name="Konstanter" type="Block">
    <display x="-270" y="15" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="326ef468-5613-4687-8a4d-17a54ce944cf" name="Output" type="Block">
    <display x="-270" y="135" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="1e4b093d-3293-4cf4-a682-9ed333de3a97" name="Input" type="Block">
    <subsheetid>65528b95-f815-4450-bfa4-2dc39542f07c</subsheetid>
    <display x="-270" y="-45" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="12274e31-6f47-4d30-9330-b9d71f1de76c" name="Variabler" type="Block">
    <subsheetid>65528b95-f815-4450-bfa4-2dc39542f07c</subsheetid>
    <display x="-270" y="135" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="99de5eb2-fcfd-4f80-8b76-57bf2f3a47a9" name="Konstanter" type="Block">
    <subsheetid>65528b95-f815-4450-bfa4-2dc39542f07c</subsheetid>
    <display x="-270" y="75" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="1e261f45-62a9-423e-bfeb-765b52018939" name="Output" type="Block">
    <subsheetid>65528b95-f815-4450-bfa4-2dc39542f07c</subsheetid>
    <display x="-270" y="255" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="f92b475e-33f7-4c80-b032-ca80daa04db4" name="Kalendernavn" type="Data">
    <subsheetid>65528b95-f815-4450-bfa4-2dc39542f07c</subsheetid>
    <display x="-195" y="30" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">Borgerkalender</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="e3970a97-0911-4091-aa6c-b41bc893fc3f" name="Borger" type="Collection">
    <subsheetid>65528b95-f815-4450-bfa4-2dc39542f07c</subsheetid>
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="b09605c2-a696-4c31-af77-79bbe70762b3" name="Nexus - Borgere og forløb::Hent borgers præferencer" type="Action">
    <subsheetid>65528b95-f815-4450-bfa4-2dc39542f07c</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-60" />
    <inputs>
      <input type="collection" name="Borger" friendlyname="Borger" expr="[Borger]" />
    </inputs>
    <outputs>
      <output type="collection" name="Præferencer" friendlyname="Præferencer" stage="Præferencer" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
    </outputs>
    <onsuccess>0ceff882-8a98-4695-8a6d-3c0977a37a77</onsuccess>
    <resource object="Nexus - Borgere og forløb" action="Hent borgers præferencer" />
  </stage>
  <stage stageid="f08882dc-5526-4429-86a8-6317f8ceb608" name="Start Nexus" type="Action">
    <subsheetid>65528b95-f815-4450-bfa4-2dc39542f07c</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="90" y="-225" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - Produktion&quot;" />
    </inputs>
    <onsuccess>2c7618c7-fafa-48a0-a729-dc14ced7ac97</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="2c7618c7-fafa-48a0-a729-dc14ced7ac97" name="Hent borger" type="Action">
    <subsheetid>65528b95-f815-4450-bfa4-2dc39542f07c</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="90" y="-180" />
    <inputs>
      <input type="text" name="Cpr" friendlyname="Cpr" expr="&quot;xxxxxxxxxx&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Borger" friendlyname="Borger" stage="Borger" />
    </outputs>
    <onsuccess>a11dfd90-1f5b-469b-b112-e90088935df1</onsuccess>
    <resource object="Nexus - Borgere og forløb" action="Hent borger" />
  </stage>
  <stage stageid="0ceff882-8a98-4695-8a6d-3c0977a37a77" name="Vælg kalender" type="Action">
    <subsheetid>65528b95-f815-4450-bfa4-2dc39542f07c</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-15" />
    <inputs>
      <input type="collection" name="Collection In" friendlyname="Collection In" narrative="Input collection" expr="[Præferencer.CITIZEN_CALENDAR]" />
      <input type="text" name="Filter" friendlyname="Filter" narrative="The filter to apply" expr="&quot;[name]='&quot; &amp; [Kalendernavn] &amp; &quot;'&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The amount of rows in the filtered collection" stage="Antal" />
      <output type="collection" name="Collection Out" friendlyname="Collection Out" narrative="The filtered collection" stage="Kalender" />
    </outputs>
    <onsuccess>a681afb5-da8a-4dde-b7f8-4937e2b7203c</onsuccess>
    <resource object="Utility - Odk Linq" action="Filter" />
  </stage>
  <stage stageid="ae2e3e63-6ceb-4a75-ab5b-8bc328d610da" name="Hent detaljeret kalender" type="Action">
    <subsheetid>65528b95-f815-4450-bfa4-2dc39542f07c</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="75" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Kalender._links.self]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Kalender" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>7a169739-8b0f-4ec3-a4af-170612915059</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="23ba790a-336b-461d-a4a3-60c995f25f86" name="Anchor1" type="Anchor">
    <subsheetid>65528b95-f815-4450-bfa4-2dc39542f07c</subsheetid>
    <loginhibit />
    <display x="0" y="-105" w="10" h="10" />
    <onsuccess>b09605c2-a696-4c31-af77-79bbe70762b3</onsuccess>
  </stage>
  <stage stageid="a11dfd90-1f5b-469b-b112-e90088935df1" name="Anchor2" type="Anchor">
    <subsheetid>65528b95-f815-4450-bfa4-2dc39542f07c</subsheetid>
    <loginhibit />
    <display x="90" y="-105" w="10" h="10" />
    <onsuccess>23ba790a-336b-461d-a4a3-60c995f25f86</onsuccess>
  </stage>
  <stage stageid="7d375dd1-d118-401f-9cf7-79985cd25a90" name="Præferencer" type="Collection">
    <subsheetid>65528b95-f815-4450-bfa4-2dc39542f07c</subsheetid>
    <display x="-195" y="165" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="cc726b98-55c3-4d06-b55d-3e8e87357a98" name="Antal" type="Data">
    <subsheetid>65528b95-f815-4450-bfa4-2dc39542f07c</subsheetid>
    <display x="-195" y="210" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="7567e616-8f95-47da-aa54-852f5a72a50a" name="Kalender" type="Collection">
    <subsheetid>65528b95-f815-4450-bfa4-2dc39542f07c</subsheetid>
    <display x="-195" y="285" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="a681afb5-da8a-4dde-b7f8-4937e2b7203c" name="Har vi kalender?" type="Decision">
    <subsheetid>65528b95-f815-4450-bfa4-2dc39542f07c</subsheetid>
    <loginhibit />
    <display x="0" y="30" />
    <decision expression="[Antal] = 1" />
    <ontrue>ae2e3e63-6ceb-4a75-ab5b-8bc328d610da</ontrue>
    <onfalse>996bc9f6-3950-498f-9a44-71b118a74ba4</onfalse>
  </stage>
  <stage stageid="996bc9f6-3950-498f-9a44-71b118a74ba4" name="Exception1" type="Exception">
    <subsheetid>65528b95-f815-4450-bfa4-2dc39542f07c</subsheetid>
    <display x="120" y="30" />
    <exception localized="yes" type="Invalid Input Parameter" detail="&quot;Kalendernavnet var ugyldigt&quot;" />
  </stage>
  <stage stageid="4d3ad54c-5ab7-4809-bd8a-8d7d14773bf6" name="Hent kalender" type="Block">
    <subsheetid>65528b95-f815-4450-bfa4-2dc39542f07c</subsheetid>
    <loginhibit />
    <display x="-75" y="-90" w="150" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="834278e2-8b97-4fd1-9217-df75ef20d7f1" name="Debug" type="Block">
    <subsheetid>65528b95-f815-4450-bfa4-2dc39542f07c</subsheetid>
    <loginhibit />
    <display x="45" y="-255" w="105" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
  </stage>
  <stage stageid="a47f06a1-476a-4913-bd90-66e865ee584a" name="Hent begivenheder" type="SubSheetInfo">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="d0617371-77c5-4efd-b7f7-39c6d4e77533" name="Start" type="Start">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <loginhibit />
    <display x="0" y="-135" />
    <inputs>
      <input type="collection" name="Kalender" narrative="En nexus kalender" stage="Kalender" />
      <input type="date" name="Fra" stage="Fra" />
      <input type="date" name="Til" stage="Til" />
    </inputs>
    <onsuccess>7cd7ec32-5061-450e-8413-c8f0bda568f2</onsuccess>
  </stage>
  <stage stageid="36188108-cb79-4d92-9f5d-9f91a22059c0" name="End" type="End">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <loginhibit />
    <display x="0" y="150" />
    <outputs>
      <output type="collection" name="Begivenheder" stage="Begivenheder" />
      <output type="number" name="Antal" stage="Antal" />
    </outputs>
  </stage>
  <stage stageid="242e2484-61eb-4ad3-9b8e-f07ab56f24f2" name="Input" type="Block">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <display x="-270" y="-45" w="150" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="0e550972-3dbe-4c06-b1b7-011547e20094" name="Variabler" type="Block">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <display x="-270" y="180" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="820de49c-1d84-4346-990b-2b0c4456fbf2" name="Konstanter" type="Block">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <display x="-270" y="120" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="69b1815e-ac3e-426b-85fd-d8686ebda555" name="Output" type="Block">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <display x="-270" y="255" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="19160de7-3154-477a-9085-1d813c9d5b3a" name="Start Nexus" type="Action">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="105" y="-270" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - Produktion&quot;" />
    </inputs>
    <onsuccess>b032c4c5-6c55-487b-abd8-595bde265047</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="b032c4c5-6c55-487b-abd8-595bde265047" name="Hent borger" type="Action">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="105" y="-225" />
    <inputs>
      <input type="text" name="Cpr" friendlyname="Cpr" expr="&quot;xxxxxxxxxx&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Borger" friendlyname="Borger" stage="Borger" />
    </outputs>
    <onsuccess>5921473c-cad0-498e-a377-6f58128f6e59</onsuccess>
    <resource object="Nexus - Borgere og forløb" action="Hent borger" />
  </stage>
  <stage stageid="7cd7ec32-5061-450e-8413-c8f0bda568f2" name="Anchor1" type="Anchor">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <loginhibit />
    <display x="0" y="-90" w="10" h="10" />
    <onsuccess>fab8078a-b6c5-42c7-9a3c-18517a37d002</onsuccess>
  </stage>
  <stage stageid="8ff902e5-07ca-4135-8504-8199c4d52992" name="Anchor2" type="Anchor">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <loginhibit />
    <display x="105" y="-90" w="10" h="10" />
    <onsuccess>7cd7ec32-5061-450e-8413-c8f0bda568f2</onsuccess>
  </stage>
  <stage stageid="d1d45cc3-c34e-4a3d-8250-a7c073169553" name="Antal" type="Data">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <display x="-195" y="330" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue>0</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="e1ba5b39-aba8-41b0-bfee-f08451ef0403" name="Kalender" type="Collection">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="75ac1bec-229f-4674-95ea-d678d76de13b" name="Fejl i kalender" type="Exception">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <display x="120" y="0" />
    <exception localized="yes" type="Business Exception" detail="&quot;Fejl under hentning af kalender&quot;" />
  </stage>
  <stage stageid="f5c31207-c786-468b-b445-db77a6f73677" name="Hent begivenheder" type="Block">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <loginhibit />
    <display x="-75" y="-75" w="150" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="99c75359-92bc-4f74-82f7-0accf5a1721c" name="Debug" type="Block">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <loginhibit />
    <display x="60" y="-300" w="165" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
  </stage>
  <stage stageid="5921473c-cad0-498e-a377-6f58128f6e59" name="Hent borgerkalender" type="SubSheet">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <loginhibit />
    <display x="105" y="-180" />
    <inputs>
      <input type="collection" name="Borger" friendlyname="Borger" expr="[Borger]" />
      <input type="text" name="Kalendernavn" friendlyname="Kalendernavn" narrative="Hvilken kalender ønskes hentet, default er &quot;Borgerkalender&quot;" expr="" />
    </inputs>
    <outputs>
      <output type="collection" name="Kalender" friendlyname="Kalender" stage="Kalender" />
    </outputs>
    <onsuccess>403c222d-fc3d-47fd-a17d-f4a2a2204900</onsuccess>
    <processid>65528b95-f815-4450-bfa4-2dc39542f07c</processid>
  </stage>
  <stage stageid="cae31e4e-2639-4d9b-b025-11588601519f" name="Borger" type="Collection">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <loginhibit />
    <display x="180" y="-270" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="fab8078a-b6c5-42c7-9a3c-18517a37d002" name="Hent begivenheder" type="Action">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-45" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Kalender._links.events] &amp; &quot;?from=&quot; &amp; FormatDateTime([Fra], &quot;yyyy-MM-ddT00:00:00.000Z&quot;)&#xA;&amp; &quot;&amp;to=&quot; &amp; FormatDateTime([Til], &quot;yyyy-MM-ddT00:00:00.000Z&quot;)&#xA;&#xA;" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Begivenheder" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="Statuskode" />
    </outputs>
    <onsuccess>28566460-5c00-461d-abf2-26bd66abaa77</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="d6c08604-9c31-4435-8c95-66be49289b0b" name="Begivenheder" type="Collection">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <display x="-195" y="285" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="c4368155-8080-44e1-86d0-b83e8ee16cfe" name="Statuskode" type="Data">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <display x="-195" y="210" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="41e54d01-7434-47dc-92c3-8104154ae569" name="Hent begivenheder" type="Calculation">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <loginhibit />
    <display x="0" y="45" />
    <onsuccess>98e816dc-3b35-48ba-9469-9113f8132ad8</onsuccess>
    <calculation expression="[Begivenheder.eventResources]" stage="Begivenheder" />
  </stage>
  <stage stageid="28566460-5c00-461d-abf2-26bd66abaa77" name="Alt ok?" type="Decision">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <loginhibit />
    <display x="0" y="0" />
    <decision expression="[Statuskode] = 200" />
    <ontrue>41e54d01-7434-47dc-92c3-8104154ae569</ontrue>
    <onfalse>75ac1bec-229f-4674-95ea-d678d76de13b</onfalse>
  </stage>
  <stage stageid="98e816dc-3b35-48ba-9469-9113f8132ad8" name="Tæl begivenheder" type="Action">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="90" />
    <inputs>
      <input type="text" name="Collection Name" friendlyname="Collection Name" narrative="The name of the collection to act upon" expr="&quot;Begivenheder&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The number of rows counted in the collection" stage="Antal" />
    </outputs>
    <onsuccess>36188108-cb79-4d92-9f5d-9f91a22059c0</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Count Rows" />
  </stage>
  <stage stageid="171977f9-de59-4e3b-9283-243c64ddc275" name="Note1" type="Note">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <loginhibit />
    <narrative>I den gamle så vi JSON:Array. Dette kunne teoretisk stadig ske, men burde ikke.</narrative>
    <display x="120" y="165" w="120" h="60" />
  </stage>
  <stage stageid="8a9f914b-fc6e-4928-981d-a4944a5c7890" name="Fra" type="Data">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <display x="-195" y="30" w="120" h="30" />
    <datatype>date</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="5de83713-239c-4442-934f-35c28deaf022" name="Til" type="Data">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <display x="-195" y="75" w="120" h="30" />
    <datatype>date</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="403c222d-fc3d-47fd-a17d-f4a2a2204900" name="Sæt fra/til" type="MultipleCalculation">
    <subsheetid>7445d594-30d9-4ff2-9e2a-14e44dc82396</subsheetid>
    <loginhibit />
    <display x="105" y="-135" />
    <onsuccess>8ff902e5-07ca-4135-8504-8199c4d52992</onsuccess>
    <steps>
      <calculation expression="Today()" stage="Fra" />
      <calculation expression="AddDays(Today(),100)" stage="Til" />
    </steps>
  </stage>
  <stage stageid="826ed78a-f0f2-441e-950f-f5e3ebad1793" name="Hent planlægningskalenderreferencer" type="SubSheetInfo">
    <subsheetid>0e0833e1-0bb7-4e37-93b2-98879256ea0c</subsheetid>
    <display x="-195" y="-90" w="150" h="90" />
  </stage>
  <stage stageid="c4344ff8-2a30-4ef5-945c-16da82d7a391" name="Start" type="Start">
    <subsheetid>0e0833e1-0bb7-4e37-93b2-98879256ea0c</subsheetid>
    <loginhibit />
    <display x="0" y="-120" />
    <inputs>
      <input type="collection" name="Organisation" narrative="Hvilken organisation tilhører kalenderen" stage="Organisation" />
    </inputs>
    <onsuccess>dbd68fd8-a48b-49fc-a032-81c4d35d6918</onsuccess>
  </stage>
  <stage stageid="06ccc001-4109-488c-a078-b9df5ee064b8" name="End" type="End">
    <subsheetid>0e0833e1-0bb7-4e37-93b2-98879256ea0c</subsheetid>
    <loginhibit />
    <display x="0" y="135" />
    <outputs>
      <output type="collection" name="Kalendere" narrative="Kalendre tilhørende organisationen" stage="Planlægningskalenderreferencer" />
      <output type="text" name="Kalendere (json)" stage="Planlægningskalendere (json)" />
      <output type="number" name="Antal" stage="Antal" />
    </outputs>
  </stage>
  <stage stageid="413fb649-b090-4dd2-9ae8-be30674dc68f" name="Input" type="Block">
    <subsheetid>0e0833e1-0bb7-4e37-93b2-98879256ea0c</subsheetid>
    <display x="-270" y="-30" w="150" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="9b2675fc-0fb6-4a1b-b535-601085676cea" name="Variabler" type="Block">
    <subsheetid>0e0833e1-0bb7-4e37-93b2-98879256ea0c</subsheetid>
    <display x="-270" y="195" w="150" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="39f2f9d6-ad04-4e1a-92dc-fcf378afaff5" name="Konstanter" type="Block">
    <subsheetid>0e0833e1-0bb7-4e37-93b2-98879256ea0c</subsheetid>
    <display x="-270" y="135" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="c906a227-25e9-4539-a24e-b830a3d43e9d" name="Output" type="Block">
    <subsheetid>0e0833e1-0bb7-4e37-93b2-98879256ea0c</subsheetid>
    <display x="-270" y="360" w="150" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="78d2beb2-6291-4c64-a536-33171c99643e" name="Start Nexus" type="Action">
    <subsheetid>0e0833e1-0bb7-4e37-93b2-98879256ea0c</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="120" y="-180" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - Produktion&quot;" />
    </inputs>
    <onsuccess>cd77418c-6899-4da4-ab7c-e5d7519f8d07</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="dbd68fd8-a48b-49fc-a032-81c4d35d6918" name="Anchor1" type="Anchor">
    <subsheetid>0e0833e1-0bb7-4e37-93b2-98879256ea0c</subsheetid>
    <loginhibit />
    <display x="0" y="-75" w="10" h="10" />
    <onsuccess>335c829a-9432-4340-b186-ce4cfb99f817</onsuccess>
  </stage>
  <stage stageid="84ba2d27-2a76-4b9c-b85f-9d02d1e5fe34" name="Anchor2" type="Anchor">
    <subsheetid>0e0833e1-0bb7-4e37-93b2-98879256ea0c</subsheetid>
    <loginhibit />
    <display x="120" y="-75" w="10" h="10" />
    <onsuccess>dbd68fd8-a48b-49fc-a032-81c4d35d6918</onsuccess>
  </stage>
  <stage stageid="87907ae9-6eca-4bd5-97cf-594215854553" name="Antal" type="Data">
    <subsheetid>0e0833e1-0bb7-4e37-93b2-98879256ea0c</subsheetid>
    <display x="-195" y="480" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue>0</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="8a4e4343-be8b-45f0-8d03-af0aa4d0dfd9" name="Hent planlægningskalendere" type="Block">
    <subsheetid>0e0833e1-0bb7-4e37-93b2-98879256ea0c</subsheetid>
    <loginhibit />
    <display x="-90" y="-60" w="180" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="97fa60e5-921d-473a-9bb0-4ff87d4032b6" name="Debug" type="Block">
    <subsheetid>0e0833e1-0bb7-4e37-93b2-98879256ea0c</subsheetid>
    <loginhibit />
    <display x="75" y="-210" w="90" h="120" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
  </stage>
  <stage stageid="3938c78a-a021-42a5-807b-f9bd61428148" name="Statuskode" type="Data">
    <subsheetid>0e0833e1-0bb7-4e37-93b2-98879256ea0c</subsheetid>
    <display x="-195" y="225" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="cd77418c-6899-4da4-ab7c-e5d7519f8d07" name="Hent organisation" type="Action">
    <subsheetid>0e0833e1-0bb7-4e37-93b2-98879256ea0c</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="120" y="-135" />
    <inputs>
      <input type="text" name="Organisation" friendlyname="Organisation" expr="&quot;Læring og udvikling - Ældre og Sundhed&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Organisation" friendlyname="Organisation" stage="Organisation" />
    </outputs>
    <onsuccess>84ba2d27-2a76-4b9c-b85f-9d02d1e5fe34</onsuccess>
    <resource object="Nexus - Brugere og organisationer" action="Hent organisation" />
  </stage>
  <stage stageid="b0157f3f-1777-46ea-99ce-c0861ddc3654" name="Organisation" type="Collection">
    <subsheetid>0e0833e1-0bb7-4e37-93b2-98879256ea0c</subsheetid>
    <display x="-195" y="0" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="335c829a-9432-4340-b186-ce4cfb99f817" name="Hent præferencer" type="Action">
    <subsheetid>0e0833e1-0bb7-4e37-93b2-98879256ea0c</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-30" />
    <outputs>
      <output type="collection" name="Præferencer" friendlyname="Præferencer" stage="Præferencer" />
      <output type="text" name="Præferencer (json)" friendlyname="Præferencer (json)" stage="Præferencer (json)" />
    </outputs>
    <onsuccess>2f5ba5a6-90f7-4016-9516-9e78e5723aa2</onsuccess>
    <resource object="Nexus - Brugere og organisationer" action="Hent præferencer" />
  </stage>
  <stage stageid="da28475b-b57d-4756-a1d4-511053990d03" name="Præferencer" type="Collection">
    <subsheetid>0e0833e1-0bb7-4e37-93b2-98879256ea0c</subsheetid>
    <display x="-195" y="270" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="8efa97b5-c92a-4feb-87c9-e34cbea86b79" name="Præferencer (json)" type="Data">
    <subsheetid>0e0833e1-0bb7-4e37-93b2-98879256ea0c</subsheetid>
    <display x="-195" y="315" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="2f5ba5a6-90f7-4016-9516-9e78e5723aa2" name="Filtrer planlægningskalendere" type="Code">
    <subsheetid>0e0833e1-0bb7-4e37-93b2-98879256ea0c</subsheetid>
    <loginhibit />
    <display x="0" y="15" />
    <inputs>
      <input type="text" name="organisationName" expr="[Organisation.name]" />
      <input type="text" name="preferencesJson" expr="[Præferencer (json)]" />
    </inputs>
    <outputs>
      <output type="text" name="calendarJson" stage="Planlægningskalendere (json)" />
      <output type="number" name="count" stage="Antal" />
    </outputs>
    <onsuccess>7bd05a7a-4632-4a41-8914-092f5712cf6d</onsuccess>
    <code><![CDATA[var preferences = JObject.Parse(preferencesJson);
var calendars = All(preferences, a => a["organizations"] != null && a["organizations"].Any(b => b["name"].ToString() == organisationName), "CROSS_CITIZEN_CALENDAR");

calendarJson = JsonConvert.SerializeObject(calendars, Formatting.Indented);
count = calendars.Count();]]></code>
  </stage>
  <stage stageid="813040ba-67f1-4a61-ac98-12f725b8872a" name="Planlægningskalenderreferencer" type="Collection">
    <subsheetid>0e0833e1-0bb7-4e37-93b2-98879256ea0c</subsheetid>
    <display x="-195" y="435" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="e5f9cf0f-1af2-4765-b025-419e6ba43df4" name="Planlægningskalendere (json)" type="Data">
    <subsheetid>0e0833e1-0bb7-4e37-93b2-98879256ea0c</subsheetid>
    <display x="-195" y="390" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="7bd05a7a-4632-4a41-8914-092f5712cf6d" name="Parse JSON" type="Action">
    <subsheetid>0e0833e1-0bb7-4e37-93b2-98879256ea0c</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="60" />
    <inputs>
      <input type="text" name="Json" friendlyname="Json" expr="[Planlægningskalendere (json)]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Planlægningskalenderreferencer" />
    </outputs>
    <onsuccess>06ccc001-4109-488c-a078-b9df5ee064b8</onsuccess>
    <resource object="Nexus - Core" action="Json to collection" />
  </stage>
  <stage stageid="ebae7e70-d874-4db0-af23-bfe858ae36cc" name="Find bestilling i planlægningskalender" type="SubSheetInfo">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="0c6bcf20-e518-4b51-93f2-8c37bf24040a" name="Start" type="Start">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="0" y="-135" />
    <inputs>
      <input type="collection" name="Indsats" stage="Indsats" />
      <input type="collection" name="Planlægningskalender" stage="Kalender" />
    </inputs>
    <onsuccess>c16a1f38-796a-4c73-9772-c232753229c2</onsuccess>
  </stage>
  <stage stageid="cb257f5c-738e-4860-a444-a2d23c49a74e" name="Bestillinger" type="Collection">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <display x="-195" y="390" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="27c5f009-e7ce-4379-b4db-f186ddd7c6fd" name="Input" type="Block">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <display x="-270" y="-45" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="d79c19cd-e6f2-4a83-9231-651c275c1189" name="Variabler" type="Block">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <display x="-270" y="135" w="150" h="375" />
    <font family="Segoe UI" size="10" style="Regular" color="666699" />
  </stage>
  <stage stageid="bfddfb86-11cc-41a8-a47d-0911498d863d" name="Konstanter" type="Block">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <display x="-270" y="75" w="150" h="45" />
    <font family="Segoe UI" size="10" style="Regular" color="008080" />
  </stage>
  <stage stageid="6f22be2b-4c4a-499e-a011-ae7663f00a74" name="Output" type="Block">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <display x="-270" y="525" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="800080" />
  </stage>
  <stage stageid="111826ce-7b06-4ed2-8cdc-8be7c2fe7abf" name="Indsats" type="Collection">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="c16a1f38-796a-4c73-9772-c232753229c2" name="Er vi en reference?" type="Action">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-75" />
    <inputs>
      <input type="collection" name="Input Collection" friendlyname="Input Collection" narrative="The collection to check." expr="[Indsats._links]" />
      <input type="text" name="Field" friendlyname="Field" narrative="The field to check for." expr="&quot;referencedObject&quot;" />
    </inputs>
    <outputs>
      <output type="flag" name="Exists" friendlyname="Exists" narrative="True if the collection contains the field." stage="Succes" />
    </outputs>
    <onsuccess>34e41beb-5113-40e1-b467-c518cab1a3e2</onsuccess>
    <resource object="Utility - Collection Manipulation" action="Field Exists" />
  </stage>
  <stage stageid="34e41beb-5113-40e1-b467-c518cab1a3e2" name="Vi er en reference?" type="Decision">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="0" y="-30" />
    <decision expression="[Succes]" />
    <ontrue>56483e68-925f-41a5-9425-e6270767138f</ontrue>
    <onfalse>8767eb54-e62d-4d8f-8a90-c1e889e7f3a3</onfalse>
  </stage>
  <stage stageid="56483e68-925f-41a5-9425-e6270767138f" name="Hent indsats" type="Action">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="90" y="-30" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Indsats._links.referencedObject]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Indsats" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>5c77ef05-b53d-4650-a005-47d97349a9d0</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="8767eb54-e62d-4d8f-8a90-c1e889e7f3a3" name="Anchor6" type="Anchor">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="0" y="15" w="10" h="10" />
    <onsuccess>a97c1477-1a58-47cf-8915-b2dc1c69e48b</onsuccess>
  </stage>
  <stage stageid="5c77ef05-b53d-4650-a005-47d97349a9d0" name="Anchor7" type="Anchor">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="90" y="15" w="10" h="10" />
    <onsuccess>8767eb54-e62d-4d8f-8a90-c1e889e7f3a3</onsuccess>
  </stage>
  <stage stageid="2bcc9df0-6202-4fed-871d-c5f6c7062171" name="Håndter indsatsreference" type="Block">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="-90" y="-105" w="240" h="135" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="d5bc0a25-7eee-44ba-aef1-fd1994353418" name="Håndter mulig kalenderreference" type="Block">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="-90" y="45" w="240" h="75" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="281351b3-fd4d-41ce-853a-5332ad998839" name="Succes" type="Data">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <display x="-195" y="210" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="a97c1477-1a58-47cf-8915-b2dc1c69e48b" name="Hent kalender" type="Action">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="90" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Kalender._links.self]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Kalender" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="Kalender (json)" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>09001ec7-781d-4cfd-b70f-4b62b102c3ac</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="09001ec7-781d-4cfd-b70f-4b62b102c3ac" name="Hent bestillingssider" type="Action">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="165" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Kalender._links.orderGrants]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Bestillingssider" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>ff8f5698-24cc-457b-ac15-0a734a1a9695</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="76633964-e3fa-487b-b638-9276363e0d3d" name="Find bestilling" type="Block">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="-90" y="135" w="240" h="705" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="a8897061-2b8e-4572-b6fd-8551a508971d" name="Bestillingssider" type="Collection">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <display x="-195" y="255" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="06ffaf62-7bd2-446b-9305-2d2c4233c922" name="Hent bestillinger" type="Action">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="300" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="[Bestillingssider._links.orderGrants]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Borgere med bestillinger" />
      <output type="number" name="Antal" friendlyname="Antal" stage="Antal" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="Borgere med bestillinger (json)" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>a2096a6c-c0ad-40ca-9d51-d44a2692280c</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="bab36c8a-5466-4296-8edc-3cbbdbfac2e9" name="Loop sider" type="LoopStart">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="0" y="255" />
    <onsuccess>06ffaf62-7bd2-446b-9305-2d2c4233c922</onsuccess>
    <groupid>3fb530c8-284c-49f2-adee-ff856a5a7c0b</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Bestillingssider</loopdata>
  </stage>
  <stage stageid="45e8e110-4cd6-4873-b746-1131aa0f3491" name="Loop sider" type="LoopEnd">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="0" y="765" />
    <onsuccess>07ae55a8-a9ff-45e3-bfdf-a28293db33d8</onsuccess>
    <groupid>3fb530c8-284c-49f2-adee-ff856a5a7c0b</groupid>
  </stage>
  <stage stageid="ff8f5698-24cc-457b-ac15-0a734a1a9695" name="Sæt sider" type="Calculation">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="0" y="210" />
    <onsuccess>bab36c8a-5466-4296-8edc-3cbbdbfac2e9</onsuccess>
    <calculation expression="[Bestillingssider.pages]" stage="Bestillingssider" />
  </stage>
  <stage stageid="3c20fbb6-13ba-4f9a-92c4-f6a4af95f583" name="Bestillinger (json)" type="Data">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <display x="-195" y="435" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="a2096a6c-c0ad-40ca-9d51-d44a2692280c" name="Filtrer bestillinger" type="Code">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="0" y="345" />
    <inputs>
      <input type="text" name="orderGrantsJson" expr="[Borgere med bestillinger (json)]" />
    </inputs>
    <outputs>
      <output type="text" name="orderGrants" stage="Bestillinger (json)" />
      <output type="number" name="count" stage="Antal" />
    </outputs>
    <onsuccess>12071b76-0785-43cb-b8f6-e94ea9dcea59</onsuccess>
    <code><![CDATA[var calendars = JArray.Parse(orderGrantsJson);
JArray result = new JArray();

foreach(JObject calendar in calendars) 
{
    var grants = All(calendar, a => a["type"].Value<string>() == "order-grant");
    
    foreach(var grant in grants)
        result.Add(grant);
}

orderGrants = result.ToString();
count = result.Count();]]></code>
  </stage>
  <stage stageid="6dab04c8-887a-4044-a69c-5c59f4498394" name="Antal" type="Data">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <display x="-195" y="600" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="4d9ca2e5-24e6-4b80-ac2e-1fad025c44ba" name="Bestilling" type="Collection">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <display x="-195" y="555" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="85612d09-9405-4008-9a0c-3f4f3502186b" name="Anchor3" type="Anchor">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="-60" y="810" w="10" h="10" />
    <onsuccess>07ae55a8-a9ff-45e3-bfdf-a28293db33d8</onsuccess>
  </stage>
  <stage stageid="27c39793-6dfb-4daf-9645-6a132e7b666a" name="Hent specifik indsats" type="Action">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="120" y="-300" />
    <inputs>
      <input type="text" name="Url" friendlyname="Url" expr="&quot;https://odensekommune.nexus.kmd.dk:443/api/core/mobile/odensekommune/v2/patientGrants/2242512&quot;" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Indsats" />
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="text" name="Json" friendlyname="Json" narrative="Det rå json output" stage="" />
      <output type="number" name="Statuskode" friendlyname="Statuskode" narrative="Http statuskoden for kaldet" stage="" />
    </outputs>
    <onsuccess>d9e741d0-991e-460a-99a5-422ed6b46fee</onsuccess>
    <resource object="Nexus - Core" action="Get" />
  </stage>
  <stage stageid="1f322a5a-31d7-4c82-87eb-e2cf7d69b3b5" name="Debug" type="Block">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="60" y="-375" w="255" h="240" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
  </stage>
  <stage stageid="e431ff0a-34c5-4fd9-9b14-69d71855106b" name="Anchor4" type="Anchor">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="120" y="-75" w="10" h="10" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF99" />
    <onsuccess>c16a1f38-796a-4c73-9772-c232753229c2</onsuccess>
  </stage>
  <stage stageid="16489d17-c931-40e5-a2ad-eb0607a476c3" name="Start Nexus" type="Action">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="120" y="-345" />
    <inputs>
      <input type="text" name="Credentials" friendlyname="Credentials" expr="&quot;KMD Nexus - Produktion&quot;" />
    </inputs>
    <onsuccess>27c39793-6dfb-4daf-9645-6a132e7b666a</onsuccess>
    <resource object="Nexus - Core" action="Start" />
  </stage>
  <stage stageid="d9e741d0-991e-460a-99a5-422ed6b46fee" name="Filtrer leverandør" type="Action">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="120" y="-255" />
    <inputs>
      <input type="collection" name="Collection In" friendlyname="Collection In" narrative="Input collection" expr="[Indsats.currentElements]" />
      <input type="text" name="Filter" friendlyname="Filter" narrative="The filter to apply" expr="&quot;[type] = 'supplier'&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The amount of rows in the filtered collection" stage="" />
      <output type="collection" name="Collection Out" friendlyname="Collection Out" narrative="The filtered collection" stage="Leverandør" />
    </outputs>
    <onsuccess>b371b2f2-e94d-4694-b739-c785f7a0ba43</onsuccess>
    <resource object="Utility - Odk Linq" action="Filter" />
  </stage>
  <stage stageid="5c5d86e5-3cf7-467d-af14-bd471d94d833" name="Leverandør" type="Collection">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <display x="195" y="-255" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="b371b2f2-e94d-4694-b739-c785f7a0ba43" name="Hent organisation" type="Action">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="120" y="-210" />
    <inputs>
      <input type="text" name="Organisation" friendlyname="Organisation" expr="[Leverandør.supplier.organization]" />
    </inputs>
    <outputs>
      <output type="collection" name="Organisation" friendlyname="Organisation" stage="Organisation" />
    </outputs>
    <onsuccess>6050e17a-f0db-4cb4-9d99-247b4a00ae5d</onsuccess>
    <resource object="Nexus - Brugere og organisationer" action="Hent organisation" />
  </stage>
  <stage stageid="0da6db13-18fd-41a1-a492-af5ea899db1b" name="Organisation" type="Collection">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <display x="195" y="-210" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="01305bfc-ab2c-410f-bf31-c97ff0add5a2" name="Kalender" type="Collection">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <display x="-195" y="30" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="75db0e58-c362-415e-9280-cd54ed80f444" name="Kalender (json)" type="Data">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <display x="-195" y="165" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="6050e17a-f0db-4cb4-9d99-247b4a00ae5d" name="Hent planlægningskalenderreferencer" type="Action">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="120" y="-165" />
    <inputs>
      <input type="collection" name="Organisation" friendlyname="Organisation" narrative="Hvilken organisation tilhører kalenderen" expr="[Organisation]" />
    </inputs>
    <outputs>
      <output type="number" name="Antal" friendlyname="Antal" stage="" />
      <output type="collection" name="Kalendere" friendlyname="Kalendere" narrative="Kalendre tilhørende organisationen" stage="Kalender" />
      <output type="text" name="Kalendere (json)" friendlyname="Kalendere (json)" stage="Kalender (json)" />
    </outputs>
    <onsuccess>e431ff0a-34c5-4fd9-9b14-69d71855106b</onsuccess>
    <resource object="Nexus - Kalender" action="Hent planlægningskalenderreferencer" />
  </stage>
  <stage stageid="57f2d094-5718-4ef7-9a09-9d5de3ee3f1d" name="Parse Json" type="Action">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="435" />
    <inputs>
      <input type="text" name="Json" friendlyname="Json" expr="[Bestillinger (json)]" />
    </inputs>
    <outputs>
      <output type="collection" name="Data" friendlyname="Data" stage="Bestillinger" />
    </outputs>
    <onsuccess>7cec8695-8d60-429c-84d8-def0d462e1ed</onsuccess>
    <resource object="Nexus - Core" action="Json to collection" />
  </stage>
  <stage stageid="12071b76-0785-43cb-b8f6-e94ea9dcea59" name="Er der bestillinger?" type="Decision">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="0" y="390" />
    <decision expression="[Antal] &gt; 0" />
    <ontrue>57f2d094-5718-4ef7-9a09-9d5de3ee3f1d</ontrue>
    <onfalse>319df632-a19b-48be-ae96-b68ffd1c93ba</onfalse>
  </stage>
  <stage stageid="319df632-a19b-48be-ae96-b68ffd1c93ba" name="Anchor3" type="Anchor">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="90" y="390" w="10" h="10" />
    <onsuccess>2771ac34-e050-4661-9a93-442162021286</onsuccess>
  </stage>
  <stage stageid="2771ac34-e050-4661-9a93-442162021286" name="Anchor3" type="Anchor">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="90" y="765" w="10" h="10" />
    <onsuccess>45e8e110-4cd6-4873-b746-1131aa0f3491</onsuccess>
  </stage>
  <stage stageid="67f27a45-f7a1-4982-8bbc-4f9a418b50bf" name="Anchor3" type="Anchor">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="-60" y="645" w="10" h="10" />
    <onsuccess>85612d09-9405-4008-9a0c-3f4f3502186b</onsuccess>
  </stage>
  <stage stageid="c8ce8ce6-b8b7-467f-8d0c-ef872ebc1440" name="End" type="End">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="0" y="870" />
    <outputs>
      <output type="collection" name="Bestilling" stage="Bestilling" />
      <output type="number" name="Antal" stage="Antal" />
    </outputs>
  </stage>
  <stage stageid="07ae55a8-a9ff-45e3-bfdf-a28293db33d8" name="Tæl bestillinger" type="Action">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="810" />
    <inputs>
      <input type="text" name="Collection Name" friendlyname="Collection Name" narrative="The name of the collection to act upon" expr="&quot;Bestilling&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The number of rows counted in the collection" stage="Antal" />
    </outputs>
    <onsuccess>c8ce8ce6-b8b7-467f-8d0c-ef872ebc1440</onsuccess>
    <breakpoint type="0">
      <condition></condition>
    </breakpoint>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Count Rows" />
  </stage>
  <stage stageid="d77b6db2-f9a3-4ab7-990d-a9725b62a64b" name="Loop bestillinger" type="LoopStart">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="0" y="525" />
    <onsuccess>f37045ca-fe1e-4409-b6e3-34e2d0cbaa06</onsuccess>
    <groupid>ec2a1db3-f3ec-46b8-83a7-2837285fb05d</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Bestillinger</loopdata>
  </stage>
  <stage stageid="7c045985-1a07-4ebf-9971-ad1f2a65072a" name="Loop bestillinger" type="LoopEnd">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="0" y="720" />
    <onsuccess>45e8e110-4cd6-4873-b746-1131aa0f3491</onsuccess>
    <groupid>ec2a1db3-f3ec-46b8-83a7-2837285fb05d</groupid>
  </stage>
  <stage stageid="f37045ca-fe1e-4409-b6e3-34e2d0cbaa06" name="Bestilling fundet?" type="Decision">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="0" y="570" />
    <decision expression="EndsWith([Bestillinger._links.self], &quot;/&quot; &amp; [Indsats.currentOrderGrantId])" />
    <ontrue>ecf5de1f-3f6a-4b54-90e0-ef7c83d21c10</ontrue>
    <onfalse>85200e18-8a0a-40c3-b106-9bbaa1ac83bb</onfalse>
  </stage>
  <stage stageid="1a901a1e-d36a-4e0d-836b-15a7a60fe393" name="Anchor3" type="Anchor">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="0" y="645" w="10" h="10" />
    <onsuccess>67f27a45-f7a1-4982-8bbc-4f9a418b50bf</onsuccess>
  </stage>
  <stage stageid="85200e18-8a0a-40c3-b106-9bbaa1ac83bb" name="Anchor3" type="Anchor">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="60" y="570" w="10" h="10" />
    <onsuccess>741047f9-4918-42de-9b5a-8b8eb875554f</onsuccess>
  </stage>
  <stage stageid="741047f9-4918-42de-9b5a-8b8eb875554f" name="Anchor3" type="Anchor">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="60" y="675" w="10" h="10" />
    <onsuccess>89cb31d4-c6f4-4114-a87f-76d37d321ed1</onsuccess>
  </stage>
  <stage stageid="ecf5de1f-3f6a-4b54-90e0-ef7c83d21c10" name="Kopier bestillingsrække" type="Action">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="615" />
    <inputs>
      <input type="number" name="Start Row" friendlyname="Start Row" narrative="The row index to start copying from. The index is from 0 to N-1 (where N is the total number of rows in the collection)." expr="[Index]" />
      <input type="number" name="Number of Rows to Copy" friendlyname="Number of Rows to Copy" narrative="The number of rows to copy." expr="1" />
      <input type="collection" name="Source Collection" friendlyname="Source Collection" narrative="The collection to copy." expr="[Bestillinger]" />
    </inputs>
    <outputs>
      <output type="collection" name="Output Collection" friendlyname="Output Collection" narrative="The copied collection." stage="Bestilling" />
    </outputs>
    <onsuccess>1a901a1e-d36a-4e0d-836b-15a7a60fe393</onsuccess>
    <breakpoint type="0">
      <condition></condition>
    </breakpoint>
    <resource object="Utility - Collection Manipulation" action="Copy Rows" />
  </stage>
  <stage stageid="58440205-8ed9-4f6d-92b2-a2f6bab623d3" name="Index" type="Data">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="-195" y="480" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue>0</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="7cec8695-8d60-429c-84d8-def0d462e1ed" name="Reset index" type="Calculation">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="0" y="480" />
    <onsuccess>d77b6db2-f9a3-4ab7-990d-a9725b62a64b</onsuccess>
    <calculation expression="0" stage="Index" />
  </stage>
  <stage stageid="89cb31d4-c6f4-4114-a87f-76d37d321ed1" name="Index++" type="Calculation">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <loginhibit />
    <display x="0" y="675" />
    <onsuccess>7c045985-1a07-4ebf-9971-ad1f2a65072a</onsuccess>
    <calculation expression="[Index] + 1" stage="Index" />
  </stage>
  <stage stageid="1a75385d-9810-4b5b-90ad-f896e1ab6833" name="Borgere med bestillinger" type="Collection">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <display x="-195" y="300" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="ebe162a5-8b7b-4cb3-8ff3-312673fd45f0" name="Borgere med bestillinger (json)" type="Data">
    <subsheetid>13bea468-9d5f-4590-aadb-4b3933d85daf</subsheetid>
    <display x="-195" y="345" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
</process>